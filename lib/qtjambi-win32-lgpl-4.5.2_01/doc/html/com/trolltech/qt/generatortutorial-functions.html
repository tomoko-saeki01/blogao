<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Functions and Enums</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Functions and Enums</h1></center><p> So far, we have simply let the generator map functions automatically. However, we can also exclude functions, add new functions, and modify functions with the generator, by for instance changing parameter types, removing parameters, and altering the return type. <p>The generator knows how to modify some functions by itself. Notably, it can convert between the Qt and Java collection classes - such as QList and <tt>java.util.List</tt>. In some cases, the generator needs help to be able to port specific functions. <p>Instead of implementing an exmaple, we will select function modifications from the Qt library type systems. This will allow us to see some real life type system implementation issues. We will examine the modifications on a case by case basis. <p>You could also check out the <tt>Generator Example</tt>, which also has examples of function modifications.<a name="returning-references-to-value-types"><h2>Returning references to value types</h2> In a few cases in the Qt API, we find functions that return a reference to a value type. We will take <a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a>'s rx() as an example. This function returns a reference to the int holding the x-coordinate of the point. <p>This will result in a QNativePointer being returned from the function. It is not possible for Jambi to convert this into an int (or Integer for that matter); the <tt>int</tt> primitive cannot point to a C++ value. <p>In this case, the function will have to be removed.<a name="non-virtual-functions-with-native-pointer-arguments"><h2>Non-virtual functions with native pointer arguments</h2> The usual way to handle functions with native pointer arguments is to change the functions access to private. You then create a wrapper Java function, which calls the function you have made private. This new function takes more friendly parameters, and does type conversions before calling the private function.<a name="c-operators"><h2>C++ operators</h2> Java does not support overloading operators. The generator automatically crates a function for the operator called "opetator_%operatorname%", where operatorname is the C++ name of the operator. It might be a good idea to change the name to be more Java friendly. You do that by making the operator function private and creating a wrapper function to call the private one. <p>We take the <tt>*</tt> operator of <a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a> as an example:<a name="virtual-functions-with-native-pointers"><h2>Virtual functions with native pointers.</h2> If you have a virtual function that needs to be altered, you get a problem in that a new java function will not override the orignial C++ function in the shell class. <p>To remedy this, you can insert code into the C++ shell class, which does parameter conversion inside the<p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
