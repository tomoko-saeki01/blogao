<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Pixmap Filters Example</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Pixmap Filters Example</h1></center><p> The Pixmap Filters example uses the <a href="../../../com/trolltech/qt/gui/QPixmapFilter.html">QPixmapFilter</a>s that come with Qt to process pixmaps. <br><center><img src="images/pixmapfilter-example.png"></center><br> The abstract <a href="../../../com/trolltech/qt/gui/QPixmapFilter.html">QPixmapFilter</a> class provides an interface for implementing filters for <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a>s. Qt comes with three ready-made subclasses: <a href="../../../com/trolltech/qt/gui/QPixmapConvolutionFilter.html">QPixmapConvolutionFilter</a>, <a href="../../../com/trolltech/qt/gui/QPixmapColorizeFilter.html">QPixmapColorizeFilter</a>, and <a href="../../../com/trolltech/qt/gui/QPixmapDropShadowFilter.html">QPixmapDropShadowFilter</a>. <p>The example lets the user select a filter from the <b>Pixmap Filter</b> combo box. The left copy of the pixmap will remain unchanged, while the right will be applied to the selected filter. The effect of the filter can be customized by handling the widgets below the pixmaps. More on this later. <p>The example consists of two classes: <tt>FilterExample</tt> and <tt>FilterWidget</tt>. We will now go through the code concerning pixmap filters; it lives in the <tt>FilterWidget</tt> class.<a name="filterwidget-class-definition"><h2>FilterWidget Class Definition</h2> The <tt>FilterWidget</tt> class sets up the selected filter and draws the pixmaps on itself each time it receives a paint event. The event is triggered when any of the example's widgets change their value.<br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.h.</pre><br></pre> We will apply <tt>sourcePixmap</tt> to the filters. Since we need room for the shadow of <a href="../../../com/trolltech/qt/gui/QPixmapDropShadowFilter.html">QPixmapDropShadowFilter</a>, we draw the source on a background pixmap (the grid of squares as seen in the image above). <p>The GUI is set up using Qt Designer (check out its <a href="designer-manual.html">manual</a> if you need to beef up your designer skills). The designer form has three parent widgets, which contain the widgets necessary to customize each filter respectively.<a name="filterwidget-class-implementation"><h2>FilterWidget Class Implementation</h2> The constructor simply assigns the private variables discussed in the previous section, so we dive right into the painting code.<br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> The <tt>setupFilter()</tt> function sets up the selected filter based on the values of the widgets; we'll examine it shortly. The filter then draws the processed pixmap over the <tt>backgroundPixmap</tt>. <p>Note that <tt>resultSize</tt> is a constant value, and that the positions of the pixmaps are fixed.<br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> First, we make sure to hide the widget that customizes the previous filter (of course, chances are that it is the same as the one we will use now). We then set up the selected filter. Let's look at the code for one filter at a time.<br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br><br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> The convolution kernel is fetched from the line edits, and then set on the convolution filter. The kernel can be changed with the line edits, which are connected to the <a href="../../../com/trolltech/qt/gui/QWidget.html#update()">update()</a> slot of our <tt>FilterWidget</tt>. <br><center><img src="images/pixmapfilterexample-colorize.png"></center><br><br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> With the colorize filter, we control the shades of red, green, and blue that we want the pixmap to have. <br><center><img src="images/pixmapfilterexample-dropshadow.png"></center><br><br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> The drop shadow filter lets us change the position, color, and the edge-blur of the shadow.<br><pre class="snippet">
Missing snippet: examples/painting/pixmapfilters/filterexample.cpp.</pre><br></pre> Finally, we return the filter.<p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
