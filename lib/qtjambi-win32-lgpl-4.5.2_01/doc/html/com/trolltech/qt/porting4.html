<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Porting to Qt 4</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Porting to Qt 4</h1></center><p>[<a href="porting.html">Porting Guides</a>][Next: <a href="porting4-virtual-functions.html">Porting to Qt 4 - Virtual Functions</a>]<p>An overview of issues and techniques to consider when porting from Qt 3 to Qt 4. This document describes the process of porting applications from Qt 3 to Qt 4. If you haven't yet made the decision about porting, or are unsure about whether it is worth it, take a look at the <a href="qt4-intro.html">key features</a> offered by Qt 4. See also <a href="porting4-overview.html">Moving from Qt 3 to Qt 4</a> for tips on how to write Qt 3 code that is easy to port to Qt 4. <p><b>Other porting guides:</b> <ul><li> <a href="porting4-overview.html">Moving from Qt 3 to Qt 4</a>&mdash; covers some high level topics relevant to developers porting from Qt 3 to Qt 4.</li><li> <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a>&mdash; covers differences in the way drag and drop is handled between Qt 3 and Qt 4.</li><li> <a href="porting4-designer.html">Porting .ui Files to Qt 4</a>&mdash; describes the new format used to describe forms created with Qt Designer.</li><li> <a href="graphicsview-porting.html">Porting to Graphics View</a>&mdash; provides a class-by-class overview of the differences between Qt 3's canvas API and Qt 4's Graphics View framework.</li><li> <a href="qt3to4.html">qt3to4 - The Qt 3 to 4 Porting Tool</a>&mdash; provides an overview of a tool aimed at helping developers start the process of porting an application to Qt 4.</li></ul> The Qt 4 series is not binary compatible with the 3 series. This means programs compiled for Qt 3 must be recompiled to work with Qt 4. Qt 4 is also not completely source compatible with 3, however nearly all points of incompatibility cause compiler errors or run-time messages (rather than mysterious results). Qt 4 includes many additional features and discards obsolete functionality. Porting from Qt 3 to Qt 4 requires some effort, but once completed the considerable additional power and flexibility of Qt 4 is available for use in your applications. <p>To port code from Qt 3 to Qt 4: <ol><li> Briefly read the porting notes below to get an idea of what to expect.</li><li> Be sure that your code compiles and runs well on all your target platforms with Qt 3.</li><li> Add the line <tt>QT += qt3support</tt> to your <tt>.pro</tt> file if you use <tt>qmake</tt>; otherwise, edit your makefile or project file to link against the <a href="qt3support.html">Qt3Support</a> library and add <tt>-DQT3_SUPPORT</tt> to your compiler flags. (You might also need to specify other libraries. See <a href="qt4-intro.html">What's New in Qt 4</a> for details.)</li><li> Run the <a href="qt3to4.html">qt3to4</a> porting tool. The tool will go through your source code and adapt it to Qt 4.</li><li> Follow the instructions in the <a href="porting4-designer.html">Porting .ui Files to Qt 4</a> page to port Qt Designer files.</li><li> Recompile with Qt 4. For each error, search below for related identifiers (e.g., function names, class names). This document mentions all relevant identifiers to help you get the information you need at the cost of being a little verbose.</li></ol> The <a href="qt3to4.html">qt3to4</a> porting tool replaces occurrences of Qt 3 classes that don't exist anymore in Qt 4 with the corresponding Qt 3 support class; for example, <tt>QListBox</tt> is turned into <tt>Q3ListBox</tt>. <p>At some point, you might want to stop linking against the Qt 3 support library (<a href="qt3support.html">Qt3Support</a>) and take advantage of Qt 4's new features. The instructions below explain how to do that for each compatibility class. <p>In addition to the <a href="qt3support.html">Qt3Support</a> classes (such as <tt>Q3Action</tt>, <tt>Q3ListBox</tt>, and <tt>Q3ValueList</tt>), Qt 4 provides compatibility functions when it's possible for an old API to cohabit with the new one. For example, QString provides a QString::simplifyWhiteSpace() compatibility function that's implemented inline and that simply calls QString::simplified(). <b>The compatibility functions are not documented here; instead, they are documented for each class.</b> <p>If you have the line <tt>QT += qt3support</tt> in your <tt>.pro</tt> file, <tt>qmake</tt> will automatically define the <tt>QT3_SUPPORT</tt> symbol, turning on compatibility function support. You can also define the symbol manually (e.g., if you don't want to link against the <tt>Qt3Support</tt> library), or you can define <tt>QT3_SUPPORT_WARNINGS</tt> instead, telling the compiler to emit a warning when a compatibility function is called. (This works only with GCC 3.2+ and MSVC 7.) <p>If you get stuck, ask on the qt-interest mailing list. If you are a licensed customer, you can also contact Qt's technical support team. <p>Table of contents: <ul></ul><a name="casting-and-object-types"><h2>Casting and Object Types</h2> In Qt 3, it was possible to use the <tt>qt_cast()</tt> function to determine whether instances of <a href="../../../com/trolltech/qt/core/QObject.html">QObject</a> subclasses could be safely cast to derived types of those subclasses. For example, if a <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> instance is passed to a function whose signature specifies a <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> pointer as its argument, <tt>qt_cast()</tt> could be used to obtain a <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> pointer so that the instance's functions can be accessed. <p>In Qt 4, much of this functionality is provided by the qobject_cast() function, and additional functions also provide similar functionality for certain non-<a href="../../../com/trolltech/qt/core/QObject.html">QObject</a> types: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 function</center></th><th><center> Qt 4 function</center></th></tr></thead><tr valign="top" class="even"><td> T *qt_cast&lt;T *&gt;(<a href="../../../com/trolltech/qt/core/QObject.html">QObject</a> *)</td><td> T *qobject_cast<T *>(QObject *)</td></tr><tr valign="top" class="odd"><td></td><td> T qgraphicsitem_cast<T>(QGraphicsItem *)</td></tr><tr valign="top" class="even"><td></td><td> T qstyleoption_cast<T>(QStyleOption *)</td></tr><tr valign="top" class="odd"><td></td><td> T qvariant_cast<T>(const QVariant &)</td></tr><tr valign="top" class="even"><td></td><td> T qdbus_cast(const QDBusArgument &)</td></tr></table><a name="type-names"><h2>Type Names</h2> The table below lists the classes that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available. <p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html">qt3to4</a> tool performs the conversion automatically. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 class name</center></th><th><center> Qt 4 class name</center></th></tr></thead><tr valign="top" class="even"><td> QIconSet</td><td> <a href="../../../com/trolltech/qt/gui/QIcon.html">QIcon</a></td></tr><tr valign="top" class="odd"><td> QWMatrix</td><td> <a href="../../../com/trolltech/qt/gui/QMatrix.html">QMatrix</a></td></tr><tr valign="top" class="even"><td> QGuardedPtr</td><td> QPointer</td></tr></table> The table below lists the enums and typedefs that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available. <p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html">qt3to4</a> tool performs the conversion automatically. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 type name</center></th><th><center> Qt 4 type name</center></th></tr></thead><tr valign="top" class="even"><td> QApplication::ColorMode</td><td> <a href="../../../com/trolltech/qt/gui/QApplication.ColorSpec.html">QApplication::ColorSpec</a></td></tr><tr valign="top" class="odd"><td> QButton::ToggleState</td><td> <a href="../../../com/trolltech/qt/gui/QCheckBox.ToggleState.html">QCheckBox::ToggleState</a></td></tr><tr valign="top" class="even"><td> QCursorShape</td><td> <a href="../../../com/trolltech/qt/core/Qt.CursorShape.html">Qt::CursorShape</a></td></tr><tr valign="top" class="odd"><td> QFile::FilterSpec</td><td> QFile::Filters</td></tr><tr valign="top" class="even"><td> QFile::PermissionSpec</td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::Permission</a></td></tr><tr valign="top" class="odd"><td> QFile::SortSpec</td><td> QFile::SortFlags</td></tr><tr valign="top" class="even"><td> QFile::Status</td><td> QFile::Error</td></tr><tr valign="top" class="odd"><td> QFileInfo::PermissionSpec</td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::Permission</a></td></tr><tr valign="top" class="even"><td> QGrid::Direction</td><td> <a href="../../../com/trolltech/qt/core/Qt.Orientation.html">Qt::Orientation</a></td></tr><tr valign="top" class="odd"><td> QGridWidget::Direction</td><td> <a href="../../../com/trolltech/qt/core/Qt.Orientation.html">Qt::Orientation</a></td></tr><tr valign="top" class="even"><td> QIODevice::Offset</td><td> qlonglong</td></tr><tr valign="top" class="odd"><td> QImage::ScaleMode</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::AspectRatioMode</a></td></tr><tr valign="top" class="even"><td> QSize::ScaleMode</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::AspectRatioMode</a></td></tr><tr valign="top" class="odd"><td> QSocket::Error</td><td> Q3Socket::Error</td></tr><tr valign="top" class="even"><td> QSocket::State</td><td> Q3Socket::State</td></tr><tr valign="top" class="odd"><td> QStyle::SCFlags</td><td> QStyle::SubControls</td></tr><tr valign="top" class="even"><td> QStyle::SFlags</td><td> QStyle::State</td></tr><tr valign="top" class="odd"><td> QTS</td><td> <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a></td></tr><tr valign="top" class="even"><td> QUrlDrag</td><td> <a href="porting4.html#quridrag">QUriDrag</a></td></tr><tr valign="top" class="odd"><td> QWidget::FocusPolicy</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::FocusPolicy</a></td></tr><tr valign="top" class="even"><td> Q_LLONG</td><td> qlonglong</td></tr><tr valign="top" class="odd"><td> Q_ULLONG</td><td> qulonglong</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Dock</a></td><td> Qt::ToolBarDock</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MacintoshVersion</a></td><td> QSysInfo::MacVersion</td></tr><tr valign="top" class="even"><td> Qt::TextFlags</td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextFlag</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WindowsVersion</a></td><td> QSysInfo::WinVersion</td></tr></table><a name="enum-values"><h2>Enum Values</h2> The table below lists the enum values that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available. <p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html">qt3to4</a> tool performs the conversion automatically. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 enum value name</center></th><th><center> Qt 4 enum value name</center></th></tr></thead><tr valign="top" class="even"><td> IO_Append</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Append</a></td></tr><tr valign="top" class="odd"><td> IO_ReadOnly</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::ReadOnly</a></td></tr><tr valign="top" class="even"><td> IO_ReadWrite</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::ReadWrite</a></td></tr><tr valign="top" class="odd"><td> IO_Translate</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Text</a></td></tr><tr valign="top" class="even"><td> IO_Truncate</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Truncate</a></td></tr><tr valign="top" class="odd"><td> IO_WriteOnly</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::WriteOnly</a></td></tr><tr valign="top" class="even"><td> IO_Raw</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Unbuffered</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QAccessible.StateFlag.html">QAccessible::Moveable</a></td><td> <a href="../../../com/trolltech/qt/gui/QAccessible.StateFlag.html">QAccessible::Movable</a></td></tr><tr valign="top" class="even"><td> QApplication::CustomColors</td><td> <a href="../../../com/trolltech/qt/gui/QApplication.ColorSpec.html">QApplication::CustomColor</a></td></tr><tr valign="top" class="odd"><td> QApplication::NormalColors</td><td> <a href="../../../com/trolltech/qt/gui/QApplication.ColorSpec.html">QApplication::NormalColor</a></td></tr><tr valign="top" class="even"><td> QButton::NoChange</td><td> <a href="../../../com/trolltech/qt/gui/QCheckBox.ToggleState.html">QCheckBox::NoChange</a></td></tr><tr valign="top" class="odd"><td> QButton::Off</td><td> <a href="../../../com/trolltech/qt/gui/QCheckBox.ToggleState.html">QCheckBox::Off</a></td></tr><tr valign="top" class="even"><td> QButton::On</td><td> <a href="../../../com/trolltech/qt/gui/QCheckBox.ToggleState.html">QCheckBox::On</a></td></tr><tr valign="top" class="odd"><td> QChar::Single</td><td> QChar::NoDecomposition</td></tr><tr valign="top" class="even"><td> QChar::byteOrderMark</td><td> QChar::ByteOrderMark</td></tr><tr valign="top" class="odd"><td> QChar::byteOrderSwapped</td><td> QChar::ByteOrderSwapped</td></tr><tr valign="top" class="even"><td> QChar::nbsp</td><td> QChar::Nbsp</td></tr><tr valign="top" class="odd"><td> QChar::null</td><td> QChar::Null</td></tr><tr valign="top" class="even"><td> QChar::replacement</td><td> QChar::ReplacementCharacter</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::AfterCurrent</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::InsertAfterCurrent</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::AtBottom</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::InsertAtBottom</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::AtCurrent</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::InsertAtCurrent</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::AtTop</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::InsertAtTop</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::BeforeCurrent</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::InsertBeforeCurrent</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::NoInsertion</a></td><td> <a href="../../../com/trolltech/qt/gui/QComboBox.InsertPolicy.html">QComboBox::NoInsert</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QDir.Filter.html">QDir::DefaultFilter</a></td><td> <a href="../../../com/trolltech/qt/core/QDir.Filter.html">QDir::NoFilter</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QDir.SortFlag.html">QDir::DefaultSort</a></td><td> <a href="../../../com/trolltech/qt/core/QDir.SortFlag.html">QDir::NoSort</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::Accel</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::Shortcut</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::AccelOverride</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ShortcutOverride</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::CaptionChange</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::WindowTitleChange</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ChildInserted</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ChildAdded</a></td></tr><tr valign="top" class="odd"><td> QEvent::IMCompose</td><td> QEvent::InputMethodCompose</td></tr><tr valign="top" class="even"><td> QEvent::IMEnd</td><td> QEvent::InputMethodEnd</td></tr><tr valign="top" class="odd"><td> QEvent::IMStart</td><td> QEvent::InputMethodStart</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::IconChange</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::WindowIconChange</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::LayoutHint</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::LayoutRequest</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::Reparent</a></td><td> <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ParentChange</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ExeGroup</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ExeGroup</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ExeOther</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ExeOther</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ExeOwner</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ExeOwner</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ExeUser</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ExeUser</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ReadGroup</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ReadGroup</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ReadOther</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ReadOther</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ReadOwner</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ReadOwner</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::ReadUser</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::ReadUser</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::WriteGroup</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::WriteGroup</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::WriteOther</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::WriteOther</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::WriteOwner</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::WriteOwner</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QFileInfo.Permission.html">QFileInfo::WriteUser</a></td><td> <a href="../../../com/trolltech/qt/core/QFile.Permission.html">QFile::WriteUser</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::GroupBoxPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::LineEditPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::MenuBarPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::PopupPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::TabWidgetPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::ToolBarPanel</a></td><td> <a href="../../../com/trolltech/qt/gui/QFrame.Shape.html">QFrame::StyledPanel</a></td></tr><tr valign="top" class="odd"><td> QImage::ScaleFree</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::IgnoreAspectRatio</a></td></tr><tr valign="top" class="even"><td> QImage::ScaleMax</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::KeepAspectRatioByExpanding</a></td></tr><tr valign="top" class="odd"><td> QImage::ScaleMin</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::KeepAspectRatio</a></td></tr><tr valign="top" class="even"><td> Qt::Identical</td><td> <a href="../../../com/trolltech/qt/gui/QKeySequence.SequenceMatch.html">QKeySequence::ExactMatch</a></td></tr><tr valign="top" class="odd"><td> Qt::NoMatch</td><td> <a href="../../../com/trolltech/qt/gui/QKeySequence.SequenceMatch.html">QKeySequence::NoMatch</a></td></tr><tr valign="top" class="even"><td> Qt::PartialMatch</td><td> <a href="../../../com/trolltech/qt/gui/QKeySequence.SequenceMatch.html">QKeySequence::PartialMatch</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::Auto</a></td><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::SetDefaultConstraint</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::Fixed</a></td><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::SetFixedSize</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::FreeResize</a></td><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::SetNoConstraint</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::Minimum</a></td><td> <a href="../../../com/trolltech/qt/gui/QLayout.SizeConstraint.html">QLayout::SetMinimumSize</a></td></tr><tr valign="top" class="odd"><td> QMacStyle::SizeNone</td><td> QMacStyle::SizeDefault</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QSettings.Scope.html">QSettings::Global</a></td><td> <a href="../../../com/trolltech/qt/core/QSettings.Scope.html">QSettings::SystemScope</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QSettings.Scope.html">QSettings::User</a></td><td> <a href="../../../com/trolltech/qt/core/QSettings.Scope.html">QSettings::UserScope</a></td></tr><tr valign="top" class="even"><td> QSize::ScaleFree</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::IgnoreAspectRatio</a></td></tr><tr valign="top" class="odd"><td> QSize::ScaleMax</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::KeepAspectRatioByExpanding</a></td></tr><tr valign="top" class="even"><td> QSize::ScaleMin</td><td> <a href="../../../com/trolltech/qt/core/Qt.AspectRatioMode.html">Qt::KeepAspectRatio</a></td></tr><tr valign="top" class="odd"><td> QSizePolicy::Horizontal</td><td> <a href="../../../com/trolltech/qt/gui/QSizePolicy.ExpandData.html">QSizePolicy::Horizontally</a></td></tr><tr valign="top" class="even"><td> QSizePolicy::Vertical</td><td> <a href="../../../com/trolltech/qt/gui/QSizePolicy.ExpandData.html">QSizePolicy::Vertically</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::Above</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::TicksAbove</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::Below</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::TicksBelow</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::Both</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::TicksBothSides</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::Left</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::TicksLeft</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::NoMarks</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::NoTicks</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::Right</a></td><td> <a href="../../../com/trolltech/qt/gui/QSlider.TickPosition.html">QSlider::TicksRight</a></td></tr><tr valign="top" class="odd"><td> QSocket::Closing</td><td> Q3Socket::Closing</td></tr><tr valign="top" class="even"><td> QSocket::Connected</td><td> Q3Socket::Connected</td></tr><tr valign="top" class="odd"><td> QSocket::Connecting</td><td> Q3Socket::Connecting</td></tr><tr valign="top" class="even"><td> QSocket::Connection</td><td> Q3Socket::Connection</td></tr><tr valign="top" class="odd"><td> QSocket::ErrConnectionRefused</td><td> Q3Socket::ErrConnectionRefused</td></tr><tr valign="top" class="even"><td> QSocket::ErrHostNotFound</td><td> Q3Socket::ErrHostNotFound</td></tr><tr valign="top" class="odd"><td> QSocket::ErrSocketRead</td><td> Q3Socket::ErrSocketRead</td></tr><tr valign="top" class="even"><td> QSocket::HostLookup</td><td> <a href="../../../com/trolltech/qt/network/QAbstractSocket.SocketState.html">QAbstractSocket::HostLookupState</a></td></tr><tr valign="top" class="odd"><td> QSocket::Idle</td><td> <a href="../../../com/trolltech/qt/network/QAbstractSocket.SocketState.html">QAbstractSocket::UnconnectedState</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::Connection</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::ConnectionError</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::None</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::NoError</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::Statement</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::StatementError</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::Transaction</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::TransactionError</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::Unknown</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlError.ErrorType.html">QSqlError::UnknownError</a></td></tr><tr valign="top" class="odd"><td> QStyle::CC_ListView</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ComplexControl.html">QStyle::CC_Q3ListView</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QStyle.StyleHint.html">QStyle::SH_UnderlineAccelerator</a></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StyleHint.html">QStyle::SH_UnderlineShortcut</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Active</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Active</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_AutoRaise</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_AutoRaise</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Bottom</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Bottom</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Children</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Children</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Default</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_None</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Down</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_DownArrow</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Editing</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Editing</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Enabled</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Enabled</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_FocusAtBorder</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_FocusAtBorder</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_HasFocus</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_HasFocus</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Horizontal</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Horizontal</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Item</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Item</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_MouseOver</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_MouseOver</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_NoChange</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_NoChange</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_None</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_None</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Off</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Off</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_On</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_On</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Open</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Open</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Raised</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Raised</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Rectangle</td><td> QStyle::State_Rectangle</td></tr><tr valign="top" class="odd"><td> QStyle::Style_Selected</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Selected</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Sibling</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Sibling</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Sunken</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Sunken</a></td></tr><tr valign="top" class="even"><td> QStyle::Style_Top</td><td> <a href="../../../com/trolltech/qt/gui/QStyle.StateFlag.html">QStyle::State_Top</a></td></tr><tr valign="top" class="odd"><td> QStyle::Style_Up</td><td> QStyle::State_Up</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QTabBar.Shape.html">QTabBar::RoundedAbove</a></td><td> <a href="../../../com/trolltech/qt/gui/QTabBar.Shape.html">QTabBar::RoundedNorth</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QTabBar.Shape.html">QTabBar::RoundedBelow</a></td><td> <a href="porting4.html#qtabbar">QTabBar::</a> RoundedSouth</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QTabBar.Shape.html">QTabBar::TriangularAbove</a></td><td> <a href="porting4.html#qtabbar">QTabBar::</a> TriangularNorth</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QTabBar.Shape.html">QTabBar::TriangularBelow</a></td><td> <a href="porting4.html#qtabbar">QTabBar::</a> TriangularSouth</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QTextEdit.CursorAction.html">QTextEdit::MovePgDown</a></td><td> <a href="../../../com/trolltech/qt/gui/QTextEdit.CursorAction.html">QTextEdit::MovePageDown</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QTextEdit.CursorAction.html">QTextEdit::MovePgUp</a></td><td> <a href="../../../com/trolltech/qt/gui/QTextEdit.CursorAction.html">QTextEdit::MovePageUp</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QToolButton.TextPosition.html">QToolButton::Right</a></td><td> <a href="../../../com/trolltech/qt/gui/QToolButton.TextPosition.html">QToolButton::BesideIcon</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/gui/QToolButton.TextPosition.html">QToolButton::Under</a></td><td> <a href="../../../com/trolltech/qt/gui/QToolButton.TextPosition.html">QToolButton::BelowIcon</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/gui/QValidator.State.html">QValidator::Valid</a></td><td> <a href="../../../com/trolltech/qt/gui/QValidator.State.html">QValidator::Intermediate</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/QVariant.Type.html">QVariant::IconSet</a></td><td> QCoreVariant::Icon</td></tr><tr valign="top" class="even"><td> QWidget::ClickFocus</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::ClickFocus</a></td></tr><tr valign="top" class="odd"><td> QWidget::NoFocus</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::NoFocus</a></td></tr><tr valign="top" class="even"><td> QWidget::StrongFocus</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::StrongFocus</a></td></tr><tr valign="top" class="odd"><td> QWidget::TabFocus</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::TabFocus</a></td></tr><tr valign="top" class="even"><td> QWidget::WheelFocus</td><td> <a href="../../../com/trolltech/qt/core/Qt.FocusPolicy.html">Qt::WheelFocus</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.AlignmentFlag.html">Qt::AlignAuto</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.AlignmentFlag.html">Qt::AlignLeft</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::AltButton</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::AltModifier</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.SortOrder.html">Qt::Ascending</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.SortOrder.html">Qt::AscendingOrder</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Bottom</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockBottom</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::BottomLeft</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::BottomLeftCorner</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::BottomRight</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::BottomRightCorner</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::BreakAnywhere</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextWrapAnywhere</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::ControlButton</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::ControlModifier</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.BrushStyle.html">Qt::CustomPattern</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.BrushStyle.html">Qt::TexturePattern</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.SortOrder.html">Qt::Descending</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.SortOrder.html">Qt::DescendingOrder</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::DontClip</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextDontClip</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::DontPrint</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextDontPrint</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::ExpandTabs</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextExpandTabs</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::IncludeTrailingSpaces</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextIncludeTrailingSpaces</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::KeyButtonMask</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::KeyboardModifierMask</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_BackSpace</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Backspace</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_BackTab</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Backtab</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_MediaPrev</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_MediaPrevious</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Next</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_PageDown</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Prior</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_PageUp</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_aacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Aacute</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_acircumflex</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Acircumflex</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_adiaeresis</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Adiaeresis</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ae</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_AE</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_agrave</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Agrave</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_aring</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Aring</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_atilde</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Atilde</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ccedilla</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ccedilla</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_eacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Eacute</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ecircumflex</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ecircumflex</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ediaeresis</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ediaeresis</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_egrave</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Egrave</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_eth</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ETH</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_iacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Iacute</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_icircumflex</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Icircumflex</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_idiaeresis</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Idiaeresis</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_igrave</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Igrave</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ntilde</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ntilde</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_oacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Oacute</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ocircumflex</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ocircumflex</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_odiaeresis</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Odiaeresis</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ograve</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ograve</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_oslash</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ooblique</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_otilde</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Otilde</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_thorn</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_THORN</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_uacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Uacute</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ucircumflex</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ucircumflex</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_udiaeresis</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Udiaeresis</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_ugrave</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Ugrave</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_yacute</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Key.html">Qt::Key_Yacute</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::Keypad</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::KeypadModifier</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Left</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockLeft</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_10_DOT_0</a></td><td> QSysInfo::MV_10_0</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_10_DOT_1</a></td><td> QSysInfo::MV_10_1</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_10_DOT_2</a></td><td> QSysInfo::MV_10_2</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_10_DOT_3</a></td><td> QSysInfo::MV_10_3</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_10_DOT_4</a></td><td> QSysInfo::MV_10_4</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_9</a></td><td> QSysInfo::MV_9</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_CHEETAH</a></td><td> QSysInfo::MV_10_0</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_JAGUAR</a></td><td> QSysInfo::MV_10_2</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_PANTHER</a></td><td> QSysInfo::MV_10_3</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_PUMA</a></td><td> QSysInfo::MV_10_1</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_TIGER</a></td><td> QSysInfo::MV_10_4</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.MacintoshVersion.html">Qt::MV_Unknown</a></td><td> QSysInfo::MV_Unknown</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::MetaButton</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::MetaModifier</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Minimized</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockMinimized</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::NoAccel</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextHideMnemonic</a></td></tr><tr valign="top" class="even"><td> Qt::Overline</td><td> Qt::TextOverline</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Right</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockRight</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.ButtonState_enum.html">Qt::ShiftButton</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.KeyboardModifier.html">Qt::ShiftModifier</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::ShowPrefix</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextShowMnemonic</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::SingleLine</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextSingleLine</a></td></tr><tr valign="top" class="odd"><td> Qt::StrikeOut</td><td> Qt::TextStrikeOut</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Top</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockTop</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::TopLeft</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::TopLeftCorner</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::TopRight</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Corner.html">Qt::TopRightCorner</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::TornOff</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockTornOff</a></td></tr><tr valign="top" class="even"><td> Qt::Underline</td><td> Qt::TextUnderline</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::Unmanaged</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.Dock.html">Qt::DockUnmanaged</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WNorthWestGravity</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WStaticContents</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WRepaintNoErase</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WNoAutoErase</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WStyle_Dialog</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WType_Dialog</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WStyle_NoBorderEx</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WStyle_NoBorder</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WType_Modal</a></td><td> (<a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WType_Dialog</a> | <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WShowModal</a>)</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_2000</a></td><td> QSysInfo::WV_2000</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_2003</a></td><td> QSysInfo::WV_2003</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_32s</a></td><td> QSysInfo::WV_32s</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_95</a></td><td> QSysInfo::WV_95</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_98</a></td><td> QSysInfo::WV_98</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_CE</a></td><td> QSysInfo::WV_CE</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_CENET</a></td><td> QSysInfo::WV_CENET</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_CE_based</a></td><td> QSysInfo::WV_CE_based</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_DOS_based</a></td><td> QSysInfo::WV_DOS_based</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_Me</a></td><td> QSysInfo::WV_Me</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_NT</a></td><td> QSysInfo::WV_NT</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_NT_based</a></td><td> QSysInfo::WV_NT_based</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowsVersion.html">Qt::WV_XP</a></td><td> QSysInfo::WV_XP</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::WordBreak</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.TextFlag.html">Qt::TextWordWrap</a></td></tr><tr valign="top" class="odd"><td> Qt::IbeamCursor</td><td> <a href="../../../com/trolltech/qt/core/Qt.CursorShape.html">Qt::IBeamCursor</a></td></tr></table> In addition, the following window flags have been either replaced with <a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">widget attributes</a> or have been deprecated: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 type</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WDestructiveClose</a></td><td> Use QWidget::setAttribute(<a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">Qt::WA_DeleteOnClose</a>) instead.</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WStaticContents</a></td><td rowspan=2> Use QWidget::setAttribute(<a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">Qt::WA_StaticContents</a>) instead.</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WNorthWestGravity</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WNoAutoErase</a></td><td rowspan=3> Use QWidget::setAttribute(<a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">Qt::WA_NoBackground</a>) instead.</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WResizeNoErase</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WRepaintNoErase</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WPaintClever</a></td><td> Unnecessary in Qt 4.</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WMacNoSheet</a></td><td> Unnecessary in Qt 4.</td></tr></table> In Qt 4.1, the widget flags used to determine window modality were replaced by a single enum that can be used to specify the modal behavior of top-level widgets: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 type</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WShowModal</a></td><td> Use QWidget::setWindowModality(<a href="../../../com/trolltech/qt/core/Qt.WindowModality.html">Qt::ApplicationModal</a>) instead.</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.WindowType.html">Qt::WGroupLeader</a></td><td> Use QWidget::setWindowModality(<a href="../../../com/trolltech/qt/core/Qt.WindowModality.html">Qt::WindowModal</a>) for each child dialog of the group leader, but do not change the modality of the group leader itself.</td></tr></table><a name="properties"><a name="properties"><h2>Properties</h2> Some properties have been renamed in Qt 4, to make Qt's API more consistent and more intuitive. For example, <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>'s <tt>caption</tt> property has been renamed <tt>windowTitle</tt> to make it clear that it refers to the title shown in the window's title bar. <p>In addition, the property system has been extended to allow properties to be redefined in subclasses with the Q_PROPERTY() macro, removing the need for a <tt>Q_OVERRIDE()</tt> macro. <p>The table below lists the Qt properties that have been renamed in Qt 4. Occurrences of these in Qt Designer<tt>.ui</tt> files are automatically converted to the new name by <tt>uic</tt>. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 name</center></th><th><center> Qt 4 name</center></th></tr></thead><tr valign="top" class="even"><td> QButton::accel</td><td> QButton::shortcut</td></tr><tr valign="top" class="odd"><td> QButton::on</td><td> QButton::checked</td></tr><tr valign="top" class="even"><td> QButton::toggleButton</td><td> <a href="../../../QAbstractButton.html#isCheckable()">QAbstractButton::checkable</a></td></tr><tr valign="top" class="odd"><td> QDial::lineStep</td><td> <a href="../../../QAbstractSlider.html#singleStep()">QDial::singleStep</a></td></tr><tr valign="top" class="even"><td> QDial::maxValue</td><td> <a href="../../../QAbstractSlider.html#maximum()">QDial::maximum</a></td></tr><tr valign="top" class="odd"><td> QDial::minValue</td><td> <a href="../../../QAbstractSlider.html#minimum()">QDial::minimum</a></td></tr><tr valign="top" class="even"><td> <a href="../../../QWidget.html#isModal()">QDialog::modal</a></td><td> QDialog::isModal</td></tr><tr valign="top" class="odd"><td> QLineEdit::edited</td><td> <a href="../../../QLineEdit.html#isModified()">QLineEdit::modified</a></td></tr><tr valign="top" class="even"><td> QLineEdit::hasMarkedText</td><td> <a href="../../../QLineEdit.html#hasSelectedText()">QLineEdit::hasSelectedText</a></td></tr><tr valign="top" class="odd"><td> QLineEdit::markedText</td><td> <a href="../../../QLineEdit.html#selectedText()">QLineEdit::selectedText</a></td></tr><tr valign="top" class="even"><td> QObject::name</td><td> <a href="../../../QObject.html#objectName()">QObject::objectName</a></td></tr><tr valign="top" class="odd"><td> QProgressDialog::progress</td><td> <a href="../../../QProgressDialog.html#value()">QProgressDialog::value</a></td></tr><tr valign="top" class="even"><td> QProgressDialog::totalSteps</td><td> <a href="../../../QProgressDialog.html#maximum()">QProgressDialog::maximum</a></td></tr><tr valign="top" class="odd"><td> QProgressDialog::wasCancelled</td><td> <a href="../../../QProgressDialog.html#wasCanceled()">QProgressDialog::wasCanceled</a></td></tr><tr valign="top" class="even"><td> QPushButton::iconSet</td><td> <a href="../../../QAbstractButton.html#icon()">QPushButton::icon</a></td></tr><tr valign="top" class="odd"><td> QScrollBar::draggingSlider</td><td> <a href="../../../QAbstractSlider.html#isSliderDown()">QScrollBar::sliderDown</a></td></tr><tr valign="top" class="even"><td> QScrollBar::lineStep</td><td> <a href="../../../QAbstractSlider.html#singleStep()">QScrollBar::singleStep</a></td></tr><tr valign="top" class="odd"><td> QScrollBar::maxValue</td><td> <a href="../../../QAbstractSlider.html#maximum()">QScrollBar::maximum</a></td></tr><tr valign="top" class="even"><td> QScrollBar::minValue</td><td> <a href="../../../QAbstractSlider.html#minimum()">QScrollBar::minimum</a></td></tr><tr valign="top" class="odd"><td> QSlider::lineStep</td><td> <a href="../../../QAbstractSlider.html#singleStep()">QSlider::singleStep</a></td></tr><tr valign="top" class="even"><td> QSlider::maxValue</td><td> <a href="../../../QAbstractSlider.html#maximum()">QSlider::maximum</a></td></tr><tr valign="top" class="odd"><td> QSlider::minValue</td><td> <a href="../../../QAbstractSlider.html#minimum()">QSlider::minimum</a></td></tr><tr valign="top" class="even"><td> QSpinBox::lineStep</td><td> <a href="../../../QSpinBox.html#singleStep()">QSpinBox::singleStep</a></td></tr><tr valign="top" class="odd"><td> QSpinBox::maxValue</td><td> <a href="../../../QSpinBox.html#maximum()">QSpinBox::maximum</a></td></tr><tr valign="top" class="even"><td> QSpinBox::minValue</td><td> <a href="../../../QSpinBox.html#minimum()">QSpinBox::minimum</a></td></tr><tr valign="top" class="odd"><td> QTabBar::currentTab</td><td> <a href="../../../QTabBar.html#currentIndex()">QTabBar::currentIndex</a></td></tr><tr valign="top" class="even"><td> QTabWidget::currentPage</td><td> QTabWidget::currentWidget</td></tr><tr valign="top" class="odd"><td> QToolButton::iconSet</td><td> <a href="../../../QAbstractButton.html#icon()">QToolButton::icon</a></td></tr><tr valign="top" class="even"><td> QToolButton::textLabel</td><td> <a href="../../../QAbstractButton.html#text()">QToolButton::text</a></td></tr><tr valign="top" class="odd"><td> QWidget::caption</td><td> <a href="../../../QWidget.html#windowTitle()">QWidget::windowTitle</a></td></tr><tr valign="top" class="even"><td> QWidget::icon</td><td> <a href="../../../QWidget.html#windowIcon()">QWidget::windowIcon</a></td></tr><tr valign="top" class="odd"><td> QWidget::iconText</td><td> <a href="../../../QWidget.html#windowIconText()">QWidget::windowIconText</a></td></tr></table> A handful of properties in Qt 3 are no longer properties in Qt 4, but the access functions still exist as part of the Qt 4 API. These are not used by Qt Designer; the only case where you need to worry about them is in highly dynamic applications that use Qt's meta-object system to access properties. Here's the list of these properties with the read and write functions that you can use instead: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 property</center></th><th><center> Qt 4 read function</center></th><th><center> Qt 4 write function</center></th></tr></thead><tr valign="top" class="even"><td> QSqlDatabase::connectOptions</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#connectOptions()">QSqlDatabase::connectOptions()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setConnectOptions()">QSqlDatabase::setConnectOptions()</a></td></tr><tr valign="top" class="odd"><td> QSqlDatabase::databaseName</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#databaseName()">QSqlDatabase::databaseName()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setDatabaseName(java.lang.String)">QSqlDatabase::setDatabaseName()</a></td></tr><tr valign="top" class="even"><td> QSqlDatabase::hostName</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#hostName()">QSqlDatabase::hostName()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setHostName(java.lang.String)">QSqlDatabase::setHostName()</a></td></tr><tr valign="top" class="odd"><td> QSqlDatabase::password</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#password()">QSqlDatabase::password()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setPassword(java.lang.String)">QSqlDatabase::setPassword()</a></td></tr><tr valign="top" class="even"><td> QSqlDatabase::port</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#port()">QSqlDatabase::port()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setPort(int)">QSqlDatabase::setPort()</a></td></tr><tr valign="top" class="odd"><td> QSqlDatabase::userName</td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#userName()">QSqlDatabase::userName()</a></td><td> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html#setUserName(java.lang.String)">QSqlDatabase::setUserName()</a></td></tr></table> Some properties have been removed from Qt 4, but the associated access functions are provided if <tt>QT3_SUPPORT</tt> is defined to help porting to Qt 4. When converting Qt 3 <tt>.ui</tt> files to Qt 4, <tt>uic</tt> generates calls to the Qt 3 compatibility functions. Note that this only applies to the properties of the <a href="qt3support.html">Qt3Support</a> library, i.e. <tt>QT3_SUPPORT</tt> properties of the other libraries must be ported manually when converting Qt 3 .ui files to Qt 4. <p>The table below lists these properties with the read and write functions that you can use instead. The documentation for the individual functions explains how to replace them with non-compatibility Qt 4 functions. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 property</center></th><th><center> Qt 4 read function (<tt>QT3_SUPPORT</tt>)</center></th><th><center> Qt 4 write function (<tt>QT3_SUPPORT</tt>)</center></th></tr></thead><tr valign="top" class="even"><td> QMenuBar::separator</td><td> QMenuBar::separator()</td><td> QMenuBar::setSeparator()</td></tr><tr valign="top" class="odd"><td> QPushButton::menuButton</td><td> QPushButton::isMenuButton()</td><td> N/A</td></tr><tr valign="top" class="even"><td> QTabWidget::margin</td><td> QTabWidget::margin()</td><td> QTabWidget::setMargin()</td></tr><tr valign="top" class="odd"><td> QTextEdit::textFormat</td><td> QTextEdit::textFormat()</td><td> QTextEdit::setTextFormat()</td></tr><tr valign="top" class="even"><td> QWidget::backgroundBrush</td><td> QWidget::backgroundBrush()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QWidget::backgroundMode</td><td> QWidget::backgroundMode()</td><td> QWidget::setBackgroundMode()</td></tr><tr valign="top" class="even"><td> QWidget::backgroundOrigin</td><td> QWidget::backgroundOrigin()</td><td> QWidget::setBackgroundOrigin()</td></tr><tr valign="top" class="odd"><td> QWidget::colorGroup</td><td> QWidget::colorGroup()</td><td> QWidget::setColorGroup()</td></tr><tr valign="top" class="even"><td> QWidget::customWhatsThis</td><td> QWidget::customWhatsThis()</td><td> QWidget::setCustomWhatsThis()</td></tr><tr valign="top" class="odd"><td> QWidget::inputMethodEnabled</td><td> QWidget::inputMethodEnabled()</td><td> QWidget::setInputMethodEnabled()</td></tr><tr valign="top" class="even"><td> QWidget::ownCursor</td><td> QWidget::ownCursor()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QWidget::ownFont</td><td> QWidget::ownFont()</td><td> N/A</td></tr><tr valign="top" class="even"><td> QWidget::ownPalette</td><td> QWidget::ownPalette()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QWidget::paletteBackgroundColor</td><td> QWidget::paletteBackgroundColor()</td><td> QWidget::setPaletteBackgroundColor()</td></tr><tr valign="top" class="even"><td> QWidget::paletteBackgroundPixmap</td><td> QWidget::paletteBackgroundPixmap()</td><td> QWidget::setPaletteBackgroundPixmap()</td></tr><tr valign="top" class="odd"><td> QWidget::paletteForegroundColor</td><td> QWidget::paletteForegroundColor()</td><td> QWidget::setPaletteForegroundColor()</td></tr><tr valign="top" class="even"><td> QWidget::underMouse</td><td> <a href="../../../com/trolltech/qt/gui/QWidget.html#underMouse()">QWidget::underMouse()</a></td><td> N/A</td></tr></table> The following Qt 3 properties and their access functions are no longer available in Qt 4. In most cases, Qt 4 provides similar functionality. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 property</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QButton::autoRepeat</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QButton::autoResize</td><td> Call <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>:setFixedSize(<a href="../../../com/trolltech/qt/gui/QWidget.html#sizeHint()">QWidget::sizeHint()</a>) whenever you change the contents.</td></tr><tr valign="top" class="even"><td> QButton::exclusiveToggle</td><td> See <a href="../../../QAbstractButton.html#autoExclusive()">QAbstractButton::autoExclusive</a>.</td></tr><tr valign="top" class="odd"><td> QButton::pixmap</td><td> Use <a href="../../../QAbstractButton.html#icon()">QAbstractButton::icon</a> instead.</td></tr><tr valign="top" class="even"><td> QButton::toggleState</td><td> Use QCheckBox::setState() and QCheckBox::state() instead.</td></tr><tr valign="top" class="odd"><td> QButton::toggleType</td><td> Use <a href="../../../com/trolltech/qt/gui/QCheckBox.html#setTristate()">QCheckBox::setTristate()</a> instead.</td></tr><tr valign="top" class="even"><td> QComboBox::autoResize</td><td> Call <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>:setFixedSize(<a href="../../../com/trolltech/qt/gui/QWidget.html#sizeHint()">QWidget::sizeHint()</a>) whenever you change the contents.</td></tr><tr valign="top" class="odd"><td> QFrame::contentsRect</td><td> Use Q3Frame::contentsRect() instead.</td></tr><tr valign="top" class="even"><td> QFrame::margin</td><td> Use <a href="../../../com/trolltech/qt/gui/QWidget.html#setContentsMargins(int, int, int, int)">QWidget::setContentsMargins()</a> instead.</td></tr><tr valign="top" class="odd"><td> QTabBar::keyboardFocusTab</td><td> N/A</td></tr><tr valign="top" class="even"><td> QToolButton::offIconSet</td><td> Use the <a href="../../../com/trolltech/qt/gui/QIcon.State.html">off component</a> of <a href="../../../QAbstractButton.html#icon()">QAbstractButton::icon</a> instead.</td></tr><tr valign="top" class="odd"><td> QToolButton::onIconSet</td><td> Use the <a href="../../../com/trolltech/qt/gui/QIcon.State.html">on component</a> of <a href="../../../QAbstractButton.html#icon()">QAbstractButton::icon</a> instead.</td></tr><tr valign="top" class="even"><td> QWidget::microFocusHint</td><td> N/A</td></tr></table><a name="explicit-sharing"><h2>Explicit Sharing</h2> Qt 4 is the first version of Qt that contains no explicitly shared classes. All classes that were explicitly shared in Qt 3 are implicitly shared in Qt 4: <ul><li> <a href="../../../com/trolltech/qt/gui/QImage.html">QImage</a></li><li> <a href="../../../com/trolltech/qt/core/QBitArray.html">QBitArray</a></li><li> <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a></li><li> Q3PointArray</li></ul> This means that if you took a copy of an instance of the class (using operator=() or the class's copy constructor), any modification to the copy would affect the original and vice versa. Needless to say, this behavior is rarely desirable. <p>Fortunately, nearly all Qt 3 applications don't rely on explicit sharing. When porting, you typically only need to remove calls to detach() and/or copy(), which aren't necessary anymore. <p>If you deliberately rely on explicit sharing in your application, you can use pointers or references to achieve the same result in Qt 4. <p>For example, if you have code likevoid asciify(QByteArray array)
{
    for (int i = 0; i < (int)array.size(); ++i) {
        if ((uchar)array[i] >= 128)
            array[i] = '?';
    }
} you can rewrite it asvoid asciify(QByteArray &array)
{
    for (int i = 0; i < array.size(); ++i) {
        if ((uchar)array[i] >= 128)
            array[i] = '?';
    }
} (Notice the <tt>&</tt> in the parameter declaration.)<a name="painting-and-redrawing-widgets"><h2>Painting and Redrawing Widgets</h2> When implementing custom widgets in Qt 3, it was possible to use <a href="../../../com/trolltech/qt/gui/QPainter.html">QPainter</a> to draw on a widget outside paint events. This made it possible to integrate Qt applications with third party libraries and tools that impose their own rendering models. For example, a widget might be repainted in a slot using data obtained from an external source. <p>In Qt 4, it is only possible to paint on a widget from within its <a href="../../../com/trolltech/qt/gui/QWidget.html#paintEvent(com.trolltech.qt.gui.QPaintEvent)">paintEvent()</a> handler function. This restriction simplifies Qt's interaction with native window systems, improves the performance of applications by reducing the number of redraw operations, and also enables features to be implemented to improve the appearance of widgets, such as a backing store. <p>Generally, we recommend redesigning applications to perform all painting operations in <a href="../../../com/trolltech/qt/gui/QWidget.html#paintEvent(com.trolltech.qt.gui.QPaintEvent)">paintEvent()</a> functions, deferring actual painting until the next time this function is called. Applications can post paint events to trigger repaints, and it may be possible to examine your widget's internal state to determine which part of the widget needs to be repainted. <p>If asynchronous repaints are used extensively by your application, and it is not practical to redesign the rendering model to perform all painting operations from within a widget's <a href="../../../com/trolltech/qt/gui/QWidget.html#paintEvent(com.trolltech.qt.gui.QPaintEvent)">paintEvent()</a> function, it may be necessary to consider using an intermediate painting step. In this approach, one or more images can be updated asynchronously and painted on the widget in the paint event. To avoid excessive buffering, it may be worthwhile disabling the backing store by setting the widget's <a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">Qt::WA_PaintOnScreen</a> widget attribute. <p>On certain platforms, the <a href="../../../com/trolltech/qt/core/Qt.WidgetAttribute.html">Qt::WA_PaintOutsidePaintEvent</a> widget attribute can be set to allow a widget to be painted from outside paint events. <p><b>Note:</b> Setting widget attributes to disable key features of Qt's widget rendering model may also cause other features to be disabled.<a name="qaccel"><h2>QAccel</h2> The <tt>QAccel</tt> class has been renamed Q3Accel and moved to the <a href="qt3support.html">Qt3Support</a> module. In new applications, you have three options: <ol><li> You can use <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> and set a key sequence using <a href="../../../com/trolltech/qt/gui/QAction.html#setShortcut(com.trolltech.qt.gui.QKeySequence)">QAction::setShortcut()</a>.</li><li> You can use <a href="../../../com/trolltech/qt/gui/QShortcut.html">QShortcut</a>, a class that provides similar functionality to Q3Accel.</li><li> You can use <a href="../../../com/trolltech/qt/gui/QWidget.html#grabShortcut(com.trolltech.qt.gui.QKeySequence)">QWidget::grabShortcut()</a> and process "shortcut" events by reimplementing <a href="../../../com/trolltech/qt/gui/QWidget.html#event(com.trolltech.qt.core.QEvent)">QWidget::event()</a>.</li></ol> The Q3Accel class also supports multiple accelerators using the same object, by calling Q3Accel::insertItem() multiple times. In Qt 4, the solution is to create multiple <a href="../../../com/trolltech/qt/gui/QShortcut.html">QShortcut</a> objects.<a name="qaccessibleinterface"><h2>QAccessibleInterface</h2> The <a href="../../../com/trolltech/qt/gui/QAccessibleInterface.html">QAccessibleInterface</a> class has undergone some API changes in Qt 4, to make it more consistent with the rest of the Qt API. <p>If you have classes that inherit <a href="../../../com/trolltech/qt/gui/QAccessibleInterface.html">QAccessibleInterface</a> or one of its subclasses (<a href="../../../com/trolltech/qt/gui/QAccessibleObject.html">QAccessibleObject</a>, <a href="../../../com/trolltech/qt/gui/QAccessibleWidget.html">QAccessibleWidget</a>, etc.), you must port them the new <a href="../../../com/trolltech/qt/gui/QAccessibleInterface.html">QAccessibleInterface</a> API. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QAccessibleInterface.html">QAccessibleInterface</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qaccessibletitlebar"><h2>QAccessibleTitleBar</h2> The <tt>QAccessibleTitleBar</tt> has been renamed Q3AccessibleTitleBar and moved to the <a href="qt3support.html">Qt3Support</a> library.<a name="qaction-section"><a name="qaction"><h2>QAction</h2> The <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> class has been redesigned in Qt 4 to integrate better with the rest of the menu system. It unifies the old <tt>QMenuItem</tt> class and the old <tt>QAction</tt> class into one class, avoiding unnecessary data duplication and the need to learn two different APIs. <p>The old <tt>QAction</tt> and <tt>QActionGroup</tt> classes have been renamed Q3Action and Q3ActionGroup and moved to <a href="qt3support.html">Qt3Support</a>. In addition, the new <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> class has compatibility functions to ease transition to Qt 4. Note that when using Q3ToolBar and Q3PopupMenu, their actions must be Q3Actions. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qactiongroup"><h2>QActionGroup</h2> The <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> class has been completely redesigned in Qt 4 to integrate better with the rest of the menu system. See the <a href="porting4.html#qaction-section">section on QAction</a> for details.<a name="qapplication"><h2>QApplication</h2> The <a href="../../../com/trolltech/qt/gui/QApplication.html">QApplication</a> class has been split into two classes: <a href="../../../com/trolltech/qt/core/QCoreApplication.html">QCoreApplication</a> and <a href="../../../com/trolltech/qt/gui/QApplication.html">QApplication</a>. The new <a href="../../../com/trolltech/qt/gui/QApplication.html">QApplication</a> class inherits <a href="../../../com/trolltech/qt/core/QCoreApplication.html">QCoreApplication</a> and adds GUI-related functionality. In practice, this has no consequences for existing Qt applications. <p>In addition, the following API changes were made: <ol><li> <a href="../../../com/trolltech/qt/gui/QApplication.html#allWidgets()">QApplication::allWidgets()</a> and <a href="../../../com/trolltech/qt/gui/QApplication.html#topLevelWidgets()">QApplication::topLevelWidgets()</a> used to return a pointer to a QWidgetList. Now they return a QWidgetList. <p>Also, QWidgetList has changed from being a typedef for QPtrList&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>&gt; to being a typedef for QList&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *&gt;. See the <a href="porting4.html#qwidgetlist-section">section on QWidgetList</a> below for details. <p>For example, if you have code like    QWidgetList *list = QApplication::topLevelWidgets();
    QWidgetListIt it(*list);
    QWidget *widget;
    while ((widget = it.current())) {
        if (widget->inherits("MainWindow"))
            ((MainWindow *)widget)->updateRecentFileItems();
        ++it;
    }
    delete list; you can rewrite it as    QWidgetList list = QApplication::topLevelWidgets();
    for (int i = 0; i < list.size(); ++i) {
        if (MainWindow *mainWin = qobject_cast<MainWindow *>(list.at(i)))
            mainWin->updateRecentFileItems();
    }</li><li> QApplication::setMainWidget() is no longer used. When all an application's windows are closed, the application will exit normally.</li></ol><a name="qaquastyle"><h2>QAquaStyle</h2> The <tt>QAquaStyle</tt> class first appeared in Qt 3.0, when the Qt for Mac OS X port was first released. It emulated Apple's "Aqua" theme. In Qt 3.1, <a href="porting4.html#qaquastyle">QAquaStyle</a> was obsoleted by QMacStyle, which uses Appearance Manager to perform its drawing. <p>The <tt>QAquaStyle</tt> class is no longer provided in Qt 4. Use QMacStyle instead.<a name="qasciidict-section"><a name="qasciicache-t"><h2>QAsciiCache<T></h2> <tt>QAsciiCache&lt;T&gt;</tt> has been renamed Q3AsciiCache&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by QCache&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, T&gt;. <p>For details, read the <a href="porting4.html#qcache-section">section on QCache<T></a>, mentally substituting <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> for QString.<a name="qasciidict-t"><h2>QAsciiDict<T></h2> QAsciiDict&lt;T&gt; and QAsciiDictIterator&lt;T&gt; have been renamed Q3AsciiDict&lt;T&gt; and Q3AsciiDictIterator&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern QHash&lt;Key, T&gt; and QMultiHash&lt;Key, T&gt; classes and their associated iterator classes. <p>When porting old code that uses Q3AsciiDict&lt;T&gt; to Qt 4, there are four classes that you can use: <ul><li> QMultiHash&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, T *&gt;</li><li> QMultiHash&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, T&gt;</li><li> QHash&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, T *&gt;</li><li> QHash&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, T&gt;</li></ul> For details, read the <a href="porting4.html#qdict-section">section on QDict<T></a>, mentally substituting <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> for QString.<a name="qasyncio"><h2>QAsyncIO</h2> The <tt>QAsyncIO</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0. <p>If you use this mechanism in your application, please submit a report to the <a href="http://qtsoftware.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.<a name="qbackinsertiterator"><h2>QBackInsertIterator</h2> The undocumented <tt>QBackInsertIterator</tt> class has been removed from the Qt library. If you need it in your application, feel free to copy the source code from the Qt 3 <tt>&lt;qtl.h&gt;</tt> header file.<a name="qbitarray"><h2>QBitArray</h2> In Qt 3, <a href="../../../com/trolltech/qt/core/QBitArray.html">QBitArray</a> inherited from <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>. In Qt 4, <a href="../../../com/trolltech/qt/core/QBitArray.html">QBitArray</a> is a totally independent class. This makes very little difference to the user, except that the new <a href="../../../com/trolltech/qt/core/QBitArray.html">QBitArray</a> doesn't provide any of <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>'s byte-based API anymore. These calls will result in a compile-time error, except calls to <a href="../../../com/trolltech/qt/core/QBitArray.html#truncate(int)">QBitArray::truncate()</a>, whose parameter was a number of bytes in Qt 3 and a number of bits in Qt 4. <p><a href="../../../com/trolltech/qt/core/QBitArray.html">QBitArray</a> was an explicitly shared class in Qt 3. See <a href="explicitly-shared.html">Explicit Sharing</a> for more information. <p>The <tt>QBitVal</tt> class has been renamed QBitRef.<a name="qbutton"><h2>QButton</h2> The <tt>QButton</tt> class has been replaced by <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> in Qt 4. Classes like <a href="../../../com/trolltech/qt/gui/QPushButton.html">QPushButton</a> and <a href="../../../com/trolltech/qt/gui/QRadioButton.html">QRadioButton</a> inherit from <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a>. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a Q3Button class implemented in terms of the new <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a>. <p>If you used the <tt>QButton</tt> class as a base class for your own button type and want to port your code to the newer <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a>, you need to be aware that <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> has no equivalent for the Q3Button::drawButton(<a href="../../../com/trolltech/qt/gui/QPainter.html">QPainter</a> *) virtual function. The solution is to reimplement <a href="../../../com/trolltech/qt/gui/QWidget.html#paintEvent(com.trolltech.qt.gui.QPaintEvent)">QWidget::paintEvent()</a> in your <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> subclass as follows: <pre class="snippet">
void MyButton::paintEvent(QPaintEvent *)
{
    QPainter painter(this);
    drawButton(&painter);
}
</pre> <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3Button function</center></th><th><center> <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3Button::autoResize()</td><td> Call <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>:setFixedSize(<a href="../../../com/trolltech/qt/gui/QWidget.html#sizeHint()">QWidget::sizeHint()</a>) whenever you change the contents.</td></tr><tr valign="top" class="odd"><td> Q3Button::isExclusiveToggle()</td><td> Use <a href="../../../com/trolltech/qt/gui/QAbstractButton.html#group()">QAbstractButton::group()</a> or <a href="../../../com/trolltech/qt/gui/QAbstractButton.html#autoExclusive()">QAbstractButton::autoExclusive()</a> instead.</td></tr><tr valign="top" class="even"><td> Q3Button::pixmap() const</td><td> <a href="../../../com/trolltech/qt/gui/QAbstractButton.html#icon()">QAbstractButton::icon()</a></td></tr><tr valign="top" class="odd"><td> Q3Button::setAutoResize()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3Button::setPixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</td><td> QAbstractButton::setIcon(const <a href="../../../com/trolltech/qt/gui/QIcon.html">QIcon</a> &)</td></tr><tr valign="top" class="odd"><td> Q3Button::setState(ToggleState)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> Q3Button::setToggleType(ToggleType)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3Button::state()</td><td> See remark below</td></tr><tr valign="top" class="even"><td> Q3Button::stateChanged(int)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3Button::toggleType()</td><td> See remark below</td></tr></table> Remarks: <ol><li> In Qt 3, <tt>QButton</tt> had a "toggle type", which could be QButton::SingleShot, QButton::Toggle, or QButton::Tristate. The new <a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> class doesn't support "tristate" directly; this feature is implemented in <a href="../../../com/trolltech/qt/gui/QCheckBox.html">QCheckBox</a> instead. The two other "toggle types" (<tt>QButton::SingleShot</tt> and <tt>QButton::Toggle</tt>) are replaced by a <a href="../../../QAbstractButton.html#isCheckable()">QAbstractButton::checkable</a> property.</li><li> In Qt 3, <a href="porting4.html#qbutton">QButton</a> had a "toggle state", which could be <tt>QButton::Off</tt>, <tt>QButton::NoChange</tt>, or <tt>QButton::On</tt>. In Qt 4, this mechanism has been moved to <a href="../../../com/trolltech/qt/gui/QCheckBox.html">QCheckBox</a>.</li></ol> See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QButton</tt> virtual member functions in Qt 3 that aren't virtual in Qt 4. <p>See <a href="porting4.html#properties">Properties</a> for a list of <tt>QButton</tt> properties in Qt 3 that have changed in Qt 4.<a name="qbuttongroup"><h2>QButtonGroup</h2> The <tt>QButtonGroup</tt> class has been completely redesigned in Qt 4. For compatibility, the old <tt>QButtonGroup</tt> class has been renamed Q3ButtonGroup and has been moved to <a href="qt3support.html">Qt3Support</a>. Likewise, the <tt>QHButtonGroup</tt> and <tt>QVButtonGroup</tt> convenience subclasses have been renamed <tt>Q3HButtonGroup</tt> and <tt>Q3VButtonGroup</tt> and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>The old <tt>QButtonGroup</tt>, as well as Q3ButtonGroup, can be used in two ways: <ol><li> The button group is the parent widget of a number of buttons, i.e. the button group is the parent argument in the button constructor. The buttons are assigned identifiers 0, 1, 2, etc., in the order they are created. A Q3ButtonGroup can display a frame and a title because it inherits Q3GroupBox.</li><li> The button group is an invisible widget and the contained buttons have some other parent widget. In this usage, each button must be manually inserted, using Q3ButtonGroup::insert(), into the button group and given an ID number.</li></ol> Unlike Q3ButtonGroup, the new <a href="../../../com/trolltech/qt/gui/QButtonGroup.html">QButtonGroup</a> doesn't inherit <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>. It is very similar to a "hidden Q3ButtonGroup". <p>If you use a Q3ButtonGroup, Q3HButtonGroup, or Q3VButtonGroup as a widget and want to port to Qt 4, you can replace it with <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a>. In Qt 4, radio buttons with the same parent are automatically part of an exclusive group, so you normally don't need to do anything else. See also the <a href="porting4.html#qgroupbox-section">section on QGroupBox</a> below. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QButtonGroup.html">QButtonGroup</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qbytearray-section"><a name="qbytearray"><h2>QByteArray</h2> In Qt 3, <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> was simply a typedef for QMemArray&lt;char&gt;. In Qt 4, <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> is a class in its own right, with a higher-level API in the style of QString. <p>Here are the main issues to be aware of when porting to Qt 4: <ol><li> The QMemArray(int size) constructor has been replaced with <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>(int size, char ch). The second argument specifies which character should be used for initializing the array; pass '\0' if you have no specific needs. <p>For example, if you have code likeQByteArray ba(64); you can rewrite it asQByteArray ba(64, '\0');</li><li> QMemArray::at() returned a non-const reference, whereas the new <a href="../../../com/trolltech/qt/core/QByteArray.html#at(int)">QByteArray::at()</a> returns a const value. Code like <pre class="snippet">
ba.at(0) = 'X';
</pre> will no longer compile. Instead, use QByteArray::operator[]: <pre class="snippet">
ba[0] = 'X';
</li></pre><li> The QMemArray::contains(char) function has been renamed QByteArray::count(char). In addition, there now exists a QByteArray::contains(char) function that returns a boolean value. Replace old calls to contains() with either count() or contains(), depending on whether you care about the specific number of occurrences of a character in the byte array or only care about whether the array contains that character or not.</li><li> The new <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> has no assign() function. Calls to QMemArray::assign(const QMemArray &) can be replaced by calls to QByteArray::operator=(). Calls to QMemArray::assign(const T *, uint) have no equivalent in Qt 4; if you use it, the solution is either to use QByteArray::fromRawData() and to call free() yourself to avoid a memory leak, or to use the <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>(const char *, int) constructor, which will take a deep copy of the data.</li><li> QMemArray::bsearch() and QMemArray::sort() have no equivalent in the new <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> class. Use qBinaryFind() and qSort() if you need that functionality.</li></ol> <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> was an explicitly shared class in Qt 3. See <a href="explicitly-shared.html">Explicit Sharing</a> for more information.<a name="qcache-section"><a name="qcache-t"><h2>QCache<T></h2> QCache&lt;T&gt; has been renamed Q3Cache&lt;T&gt; and moved to <a href="qt3support.html">Qt3Support</a>. The new QCache class has a different API, and takes different template parameters: QCache&lt;Key, T&gt;. <p>When porting to Qt 4, QCache&lt;QString, T&gt; is the obvious substitute for Q3Cache&lt;T&gt;. The following table summarizes the API differences. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3Cache&lt;T&gt; function</center></th><th><center> QCache&lt;QString, T&gt; equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3Cache::Q3Cache(int maxCost, int size, bool caseSensitive)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3Cache::autoDelete()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3Cache::count()</td><td> QCache::count() or QCache::size() (equivalent)</td></tr><tr valign="top" class="odd"><td> Q3Cache::setAutoDelete()</td><td> See remark below</td></tr><tr valign="top" class="even"><td> Q3Cache::size()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3Cache::statistics()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3Cache::operator=()</td><td> See remark below</td></tr></table> Remarks: <ol><li> Q3Cache requires the user to allocate a specific number of buckets by passing a prime number (17 by default) to the constructor. In contrast, the new QCache's hash table automatically grows and shrinks as needed, and the constructor doesn't take a prime number.</li><li> Q3Cache supportes case-insensitive lookups by passing false as second argument to the constructor. This feature has no equivalent in QMultiHash. Instead, call QString::toLower() before you insert or lookup a key in the hash.</li><li> The Q3Cache::insert() function returns a <tt>bool</tt> value that indicates whether or not the item actually was inserted in the cache. If the item wasn't inserted, it was the caller's responsibility to delete the item. The new QCache::insert() function returns <tt>void</tt> and either adds it to the cache or deletes it right away. Old code like <pre class="snippet">
if (!cache.insert(key, object))
    delete object;
</pre> becomes <pre class="snippet">
cache.insert(key, object);
</li></pre><li> The new QCache class always takes ownership of the items it stores (i.e. auto-delete is always on). If you use Q3Cache with auto-delete turned off (the rarely useful default), you cannot use QCache as a direct substitute. One unelegant trick that works well in practice is to use QCache&lt;QString, T *&gt; instead of QCache&lt;QString, T&gt;. In that case, QCache owns the pointers, not the objects that the pointers refer to. For example, <pre class="snippet">
Q3Cache&lt;QWidget&gt; cache;
cache.insert(widget-&gt;name(), widget);
...
QWidget *foo = cache.take("foo");
if (foo)
    foo-&gt;show();
</pre> becomes <pre class="snippet">
typedef QWidget *QWidgetPtr;
QCache&lt;QString, QWidgetPtr&gt; cache;
cache.insert(widget-&gt;name(), new QWidgetPtr(widget));
...
QWidgetPtr *ptr = cache.take("foo");
if (ptr) {
    QWidget *foo = *ptr;
    delete ptr;
    foo-&gt;show();
}
</pre> An alternative is to stick to using Q3Cache.</li></ol> QCacheIterator&lt;T&gt; has been renamed Q3CacheIterator&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. The new QCache class doesn't offer any iterator types.<a name="qcanvas"><h2>QCanvas</h2> The canvas module classes have been renamed and moved to the <a href="qt3support.html">Qt3Support</a> library. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 class name</center></th><th><center> Compatibility class in Qt 4</center></th></tr></thead><tr valign="top" class="even"><td> <tt>QCanvas</tt></td><td> Q3Canvas</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasEllipse</tt></td><td> Q3CanvasEllipse</td></tr><tr valign="top" class="even"><td> <tt>QCanvasItem</tt></td><td> Q3CanvasItem</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasItemList</tt></td><td> Q3CanvasItemList</td></tr><tr valign="top" class="even"><td> <tt>QCanvasLine</tt></td><td> Q3CanvasLine</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasPixmap</tt></td><td> Q3CanvasPixmap</td></tr><tr valign="top" class="even"><td> <tt>QCanvasPixmapArray</tt></td><td> Q3CanvasPixmapArray</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasPolygon</tt></td><td> Q3CanvasPolygon</td></tr><tr valign="top" class="even"><td> <tt>QCanvasPolygonalItem</tt></td><td> Q3CanvasPolygonalItem</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasRectangle</tt></td><td> Q3CanvasRectangle</td></tr><tr valign="top" class="even"><td> <tt>QCanvasSpline</tt></td><td> Q3CanvasSpline</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasSprite</tt></td><td> Q3CanvasSprite</td></tr><tr valign="top" class="even"><td> <tt>QCanvasText</tt></td><td> Q3CanvasText</td></tr><tr valign="top" class="odd"><td> <tt>QCanvasView</tt></td><td> Q3CanvasView</td></tr></table> <a href="graphicsview.html">The Graphics View Framework</a> replaces <a href="porting4.html#qcanvas">QCanvas</a>. For more on porting to Graphics View, see <a href="graphicsview-porting.html">Porting to Graphics View</a>.<a name="qcolor"><h2>QColor</h2> In Qt 4, <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> is a value type like <a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a> or <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a>. Graphics system-specific code has been implemented in <a href="../../../com/trolltech/qt/gui/QColormap.html">QColormap</a>. <p>The <tt>QColor::maxColors()</tt> function has been replaced by <a href="../../../com/trolltech/qt/gui/QColormap.html#size()">QColormap::size()</a>. <p>The <tt>QColor::numBitPlanes()</tt> function has been replaced by <a href="../../../com/trolltech/qt/gui/QColormap.html#depth()">QColormap::depth()</a>. <p>The <tt>QColor::setNamedColor()</tt> function no longer supports the named color in the same way as Qt 3. Qt 4's <a href="../../../com/trolltech/qt/gui/QColor.html#setNamedColor(java.lang.String)">setNamedColor()</a> uses the new W3C convention as stated here. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Predefined Qt Colors</center></th></tr></thead><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::color0</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::color1</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::black</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::white</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkGray</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::gray</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::lightGray</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::red</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::green</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::blue</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::cyan</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::magenta</a></td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::yellow</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkRed</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkGreen</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkBlue</a></td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkCyan</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkMagenta</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::darkYellow</a></td><td> <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::transparent</a></td></tr></table> The predefined colors listed in the table above were static <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> objects in Qt 3. In Qt 4, they are enum values of type <a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::GlobalColor</a>. Thanks to the implicit <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a>(<a href="../../../com/trolltech/qt/core/Qt.GlobalColor.html">Qt::GlobalColor</a>) constructor, the enum values are automatically converted to <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a>s in most contexts. Occasionally, you might need a cast. <p>For example, if you have code likeQColor lightCyan = Qt::cyan.light(180); you can rewrite it asQColor lightCyan = QColor(Qt::cyan).light(180);<a name="qcolorgroup"><h2>QColorGroup</h2> In Qt 3, a <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> consisted of three QColorGroup objects. In Qt 4, the (rarely used) QColorGroup abstraction has been eliminated. For source compatibility, a QColorGroup class is available when <tt>QT3_SUPPORT</tt> is defined. <p>The new <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> still works in terms of color groups, specified through enum values (<a href="../../../com/trolltech/qt/gui/QPalette.ColorGroup.html">QPalette::Active</a>, <a href="../../../com/trolltech/qt/gui/QPalette.ColorGroup.html">QPalette::Disabled</a>, and <a href="../../../com/trolltech/qt/gui/QPalette.ColorGroup.html">QPalette::Inactive</a>). It also has the concept of a current color group, which you can set using <a href="../../../com/trolltech/qt/gui/QPalette.html#setCurrentColorGroup(com.trolltech.qt.gui.QPalette.ColorGroup)">QPalette::setCurrentColorGroup()</a>. <p>The <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> object returned by <a href="../../../com/trolltech/qt/gui/QWidget.html#palette()">QWidget::palette()</a> returns a <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> initialized with the correct current color group for the widget. This means that if you had code likepainter.setBrush(colorGroup().brush(QColorGroup::Text)); you can simply replace colorGroup() with palette(): <pre class="snippet">
painter.setBrush(palette().brush(QPalette::Text));
</pre><a name="qcolordrag"><h2>QColorDrag</h2> The <tt>QColorDrag</tt> class has been renamed Q3ColorDrag and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> instead and call QMimeData::setColor() to set the color.<a name="qcombobox"><h2>QComboBox</h2> In Qt 3, the list box used to display the contents of a <tt>QComboBox</tt> widget could be accessed by using the <tt>listBox()</tt> function. In Qt 4, the standard list box is provided by a <a href="../../../com/trolltech/qt/gui/QListView.html">QListView</a> widget, and can be accessed with the <a href="../../../com/trolltech/qt/gui/QComboBox.html#view()">view()</a> function. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QComboBox.html">QComboBox</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qcstring"><h2>QCString</h2> In Qt 3, <a href="porting4.html#qcstring">QCString</a> inherited from <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>. The main drawback of this approach is that the user had the responsibility of ensuring that the string is '\0'-terminated. Another important issue was that conversions between <tt>QCString</tt> and <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> often gave confusing results. (See the Achtung! Binary and Character Data article in Qt Quarterly for an overview of the pitfalls.) <p>Qt 4 solves that problem by merging the <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> and <tt>QCString</tt> classes into one class called <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>. Most functions that were in <tt>QCString</tt> previously have been moved to <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>. The '\0' issue is handled by having <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> allocate one extra byte that it always sets to '\0'. For example: <pre class="snippet">
QByteArray ba("Hello");
ba.size();             // returns 5 (the '\0' is not counted)
ba.length();           // returns 5
ba.data()[5];          // returns '\0'
</pre> The <a href="qt3support.html">Qt3Support</a> library contains a class called Q3CString that inherits from the new <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> class and that extends it to provide an API that is as close to the old <tt>QCString</tt> class as possible. Note that the following functions aren't provided by Q3CString: <ul><li> QCString::find(const <a href="../../../com/trolltech/qt/core/QRegExp.html">QRegExp</a> &, int)</li><li> QCString::findRev(const <a href="../../../com/trolltech/qt/core/QRegExp.html">QRegExp</a> &, int)</li><li> QCString::contains(const <a href="../../../com/trolltech/qt/core/QRegExp.html">QRegExp</a> &)</li><li> QCString::replace(const <a href="../../../com/trolltech/qt/core/QRegExp.html">QRegExp</a> &, const char *)</li></ul> The following functions have lost their last parameter, which specified whether the search was case sensitive or not: <ul><li> QByteArray::find(char, int)</li><li> QByteArray::find(const char *, int)</li><li> QByteArray::findRev(char, int)</li><li> QByteArray::findRev(const char *, int)</li><li> QByteArray::contains(char)</li><li> QByteArray::contains(const char *)</li></ul> In both cases, the solution is to convert the <tt>QCString</tt> to a QString and use the corresponding QString functions instead. <p>Also be aware that <tt>QCString::size()</tt> (inherited from <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>) used to return the size of the character data including the '\0'-terminator, whereas the new <a href="../../../com/trolltech/qt/core/QByteArray.html#size()">QByteArray::size()</a> is just a synonym for <a href="../../../com/trolltech/qt/core/QByteArray.html#length()">QByteArray::length()</a>. This brings <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> in line with QString. <p>When porting to Qt 4, occurrences of <tt>QCString</tt> should be replaced with <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> or QString. The following table summarizes the API differences between the Q3CString class and the Qt 4 <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> and QString classes: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3CString function</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3CString::Q3CString(const char *, uint)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3CString::Q3CString(int)</td><td> QByteArray::QByteArray(int, char)</td></tr><tr valign="top" class="even"><td> Q3CString::leftJustify()</td><td> QString::leftJustified()</td></tr><tr valign="top" class="odd"><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#length()">Q3CString::length()</a></td><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#length()">QByteArray::length()</a> or <a href="../../../com/trolltech/qt/core/QByteArray.html#size()">QByteArray::size()</a> (equivalent)</td></tr><tr valign="top" class="even"><td> Q3CString::lower()</td><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#toLower()">QByteArray::toLower()</a></td></tr><tr valign="top" class="odd"><td> Q3CString::rightJustify()</td><td> QString::rightJustified()</td></tr><tr valign="top" class="even"><td> Q3CString::setExpand()</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3CString::simplifyWhiteSpace()</td><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#simplified()">QByteArray::simplified()</a></td></tr><tr valign="top" class="even"><td> Q3CString::sprintf()</td><td> QString::sprintf()</td></tr><tr valign="top" class="odd"><td> Q3CString::stripWhiteSpace()</td><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#trimmed()">QByteArray::trimmed()</a></td></tr><tr valign="top" class="even"><td> Q3CString::toDouble()</td><td> QString::toDouble()</td></tr><tr valign="top" class="odd"><td> Q3CString::toFloat()</td><td> QString::toFloat()</td></tr><tr valign="top" class="even"><td> Q3CString::toInt()</td><td> QString::toInt()</td></tr><tr valign="top" class="odd"><td> Q3CString::toLong()</td><td> QString::toLong()</td></tr><tr valign="top" class="even"><td> Q3CString::toShort()</td><td> QString::toShort()</td></tr><tr valign="top" class="odd"><td> Q3CString::toUInt()</td><td> QString::toUInt()</td></tr><tr valign="top" class="even"><td> Q3CString::toULong()</td><td> QString::toULong()</td></tr><tr valign="top" class="odd"><td> Q3CString::toUShort()</td><td> QString::toUShort()</td></tr><tr valign="top" class="even"><td> Q3CString::upper()</td><td> <a href="../../../com/trolltech/qt/core/QByteArray.html#toUpper()">QByteArray::toUpper()</a></td></tr></table> Remarks: <ol><li> Q3CString(const char *str, uint max) constructs a string of length strlen(str) or max - 1, whichever is shorter. <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>(const char *data, int size) constructs a byte array containing exactly size bytes. <p>For example, if you have code like    QCString str1("Hello", 4);           // "Hel"
    QCString str2("Hello world!", n); you can rewrite it as    QByteArray str1("Hello", 3);
    QByteArray str2("Hello world!");
    str2.truncate(n - 1);</li><li> Q3CString::setExpand(uint index, char ch) has no equivalent in Qt 4. <p>For example, if you have code like    QCString str("Hello world");
    str.setExpand(16, '\n');            // "Hello world     \n" you can rewrite it as    QByteArray str("Hello world");
    while (str.size() < 16)
        str += ' ';
    str += '\n';</li></ol> Since the old <tt>QCString</tt> class inherited from <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>, everything that is said in the <a href="porting4.html#qbytearray-section">QByteArray section</a> applies for <tt>QCString</tt> as well.<a name="qcustomevent"><h2>QCustomEvent</h2> In Qt 3, developers could create a custom event by constructing a new QCustomEvent, and send relevant data to other components in the application by passing a void pointer, either on construction or using the setData() function. Objects could receive custom events by reimplementing the <a href="../../../com/trolltech/qt/core/QObject.html#customEvent(com.trolltech.qt.core.QEvent)">customEvent()</a> function, and access the stored data using the event's data() function. <p>In Qt 4, custom events are created by subclassing <a href="../../../com/trolltech/qt/core/QEvent.html">QEvent</a>. Event-specific data can be stored in a way that is appropriate for your application. Custom events are still delivered to each object's <a href="../../../com/trolltech/qt/core/QObject.html#customEvent(com.trolltech.qt.core.QEvent)">customEvent()</a> handler function, but as <a href="../../../com/trolltech/qt/core/QEvent.html">QEvent</a> objects rather than as deprecated QCustomEvent objects.<a name="qdatabrowser"><h2>QDataBrowser</h2> The <tt>QDataBrowser</tt> class has been renamed Q3DataBrowser and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="../../../com/trolltech/qt/gui/QDataWidgetMapper.html">QDataWidgetMapper</a> class to create data-aware forms. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qdatapump"><h2>QDataPump</h2> The <tt>QDataPump</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0. <p>If you use this mechanism in your application, please submit a report to the <a href="http://qtsoftware.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.<a name="qdatasink"><h2>QDataSink</h2> The <tt>QDataSink</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0. <p>If you use this mechanism in your application, please submit a report to the <a href="http://qtsoftware.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.<a name="qdatasource"><h2>QDataSource</h2> The <tt>QDataSource</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0. If you use this mechanism in your application, please submit a report to the <a href="http://qtsoftware.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.<a name="qdatatable"><h2>QDataTable</h2> The <tt>QDataTable</tt> class has been renamed Q3DataTable and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="../../../com/trolltech/qt/gui/QDataWidgetMapper.html">QDataWidgetMapper</a> class to create data-aware forms. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qdataview"><h2>QDataView</h2> The <tt>QDataView</tt> class has been renamed Q3DataView and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="../../../com/trolltech/qt/gui/QDataWidgetMapper.html">QDataWidgetMapper</a> class to create data-aware forms. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qdateedit"><h2>QDateEdit</h2> The <a href="../../../com/trolltech/qt/gui/QDateEdit.html">QDateEdit</a> class in Qt 4 is a convenience class based on <a href="../../../com/trolltech/qt/gui/QDateTimeEdit.html">QDateTimeEdit</a>. The old class has been renamed Q3DateEdit and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QDateEdit</tt> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qdatetimeeditbase"><h2>QDateTimeEditBase</h2> The <tt>QDateTimeEditBase</tt> class has been renamed Q3DateTimeEditBase and moved to <a href="qt3support.html">Qt3Support</a>. Use <a href="../../../com/trolltech/qt/gui/QDateTimeEdit.html">QDateTimeEdit</a> or <a href="../../../com/trolltech/qt/gui/QAbstractSpinBox.html">QAbstractSpinBox</a> instead.<a name="qdatetimeedit"><h2>QDateTimeEdit</h2> The old <tt>QDateTimeEdit</tt> class has been renamed Q3DateTimeEditBase and moved to <a href="qt3support.html">Qt3Support</a>. The new <a href="../../../com/trolltech/qt/gui/QDateTimeEdit.html">QDateTimeEdit</a> in Qt 4 has been rewritten from scratch to provide a more flexible and powerful API. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QDateTimeEdit.html">QDateTimeEdit</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qdeepcopy-t"><h2>QDeepCopy<T></h2> The <tt>QDeepCopy&lt;T&gt;</tt> class in Qt 3 provided a means of ensuring that implicitly shared and explicitly shared classes referenced unique data. This was necessary because the reference counting in Qt's container classes was done in a thread-unsafe manner. <p>With Qt 4, <tt>QDeepCopy&lt;T&gt;</tt> has been renamed Q3DeepCopy&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. Removing it from existing code is straightforward. <p>For example, if you have code likeQString str1 = "I am a string";
QDeepCopy<QString> str2 = str1;
QString str3 = QDeepCopy<QString>(str2); you can rewrite it asQString str1 = "I am a string";
QString str2 = str1;
QString str3 = str2;<a name="qdial"><h2>QDial</h2> See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QDial.html">QDial</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4. <p>See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QDial.html">QDial</a> properties in Qt 3 that have changed in Qt 4.<a name="qdict-section"><a name="qdict-t"><h2>QDict<T></h2> <tt>QDict&lt;T&gt;</tt> has been renamed Q3Dict&lt;T&gt; and moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the more modern QHash&lt;Key, T&gt; and QMultiHash&lt;Key, T&gt; classes. <p>When porting old code that uses QDict&lt;T&gt; to Qt 4, there are four classes that you can use: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 4 class</center></th><th><center> When to use it</center></th></tr></thead><tr valign="top" class="even"><td> QMultiHash&lt;QString, T *&gt;</td><td> Since Q3Dict&lt;T&gt; is pointer-based and allows duplicate keys, this is usually the most straightforward conversion.</td></tr><tr valign="top" class="odd"><td> QMultiHash&lt;QString, T&gt;</td><td> If type <tt>T</tt> is an <a href="containers.html">assignable data type</a>, you can use <tt>T</tt> as the value type rather than <tt>T *</tt>. This often leads to nicer code.</td></tr><tr valign="top" class="even"><td> QHash&lt;QString, T *&gt;</td><td rowspan=2> If you don't use duplicate keys, you can use QHash instead of QMultiHash. QMultiHash inherits from QHash.</td></tr><tr valign="top" class="odd"><td> QHash&lt;QString, T&gt;</td></tr></table> The APIs of Q3Dict&lt;T&gt; and QMultiHash&lt;QString, T *&gt; are quite similar. The main issue is that Q3Dict supports auto-delete whereas QMultiHash doesn't. <p>The following table summarizes the API differences between the two classes: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3Dict function</center></th><th><center> QMultiHash equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3Dict::Q3Dict(int size, bool caseSensitive)</td><td> See remarks below</td></tr><tr valign="top" class="odd"><td> Q3Dict::autoDelete()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3Dict::count()</td><td> QMultiHash::count() or QMultiHash::size() (equivalent)</td></tr><tr valign="top" class="odd"><td> Q3Dict::find(const QString &)</td><td> QMultiHash::value(const QString &)</td></tr><tr valign="top" class="even"><td> Q3Dict::remove(const QString &)</td><td> QMultiHash::take(const QString &)</td></tr><tr valign="top" class="odd"><td> Q3Dict::resize(uint)</td><td> QMultiHash::reserve(int)</td></tr><tr valign="top" class="even"><td> Q3Dict::setAutoDelete()</td><td> See discussion below</td></tr><tr valign="top" class="odd"><td> Q3Dict::size()</td><td> QMultiHash::capacity()</td></tr><tr valign="top" class="even"><td> Q3Dict::statistics()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3Dict::operator[](const QString &)</td><td> See remark below</td></tr></table> Remarks: <ol><li> Q3Dict requires the user to allocate a specific number of buckets by passing a prime number (17 by default) to the constructor and/or calling Q3Dict::resize() later on. In contrast, QMultiHash's hash table automatically grows and shrinks as needed, and the constructor doesn't take a prime number.</li><li> Q3Dict supportes case-insensitive lookups by passing false as second argument to the constructor. This feature has no equivalent in QMultiHash. Instead, call QString::toLower() before you insert or lookup a key in the hash.</li><li> Q3Dict::size() and QMultiHash::size() have different semantics. The former returns the number of buckets in the container, whereas the latter returns the number of items in the container.</li><li> If there are multiple items with the same key, Q3Dict::remove() removes only the most recently inserted item, whereas QMultiHash::remove() removes all items that share a particular key. To remove only the most recently inserted item, call QMultiHash::take().</li><li> Q3Dict has only one [] operator (Q3Dict::operator[]()), providing const access to an item's value. QMultiHash also has a non-const overload that can be used on the left side of the assignment operator. If you use the [] operator on a non-const QHash with an unexisting item, QHash will created an element and initialize it to be a null pointer. For that reason, Q3Dict::operator[] should be converted to QMultiHash::value(), not QMultiHash::operator[].</li></ol> If you use Q3Dict's auto-delete feature (by calling Q3Dict::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you use QMultiHash&lt;QString, T&gt; instead of QMultiHash&lt;QString, T *&gt; (i.e. store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>. <p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3Dict idiom</center></th><th><center> QMultiHash idiom</center></th></tr></thead><tr valign="top" class="even"><td> <pre class="snippet">
dict.replace(key, value);
</pre></td><td> <pre class="snippet">
delete hash.take(key);
hash.insert(key, value);
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
dict.remove(key, value);
</pre></td><td> <pre class="snippet">
delete hash.take(key);
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
dict.clear();
</pre> (also called from Q3Dict's destructor)</td><td> <pre class="snippet">
while (!hash.isEmpty()) {
    T *value = *hash.begin();
    hash.erase(hash.begin());
    delete value;
}
</pre> In 99% of cases, the following idiom also works: <pre class="snippet">
qDeleteAll(hash);
hash.clear();
</pre> However, it may lead to crashes if <tt>hash</tt> is referenced from the value type's destructor, because <tt>hash</tt> contains dangling pointers until clear() is called.</td></tr></table> Be aware that Q3Dict's destructor automatically calls clear(). If you have a Q3Dict data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak. <p>Finally, <tt>QDictIterator&lt;T&gt;</tt> (renamed Q3DictIterator&lt;T&gt;) must also be ported. There are no fewer than four iterator classes that can be used as a replacement: QHash::const_iterator, QHash::iterator, QHashIterator, and QMutableHashIterator. The most straightforward class to use when porting is QHashIterator&lt;QString, T *&gt;. The following table summarizes the API differences: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Q3DictIterator functions</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3DictIterator::count()</td><td> QHash::count() or QHash::size()</td></tr><tr valign="top" class="odd"><td> Q3DictIterator::current()</td><td> QHashIterator::value()</td></tr><tr valign="top" class="even"><td> Q3DictIterator::currentKey()</td><td> QHashIterator::key()</td></tr><tr valign="top" class="odd"><td> Q3DictIterator::isEmpty()</td><td> QHash::isEmpty()</td></tr><tr valign="top" class="even"><td> Q3DictIterator::toFirst()</td><td> QHashIterator::toFront()</td></tr><tr valign="top" class="odd"><td> Q3DictIterator::operator()()</td><td> QHashIterator::value()</td></tr><tr valign="top" class="even"><td> Q3DictIterator::operator*()</td><td> QHashIterator::value()</td></tr><tr valign="top" class="odd"><td> Q3DictIterator::operator++()</td><td> See remark below</td></tr></table> Be aware that QHashIterator has a different way of iterating than Q3DictIterator. A typical loop with Q3DictIterator looks like this: <pre class="snippet">
Q3DictIterator&lt;QWidget&gt; i(dict);
while (i.current() != 0) {
    do_something(i.currentKey(), i.current());
    ++i;
}
</pre> Here's the equivalent QHashIterator loop: <pre class="snippet">
QHashIterator&lt;QString, QWidget *&gt; i(hash);
while (i.hasNext()) {
    i.next();                   // must come first
    do_something(i.key(), i.value());
}
</pre> See <a href="containers.html">Java-style iterators</a> for details.<a name="qdir"><h2>QDir</h2> The following functions used to have a boolean <tt>acceptAbsPath</tt> parameter that defaulted to true: <ul><li> <a href="../../../com/trolltech/qt/core/QDir.html#filePath(java.lang.String)">QDir::filePath()</a></li><li> QDir::absFilePath()</li><li> <a href="../../../com/trolltech/qt/core/QDir.html#cd(java.lang.String)">QDir::cd()</a></li><li> <a href="../../../com/trolltech/qt/core/QDir.html#mkdir(java.lang.String)">QDir::mkdir()</a></li><li> <a href="../../../com/trolltech/qt/core/QDir.html#rmdir(java.lang.String)">QDir::rmdir()</a></li><li> <a href="../../../com/trolltech/qt/core/QDir.html#remove(java.lang.String)">QDir::remove()</a></li><li> <a href="../../../com/trolltech/qt/core/QDir.html#rename(java.lang.String, java.lang.String)">QDir::rename()</a></li><li> <a href="../../../com/trolltech/qt/core/QDir.html#exists()">QDir::exists()</a></li></ul> In Qt 3, if <tt>acceptAbsPath</tt> is true, a file name starting with '/' is be returned without change; if <tt>acceptAbsPath</tt> is false, an absolute path is prepended to the file name. For example: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Current directory</center></th><th><center> File name</center></th><th><center> <tt>acceptAbsPath</tt></center></th><th><center> File path</center></th></tr></thead><tr valign="top" class="even"><td rowspan=2> /home/tsmith</td><td rowspan=2> index.html</td><td> true</td><td> /home/tsmith/index.html</td></tr><tr valign="top" class="odd"><td> false</td><td> /home/tsmith/index.html</td></tr><tr valign="top" class="even"><td rowspan=2> /home/tsmith</td><td rowspan=2> /index.html</td><td> true</td><td> /index.html</td></tr><tr valign="top" class="odd"><td> false</td><td> /home/tsmith/index.html</td></tr></table> In Qt 4, this parameter is no longer available. If you use it in your code, you can check that <a href="../../../com/trolltech/qt/core/QDir.html#isRelativePath(java.lang.String)">QDir::isRelativePath()</a> returns false instead. <p>For example, if you have code likeQDir dir("/home/tsmith");
QString path = dir.filePath(fileName, false); you can rewrite it asQDir dir("/home/tsmith");
QString path;
if (dir.isRelativePath(fileName))
    path = dir.filePath(fileName);
else
    path = fileName; QDir::encodedEntryList() has been removed. <p>fileInfoList(), entryInfoList(), and drives() now return a QList&lt;<a href="../../../com/trolltech/qt/core/QFileInfo.html">QFileInfo</a>&gt; and not a QPtrList&lt;<a href="../../../com/trolltech/qt/core/QFileInfo.html">QFileInfo</a>&gt; *. Code using these methods will not work with the <a href="qt3support.html">Qt3Support</a> library and must be adapted instead. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/core/QDir.html">QDir</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4. <p><a href="../../../com/trolltech/qt/core/QDir.html#match(java.lang.String, java.lang.String)">QDir::match()</a> now always matches case insensitively. <p>QDir::homeDirPath() has been removed. Use <a href="../../../com/trolltech/qt/core/QDir.html#home()">QDir::home()</a> instead, and extract the path separately.<a name="qdns"><h2>QDns</h2> Qt 3 used its own implementation of the DNS protocol and provided a low-level <tt>QDns</tt> class. Qt 4's <a href="../../../com/trolltech/qt/network/QHostInfo.html">QHostInfo</a> class uses the system's <tt>gethostbyname()</tt> function from a thread instead. <p>The old <tt>QDns</tt> class has been renamed Q3Dns and moved to the <a href="qt3support.html">Qt3Support</a> library. The new <a href="../../../com/trolltech/qt/network/QHostInfo.html">QHostInfo</a> class has a radically different API: It consists mainly of two static functions, one of which is blocking (<a href="../../../com/trolltech/qt/network/QHostInfo.html#fromName(java.lang.String)">QHostInfo::fromName()</a>), the other non-blocking (<a href="../../../com/trolltech/qt/network/QHostInfo.html#lookupHost(java.lang.String, com.trolltech.qt.core.QObject, java.lang.String)">QHostInfo::lookupHost()</a>). See the <a href="../../../com/trolltech/qt/network/QHostInfo.html">QHostInfo</a> class documentation for details.<a name="qdockarea"><h2>QDockArea</h2> The <tt>QDockArea</tt> class has been renamed Q3DockArea and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, <a href="../../../com/trolltech/qt/gui/QMainWindow.html">QMainWindow</a> handles the dock and toolbar areas itself. See the <a href="../../../com/trolltech/qt/gui/QMainWindow.html">QMainWindow</a> documentation for details.<a name="qdockwindow"><h2>QDockWindow</h2> The old <tt>QDockWindow</tt> class has been renamed Q3DockWindow and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, there is a new <a href="../../../com/trolltech/qt/gui/QDockWidget.html">QDockWidget</a> class with a different API. See the class documentation for details. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QDockWidget.html">QDockWidget</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4. <p><b>Note:</b>Q3DockWindow's horizontallyStretchable property can be achieved in <a href="../../../com/trolltech/qt/gui/QDockWidget.html">QDockWidget</a> with <a href="../../../com/trolltech/qt/gui/QWidget.html">size policies</a>.<a name="qdragobject"><h2>QDragObject</h2> The <tt>QDragObject</tt> class has been renamed Q3DragObject and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by the <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> class. See the class documentation for details. <p>Note that the Q3DragObject::DragCopyOrMove drag and drop mode is interpreted differently to Qt 3's QDragObject::DragCopyOrMove mode. In Qt 3, a move operation was performed by default, and the user had to hold down the <b>Ctrl</b> key to perform a copy operation. In Qt 4, a copy operation is performed by default; the user has to hold down the <b>Shift</b> key to perform a move operation. <p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qdropsite"><h2>QDropSite</h2> The <tt>QDropSite</tt> class has been renamed Q3DropSite and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>The <a href="porting4.html#qdropsite">QDropSite</a> class has been obsolete ever since Qt 2.0. The only thing it does is call QWidget::setAcceptDrops(true). <p>For example, if you have code likeclass MyWidget : public QWidget, public QDropSite
{
public:
    MyWidget(const QWidget *parent)
        : QWidget(parent), QDropSite(this)
    {
    }
    ...
} you can rewrite it asclass MyWidget : public QWidget
{
public:
    MyWidget(const QWidget *parent)
        : QWidget(parent)
    {
        setAcceptDrops(true);
    }
    ...
} See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qeditorfactory"><h2>QEditorFactory</h2> The <tt>QEditorFactory</tt> class has been renamed Q3EditorFactory and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qeventloop"><h2>QEventLoop</h2> In Qt 3, <tt>QEventLoop</tt> combined the Qt event loop and the event dispatching. In Qt 4, these tasks are now assigned to two distinct classes: <a href="../../../com/trolltech/qt/core/QEventLoop.html">QEventLoop</a> and <a href="../../../com/trolltech/qt/core/QAbstractEventDispatcher.html">QAbstractEventDispatcher</a>. <p>If you subclassed <a href="../../../com/trolltech/qt/core/QEventLoop.html">QEventLoop</a> to integrate with another library's event loop, you must subclass <a href="../../../com/trolltech/qt/core/QAbstractEventDispatcher.html">QAbstractEventDispatcher</a> instead. See the class documentation for details. <p>Developers using <tt>QEventLoop::loopLevel()</tt> in Qt 3 should use QCoreApplication::loopLevel() instead. Note that this function is marked as obsolete, but it is expected to be available for the lifetime of Qt 4.<a name="qfiledialog"><h2>QFileDialog</h2> The <a href="../../../com/trolltech/qt/gui/QFileDialog.html">QFileDialog</a> class in Qt 4 has been totally rewritten. It provides most of the functionality of the old <tt>QFileDialog</tt> class, but with a different API. Some functionality, such as the ability to preview files, is expected to be added in a later Qt 4 release. <p>The old <tt>QFileDialog</tt>, <tt>QFileIconProvider</tt>, and <tt>QFilePreview</tt> classes has been renamed Q3FileDialog, Q3FileIconProvider, and Q3FilePreview and have been moved to <a href="qt3support.html">Qt3Support</a>. You can use them if you need some functionality not provided yet by the new <a href="../../../com/trolltech/qt/gui/QFileDialog.html">QFileDialog</a> class. <p>The following table lists which functions have been renamed or removed in Qt 4. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Old function</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> Q3FileDialog::addFilter(const QString &)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::addLeftWidget(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::addRightWidget(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::addToolButton(<a href="../../../com/trolltech/qt/gui/QAbstractButton.html">QAbstractButton</a> *, bool separator)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::addWidgets(<a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a> *, <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *, <a href="../../../com/trolltech/qt/gui/QPushButton.html">QPushButton</a> *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::dir()</td><td> <a href="../../../com/trolltech/qt/gui/QFileDialog.html#directory()">QFileDialog::directory()</a></td></tr><tr valign="top" class="even"><td> Q3FileDialog::dirPath()</td><td> <a href="../../../com/trolltech/qt/gui/QFileDialog.html#directory()">QFileDialog::directory()</a>.path()</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::iconProvider()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::isContentsPreviewEnabled()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::isInfoPreviewEnabled()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::previewMode()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::rereadDir()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::resortDir()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::selectAll(bool)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setContentsPreview(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *, Q3FilePreview *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setContentsPreviewEnabled(bool)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setDir(const QString &)</td><td> QFileDialog::setDirectory(const QString &)</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setFilters(const char **)</td><td> Q3FileDialog::setFilters(const QStringList &)</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setIconProvider(Q3FileIconProvider *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setInfoPreview(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *, Q3FilePreview *)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setInfoPreviewEnabled(bool)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setPreviewMode(PreviewMode)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setSelectedFilter(const QString &)</td><td> QFileDialog::selectFilter(const QString &)</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setSelectedFilter(int)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setSelection(const QString &)</td><td> QFileDialog::selectFile(const QString &)</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::setShowHiddenFiles(bool)</td><td> showHidden()</td></tr><tr valign="top" class="even"><td> Q3FileDialog::setUrl(const <a href="porting4.html#qurloperator">QUrlOperator</a> &)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::showHiddenFiles()</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::url()</td><td> QUrl::fromLocalFile(<a href="../../../com/trolltech/qt/gui/QFileDialog.html#directory()">QFileDialog::directory()</a>)</td></tr><thead><tr class="qt-style" valign="top"><th><center> Old signals</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="odd"><td> Q3FileDialog::fileHighlighted(const QString &)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::fileSelected(const QString &)</td><td> QFileDialog::filesSelected(const QStringList &)</td></tr><tr valign="top" class="odd"><td> Q3FileDialog::dirEntered(const QString &)</td><td> N/A</td></tr><tr valign="top" class="even"><td> Q3FileDialog::filterSelected(const QString &)</td><td> N/A</td></tr></table> Remarks: <ol><li> The Q3FileDialog::addFilter(const QString &) function has no direct equivalent in the new <a href="../../../com/trolltech/qt/gui/QFileDialog.html">QFileDialog</a>. Use QFileDialog::setFilters() instead. <p>For example, if you have code like    fileDialog->addFilter(tr("JPEG files (*.jpg *.jpeg)")); you can rewrite it as    QStringList filters = fileDialog->filters();
    filters << tr("JPEG files (*.jpg *.jpeg)");
    fileDialog->setFilters(filters);</li><li> The Q3FileDialog::setSelectedFilter(int) overload has no direct equivalent in the new <a href="../../../com/trolltech/qt/gui/QFileDialog.html">QFileDialog</a>. Use QFileDialog::selectFilter(const QString &) instead. <p>For example, if you have code like    fileDialog->setSelectedFilter(3); you can rewrite it as    fileDialog->selectFilter(fileDialog->filters().at(3));</li></ol> There are no equivalent virtual functions to the two Q3FileDialog::setSelectedFilter() virtual functions in the <a href="../../../com/trolltech/qt/gui/QFileDialog.html">QFileDialog</a> API. In addition, these functions have been renamed or removed, as described above.<a name="qfocusdata"><h2>QFocusData</h2> The <a href="porting4.html#qfocusdata">QFocusData</a> class is not available in Qt 4. Some of its functionality is available via the <a href="../../../com/trolltech/qt/gui/QWidget.html#nextInFocusChain()">QWidget::nextInFocusChain()</a> and <a href="../../../com/trolltech/qt/gui/QWidget.html#focusNextPrevChild(boolean)">QWidget::focusNextPrevChild()</a> functions.<a name="qfocusevent"><h2>QFocusEvent</h2> The setReason() function is no longer present in Qt 4. It is necessary to define the reason when constructing a focus event.<a name="qfont"><h2>QFont</h2> <tt>QFont::Script</tt> has been moved to <a href="../../../com/trolltech/qt/gui/QFontDatabase.WritingSystem.html">QFontDatabase::WritingSystem</a>.<a name="qframe"><h2>QFrame</h2> The <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> class has been made more lightweight in Qt 4, by reducing the number of properties and virtual functions. The reduction in the number of virtual functions is significant because <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> is the base class of many Qt classes. <p>Here's an overview of the changes: <ul><li> <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> no longer has a <tt>margin</tt> property (which wasn't honored by Qt's layout managers anyway).</li><li> <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> no longer has a frameChanged() function, reimplement <a href="../../../com/trolltech/qt/gui/QWidget.html#resizeEvent(com.trolltech.qt.gui.QResizeEvent)">QFrame::resizeEvent()</a> instead.</li><li> <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> used to have drawFrame(<a href="../../../com/trolltech/qt/gui/QPainter.html">QPainter</a> *) and drawContents(<a href="../../../com/trolltech/qt/gui/QPainter.html">QPainter</a> *) virtual functions. These are now gone. In Qt 4, the frame is drawn by the <a href="../../../com/trolltech/qt/gui/QWidget.html#paintEvent(com.trolltech.qt.gui.QPaintEvent)">QFrame::paintEvent()</a> function. If you want to change the way <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> paints itself, reimplement this function. To draw the contents of the frame, reimplement <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a>:paintEvent() and call the base class implementation of the function before you use the <a href="../../../com/trolltech/qt/gui/QWidget.html#contentsRect()">contentsRect()</a> function inherited from <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>, to retrieve the rectangle to paint on.</li></ul> To help with porting, the <a href="qt3support.html">Qt3Support</a> library contains a Q3Frame class that inherits <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> and provides a similar API to the old <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> class. If you derived from <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> in your application, you might want to use Q3Frame as a base class as a first step in the porting process, and later move on to the new <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> class. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qftp"><h2>QFtp</h2> <a href="../../../com/trolltech/qt/network/QFtp.html">QFtp</a> no longer inherits from <a href="porting4.html#qnetworkprotocol">QNetworkProtocol</a>. See the <a href="porting4.html#qnetworkprotocol-section">section on QNetworkProtocol</a> for details. <p>The old <tt>QFtp</tt> class has been renamed Q3Ftp and moved to the <a href="qt3support.html">Qt3Support</a> library.<a name="qglayoutiterator-section"><a name="qglayoutiterator"><h2>QGLayoutIterator</h2> The <a href="porting4.html#qglayoutiterator">QGLayoutIterator</a> class no longer exists in Qt 4. This makes only a difference if you implemented custom layout managers (i.e., <a href="../../../com/trolltech/qt/gui/QLayout.html">QLayout</a> subclasses). <p>The new approach is much simpler: It consists in reimplementing <a href="../../../com/trolltech/qt/gui/QLayout.html#itemAt(int)">QLayout::itemAt()</a> and <a href="../../../com/trolltech/qt/gui/QLayout.html#takeAt(int)">QLayout::takeAt()</a>. These functions operate on indexes, eliminating the need for a layout iterator class.<a name="qgrid"><h2>QGrid</h2> The <tt>QGrid</tt> class is now only available as Q3Grid in Qt 4. You can achieve the same result as <tt>QGrid</tt> by creating a <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> with a grid layout: <p>For example, if you have code likeQGrid *grid = new QGrid(2, Qt::Horizontal);
QPushButton *child1 = new QPushButton(grid);
QPushButton *child2 = new QPushButton(grid);
QPushButton *child3 = new QPushButton(grid);
QPushButton *child4 = new QPushButton(grid); you can rewrite it asQWidget *grid = new QWidget;
QPushButton *child1 = new QPushButton(grid);
QPushButton *child2 = new QPushButton(grid);
QPushButton *child3 = new QPushButton(grid);
QPushButton *child4 = new QPushButton(grid);

QVBoxLayout *layout = new QVBoxLayout;
layout->addWidget(child1, 0, 0);
layout->addWidget(child2, 0, 1);
layout->addWidget(child3, 1, 0);
layout->addWidget(child4, 1, 1);
grid->setLayout(layout);<a name="qgridlayout"><h2>QGridLayout</h2> See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QGridLayout.html">QGridLayout</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qgridview"><h2>QGridView</h2> The <tt>QGridView</tt> class has been renamed Q3GridView and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, we recommend that you use <a href="../../../com/trolltech/qt/gui/QTableView.html">QTableView</a> or <a href="../../../com/trolltech/qt/gui/QAbstractItemView.html">QAbstractItemView</a> for presenting tabular data. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qgroupbox-section"><a name="qgroupbox"><h2>QGroupBox</h2> The <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> class has been redesigned in Qt 4. Many of the features of the old <tt>QGroupBox</tt> class can be obtained by using the Q3GroupBox class from the <a href="qt3support.html">Qt3Support</a> library. <p>The new <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> is more lightweight. It doesn't attempt to duplicate functionality already provided by <a href="../../../com/trolltech/qt/gui/QGridLayout.html">QGridLayout</a>, and it does not inherit from <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a>. As a result, the following members have been removed: <ul><li> Q3GroupBox::setColumns(), Q3GroupBox::columns()</li><li> Q3GroupBox::setOrientation(), Q3GroupBox::orientation()</li><li> Q3GroupBox::setInsideMargin(), Q3GroupBox::insideMargin()</li><li> Q3GroupBox::addSpace()</li></ul> Naturally, the <tt>columns</tt> and <tt>orientation</tt> properties have also been removed. <p>If you rely on some of the missing functionality in your application, you can use Q3GroupBox instead of <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> as a help to porting. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qhbox"><h2>QHBox</h2> The <tt>QHBox</tt> class is now only available as Q3HBox in Qt 4. You can achieve the same result as <tt>QHBox</tt> by creating a <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> with an horizontal layout: <p>For example, if you have code likeQHBox *hbox = new QHBox;
QPushButton *child1 = new QPushButton(hbox);
QPushButton *child2 = new QPushButton(hbox); you can rewrite it asQWidget *hbox = new QWidget;
QPushButton *child1 = new QPushButton;
QPushButton *child2 = new QPushButton;

QHBoxLayout *layout = new QHBoxLayout;
layout->addWidget(child1);
layout->addWidget(child2);
hbox->setLayout(layout); Note that child widgets are not automatically placed into the widget's layout; you will need to manually add each widget to the <a href="../../../com/trolltech/qt/gui/QHBoxLayout.html">QHBoxLayout</a>.<a name="qheader"><h2>QHeader</h2> The <tt>QHeader</tt> class has been renamed Q3Header and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it is replaced by the <a href="../../../com/trolltech/qt/gui/QHeaderView.html">QHeaderView</a> class. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qhgroupbox"><h2>QHGroupBox</h2> The <tt>QHGroupBox</tt> class has been renamed Q3HGroupBox and moved to the <a href="qt3support.html">Qt3Support</a> library. Qt 4 does not provide a specific replacement class for <tt>QHGroupBox</tt> since <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> is designed to be a generic container widget. As a result, you need to supply your own layout for any child widgets. <p>See <a href="porting4.html#qgroupbox">#QGroupBox</a> for more information about porting code that uses group boxes.<a name="qhttp"><h2>QHttp</h2> <a href="../../../com/trolltech/qt/network/QHttp.html">QHttp</a> no longer inherits from <a href="porting4.html#qnetworkprotocol">QNetworkProtocol</a>. See the See the <a href="porting4.html#qnetworkprotocol-section">section on QNetworkProtocol</a> for details. <p>The old <tt>QHttp</tt>, <tt>QHttpHeader</tt>, <tt>QHttpRequestHeader</tt>, and <tt>QHttpResponseHeader</tt> classes have been renamed Q3Http, Q3HttpHeader, Q3HttpRequestHeader, and Q3HttpResponseHeader and have been moved to the <a href="qt3support.html">Qt3Support</a> library.<a name="qiconfactory"><h2>QIconFactory</h2> The <a href="porting4.html#qiconfactory">QIconFactory</a> class is no longer part of Qt. It has been replaced by the <a href="../../../com/trolltech/qt/gui/QIconEngine.html">QIconEngine</a> class.<a name="qiconset"><h2>QIconSet</h2> The QIconSet class is no longer part of Qt. It has been replaced by the <a href="../../../com/trolltech/qt/gui/QIcon.html">QIcon</a> class.<a name="qiconview"><h2>QIconView</h2> The <tt>QIconView</tt>, <tt>QIconViewItem</tt>, <tt>QIconDrag</tt>, and <tt>QIconDragItem</tt> classes has been renamed Q3IconView, Q3IconViewItem, Q3IconDrag, and Q3IconDragItem and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use <a href="../../../com/trolltech/qt/gui/QListWidget.html">QListWidget</a> or its base class <a href="../../../com/trolltech/qt/gui/QListView.html">QListView</a> instead, and call QListView::setViewMode(<a href="../../../com/trolltech/qt/gui/QListView.ViewMode.html">QListView::IconMode</a>) to obtain an "icon view" look. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qimagedrag"><h2>QImageDrag</h2> The <tt>QImageDrag</tt> class has been renamed Q3ImageDrag and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> instead and call QMimeData::setImage() to set the image. <p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qimageio"><h2>QImageIO</h2> The <tt>QImageIO</tt> class has been split into two classes: <a href="../../../com/trolltech/qt/gui/QImageReader.html">QImageReader</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html">QImageWriter</a>. The table below shows the correspondance between the two APIs: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 function</center></th><th><center> Qt 4 equivalents</center></th></tr></thead><tr valign="top" class="even"><td> QImageIO::description()</td><td> QImageWriter::description()</td></tr><tr valign="top" class="odd"><td> QImageIO::fileName()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#fileName()">QImageReader::fileName()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#fileName()">QImageWriter::fileName()</a></td></tr><tr valign="top" class="even"><td> QImageIO::format()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#format()">QImageReader::format()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#format()">QImageWriter::format()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::gamma()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#gamma()">QImageWriter::gamma()</a></td></tr><tr valign="top" class="even"><td> QImageIO::image()</td><td> Return value of <a href="../../../com/trolltech/qt/gui/QImageReader.html#read()">QImageReader::read()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::inputFormats()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#supportedImageFormats()">QImageReader::supportedImageFormats()</a></td></tr><tr valign="top" class="even"><td> QImageIO::ioDevice()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#device()">QImageReader::device()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#device()">QImageWriter::device()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::outputFormats()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#supportedImageFormats()">QImageWriter::supportedImageFormats()</a></td></tr><tr valign="top" class="even"><td> QImageIO::parameters()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QImageIO::quality()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#quality()">QImageWriter::quality()</a></td></tr><tr valign="top" class="even"><td> QImageIO::read()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#read()">QImageReader::read()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::setDescription()</td><td> QImageWriter::setDescription()</td></tr><tr valign="top" class="even"><td> QImageIO::setFileName()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#setFileName(java.lang.String)">QImageReader::setFileName()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#setFileName(java.lang.String)">QImageWriter::setFileName()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::setFormat()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#setFormat(com.trolltech.qt.core.QByteArray)">QImageReader::setFormat()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#setFormat(com.trolltech.qt.core.QByteArray)">QImageWriter::setFormat()</a></td></tr><tr valign="top" class="even"><td> QImageIO::setGamma()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#setGamma(float)">QImageWriter::setGamma()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::setIODevice()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#setDevice(com.trolltech.qt.core.QIODevice)">QImageReader::setDevice()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#setDevice(com.trolltech.qt.core.QIODevice)">QImageWriter::setDevice()</a></td></tr><tr valign="top" class="even"><td> QImageIO::setImage()</td><td> Argument to <a href="../../../com/trolltech/qt/gui/QImageWriter.html#write(com.trolltech.qt.gui.QImage)">QImageWriter::write()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::setParameters()</td><td> N/A</td></tr><tr valign="top" class="even"><td> QImageIO::setQuality()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#setQuality(int)">QImageWriter::setQuality()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::setStatus()</td><td> N/A</td></tr><tr valign="top" class="even"><td> QImageIO::status()</td><td> <a href="../../../com/trolltech/qt/gui/QImageReader.html#error()">QImageReader::error()</a> and <a href="../../../com/trolltech/qt/gui/QImageWriter.html#error()">QImageWriter::error()</a></td></tr><tr valign="top" class="odd"><td> QImageIO::write()</td><td> <a href="../../../com/trolltech/qt/gui/QImageWriter.html#write(com.trolltech.qt.gui.QImage)">QImageWriter::write()</a></td></tr></table><a name="qintcache-t"><h2>QIntCache<T></h2> QIntCache&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by QCache&lt;int, T&gt;. <p>For details, read the <a href="porting4.html#qcache-section">section on QCache<T></a>, mentally substituting <tt>int</tt> for QString.<a name="qintdict-t"><h2>QIntDict<T></h2> QIntDict&lt;T&gt; and QIntDictIterator&lt;T&gt; have been moved to <a href="qt3support.html">Qt3Support</a>. They have been replaced by the more modern QHash&lt;Key, T&gt; and QMultiHash&lt;Key, T&gt; classes and their associated iterator classes. <p>When porting old code that uses QIntDict&lt;T&gt; to Qt 4, there are four classes that you can use: <ul><li> QMultiHash&lt;int, T *&gt;</li><li> QMultiHash&lt;int, T&gt;</li><li> QHash&lt;int, T *&gt;</li><li> QHash&lt;int, T&gt;</li></ul> For details, read the <a href="porting4.html#qdict-section">section on QDict<T></a>, mentally substituting <tt>int</tt> for QString.<a name="qiodevice-section"><a name="qiodevice"><h2>QIODevice</h2> The <a href="../../../com/trolltech/qt/core/QIODevice.html">QIODevice</a> class's API has been simplified to make it easier to subclass and to make it work more smoothly with asynchronous devices such as <a href="../../../com/trolltech/qt/network/QTcpSocket.html">QTcpSocket</a> and <a href="../../../com/trolltech/qt/core/QProcess.html">QProcess</a>. <p>The following virtual functions have changed name or signature: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 function</center></th><th><center> Comment</center></th></tr></thead><tr valign="top" class="even"><td> QIODevice::at() const</td><td> Renamed <a href="../../../com/trolltech/qt/core/QIODevice.html#pos()">QIODevice::pos()</a>.</td></tr><tr valign="top" class="odd"><td> QIODevice::at(Offset)</td><td> Renamed <a href="../../../com/trolltech/qt/core/QIODevice.html#seek(long)">QIODevice::seek()</a>.</td></tr><tr valign="top" class="even"><td> QIODevice::open(int)</td><td> The parameter is now of type QIODevice::OpenMode.</td></tr><tr valign="top" class="odd"><td> QIODevice::readBlock(char *, Q_ULONG)</td><td> QIODevice::read(char *, qint64)</td></tr><tr valign="top" class="even"><td> QIODevice::writeBlock(const char *, Q_ULONG)</td><td> QIODevice::write(const char *, qint64)</td></tr></table> <b>Note:</b> QIODevice::open(QIODevice::OpenMode) is no longer pure virtual. <p>The following functions are no longer virtual or don't exist anymore: <table align="center" border="0" cellpadding="2" cellspacing="1"><tr valign="top" class="even"><td> QIODevice::getch()</td><td> Renamed QIODevice::getChar() and implemented in terms of <a href="../../../com/trolltech/qt/core/QIODevice.html#readData(byte[])">QIODevice::readData()</a>.</td></tr><tr valign="top" class="odd"><td> QIODevice::putch(int)</td><td> Renamed QIODevice::putChar() and implemented in terms of <a href="../../../com/trolltech/qt/core/QIODevice.html#writeData(byte[])">QIODevice::writeData()</a>.</td></tr><tr valign="top" class="even"><td> <a href="../../../com/trolltech/qt/core/QIODevice.html#readAll()">QIODevice::readAll()</a></td><td> Implemented in terms of <a href="../../../com/trolltech/qt/core/QIODevice.html#readData(byte[])">QIODevice::readData()</a>.</td></tr><tr valign="top" class="odd"><td> QIODevice::readLine(char *, Q_ULONG)</td><td> Implemented in terms of <a href="../../../com/trolltech/qt/core/QIODevice.html#readData(byte[])">QIODevice::readData()</a></td></tr><tr valign="top" class="even"><td> QIODevice::ungetch(int)</td><td> Renamed QIODevice::ungetChar() and simulated using an internal unget buffer.</td></tr></table> The <tt>IO_xxx</tt> flags have been revised, and the protected setFlags() function removed. Most of the flags have been eliminated because errors are best handled by implementing certain functions in <a href="../../../com/trolltech/qt/core/QIODevice.html">QIODevice</a> subclasses rather than through the base classes. The file access flags, such as <tt>IO_ReadOnly</tt> and <tt>IO_WriteOnly</tt>, have been moved to the <a href="../../../com/trolltech/qt/core/QIODevice.html">QIODevice</a> class to avoid polluting the global namespace. The table below shows the correspondence between the Qt 3 <tt>IO_xxx</tt> flags and the Qt 4 API: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 constant</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> IO_Direct</td><td> Use !<a href="../../../com/trolltech/qt/core/QIODevice.html#isSequential()">QIODevice::isSequential()</a> instead (notice the not).</td></tr><tr valign="top" class="odd"><td> IO_Sequential</td><td> Use <a href="../../../com/trolltech/qt/core/QIODevice.html#isSequential()">QIODevice::isSequential()</a> instead.</td></tr><tr valign="top" class="even"><td> IO_Combined</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_TypeMask</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_Raw</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Unbuffered</a></td></tr><tr valign="top" class="odd"><td> IO_Async</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_ReadOnly</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::ReadOnly</a></td></tr><tr valign="top" class="odd"><td> IO_WriteOnly</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::WriteOnly</a></td></tr><tr valign="top" class="even"><td> IO_ReadWrite</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::ReadWrite</a></td></tr><tr valign="top" class="odd"><td> IO_Append</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Append</a></td></tr><tr valign="top" class="even"><td> IO_Truncate</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Truncate</a></td></tr><tr valign="top" class="odd"><td> IO_Translate</td><td> <a href="../../../com/trolltech/qt/core/QIODevice.OpenModeFlag.html">QIODevice::Text</a></td></tr><tr valign="top" class="even"><td> IO_ModeMask</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_Open</td><td> Use <a href="../../../com/trolltech/qt/core/QIODevice.html#isOpen()">QIODevice::isOpen()</a> instead.</td></tr><tr valign="top" class="even"><td> IO_StateMask</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_Ok</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_ReadError</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_WriteError</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_FatalError</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_ResourceError</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_OpenError</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_ConnectError</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_AbortError</td><td> N/A</td></tr><tr valign="top" class="odd"><td> IO_TimeOutError</td><td> N/A</td></tr><tr valign="top" class="even"><td> IO_UnspecifiedError</td><td> N/A</td></tr></table><a name="qiodevicesource"><h2>QIODeviceSource</h2> The <a href="porting4.html#qiodevicesource">QIODeviceSource</a> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0. If you use this mechanism in your application, please submit a report to the <a href="http://qtsoftware.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.<a name="qlabel"><h2>QLabel</h2> <a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a> doesn't enable word-wrap automatically anymore when rich text is used. You can enable it by calling <a href="../../../com/trolltech/qt/gui/QLabel.html#setWordWrap(boolean)">QLabel::setWordWrap()</a> or by setting the <a href="../../../QLabel.html#wordWrap()">wordWrap</a> property. The reason for this change is that the old behavior was confusing to many users. <p>Also, <a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a> no longer offers an <tt>autoResize</tt> property. Instead, you can call <a href="../../../com/trolltech/qt/gui/QWidget.html#setFixedSize(com.trolltech.qt.core.QSize)">QWidget::setFixedSize()</a> on the label, with <a href="../../../com/trolltech/qt/gui/QLabel.html#sizeHint()">QLabel::sizeHint()</a> as the argument, whenever you change the contents of the <a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a>. <p>See also <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qlayout"><h2>QLayout</h2> In Qt 4, margins are always handled by layouts; there is no QLayout::setSupportsMargin() function anymore. <p>The deleteAllItems() function is now only available if <tt>QT3_SUPPORT</tt> is defined. If you maintain a QList of layout items, you can use qDeleteAll() to remove all the items in one go. <p>In Qt 3, it was possible to change the resizing behavior for layouts in top-level widgets by adjusting the layout's <tt>resizeMode</tt> property. In Qt 4, this property has been replaced by the <a href="../../../QLayout.html#sizeConstraint()">QLayout::sizeConstraint</a> property which provides more control over how the layout behaves when resized. <p>See also the <a href="porting4.html#qlayoutiterator-section">section on QLayoutIterator</a> and the <a href="porting4.html#qglayoutiterator-section">section on QGLayoutIterator</a>.<a name="qlayoutiterator-section"><a name="qlayoutiterator"><h2>QLayoutIterator</h2> The QLayoutIterator class is obsoleted in Qt 4. It is available only if <tt>QT3_SUPPORT</tt> is defined. It can be replaced by the <a href="../../../com/trolltech/qt/gui/QLayout.html#itemAt(int)">QLayout::itemAt()</a> and <a href="../../../com/trolltech/qt/gui/QLayout.html#takeAt(int)">QLayout::takeAt()</a> functions, which operate on indexes. <p>For example, if you have code like    QLayoutIterator it = layout()->iterator();
    QLayoutItem *child;
    while ((child = it.current()) != 0) {
        if (child->widget() == myWidget) {
            it.takeCurrent();
            return;
        ++it;
    } you can rewrite it as    int i = 0;
    QLayoutItem *child;
    while ((child = layout()->itemAt(i)) != 0) {
        if (child->widget() == myWidget) {
            layout()->takeAt(i);
            return;
        }
        ++i;
    }<a name="qlineedit"><h2>QLineEdit</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QLineEdit.html">QLineEdit</a> properties in Qt 3 that have changed in Qt 4. <p>The default value of <a href="../../../com/trolltech/qt/gui/QLineEdit.html">QLineEdit</a>'s <a href="../../../com/trolltech/qt/gui/QLineEdit.html#dragEnabled()">dragEnabled</a> property was <tt>true</tt> in Qt 3. In Qt 4, the default value is <tt>false</tt>. <p>Note that <a href="../../../com/trolltech/qt/gui/QLineEdit.html">QLineEdit</a> in Qt 4 is no longer a subclass of <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a>. If you need to visually style a line edit with a frame, we recommend either using a <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> as a container for a <a href="../../../com/trolltech/qt/gui/QLineEdit.html">QLineEdit</a> or customizing the line edit with a <a href="qtjambi-stylesheet.html">style sheet</a>.<a name="qlistbox"><h2>QListBox</h2> The <tt>QListBox</tt>, <tt>QListBoxItem</tt>, <tt>QListBoxText</tt>, and <tt>QListBoxPixmap</tt> classes have been renamed Q3ListBox, Q3ListBoxItem, Q3ListBoxText, and Q3ListBoxPixmap and have been moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use <a href="../../../com/trolltech/qt/gui/QListWidget.html">QListWidget</a> or its base class <a href="../../../com/trolltech/qt/gui/QListView.html">QListView</a> instead. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qlistview"><h2>QListView</h2> The <tt>QListView</tt>, <tt>QListViewItem</tt>, <tt>QCheckListItem</tt>, and <tt>QListViewItemIterator</tt> classes have been renamed Q3ListView, Q3ListViewItem, Q3CheckListItem, and Q3ListViewItemIterator, and have been moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use one of the following four classes instead: <a href="../../../com/trolltech/qt/gui/QTreeView.html">QTreeView</a> or <a href="../../../com/trolltech/qt/gui/QTreeWidget.html">QTreeWidget</a> for tree-like structures; <a href="../../../com/trolltech/qt/gui/QListWidget.html">QListWidget</a> or the new <a href="../../../com/trolltech/qt/gui/QListView.html">QListView</a> class for one-dimensional lists. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qlocalfs"><h2>QLocalFs</h2> The <tt>QLocalFs</tt> class is no longer part of the public Qt API. It has been renamed Q3LocalFs and moved to <a href="qt3support.html">Qt3Support</a>. Use <a href="../../../com/trolltech/qt/core/QDir.html">QDir</a>, <a href="../../../com/trolltech/qt/core/QFileInfo.html">QFileInfo</a>, or <a href="../../../com/trolltech/qt/core/QFile.html">QFile</a> instead.<a name="qmainwindow"><h2>QMainWindow</h2> The <a href="../../../com/trolltech/qt/gui/QMainWindow.html">QMainWindow</a> class has been redesigned in Qt 4 to provide a more modern look and feel and more flexibility. The API has changed to reflect that. The old <tt>QMainWindow</tt> class has been renamed Q3MainWindow and moved to <a href="qt3support.html">Qt3Support</a>. See the <a href="../../../com/trolltech/qt/gui/QMainWindow.html">QMainWindow</a> class documentation for details.<a name="qmemarray-section"><a name="qmemarray-t"><h2>QMemArray<T></h2> QMemArray&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the QVector&lt;T&gt; class. <p>The following table summarizes the API differences between the two classes. <table align="center" border="0" cellpadding="2" cellspacing="1"><tr valign="top" class="even"><td> QMemArray::assign(const QMemArray&lt;T&gt; &)</td><td> QVector::operator=()</td></tr><tr valign="top" class="odd"><td> QMemArray::assign(const T *, uint)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QMemArray::duplicate(const QMemArray &)</td><td> QVector::operator=()</td></tr><tr valign="top" class="odd"><td> QMemArray::duplicate(const T *, uint)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QMemArray::setRawData(const T *, uint)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QMemArray::resetRawData(const T *, uint)</td><td> N/A</td></tr><tr valign="top" class="even"><td> QMemArray::find(const T &, uint)</td><td> QVector::indexOf(const T &, int)</td></tr><tr valign="top" class="odd"><td> QMemArray::contains(const T &)</td><td> QVector::count(const T &)</td></tr><tr valign="top" class="even"><td> QMemArray::sort()</td><td> qSort()</td></tr><tr valign="top" class="odd"><td> QMemArray::bsearch(const T &d)</td><td> qBinaryFind()</td></tr><tr valign="top" class="even"><td> QMemArray::at(uint)</td><td> QVector::operator[]()</td></tr><tr valign="top" class="odd"><td> QMemArray::operator const T *()</td><td> QVector::constData()</td></tr></table> Remarks: <ol><li> QMemArray::assign(const T *, uint) and QMemArray::duplicate(const T *, uint) can be replaced by QVector::resize() and qCopy(). <p>For example, if you have code like    QMemArray<QSize> array;
    ...
    array.assign(data, size); you can rewrite it as    QVector<QSize> vector;
    ...
    vector.resize(size);
    qCopy(data, data + size, vector.begin());</li><li> QMemArray is an explicitly shared class, whereas QVector is implicitly shared. See <a href="explicitly-shared.html">Explicit Sharing</a> for more information.</li></ol><a name="qmenubar"><h2>QMenuBar</h2> In Qt 3, <a href="../../../com/trolltech/qt/gui/QMenuBar.html">QMenuBar</a> inherited from <a href="../../../com/trolltech/qt/gui/QFrame.html">QFrame</a> and <a href="porting4.html#qmenudata">QMenuData</a>; in Qt 4, it is a direct subclass of <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>. Applications that provided customized menu bars will need to take advantage of the styling features described in the <a href="qtjambi-stylesheet.html">Qt Style Sheets</a> document. <p>It is not possible to add widgets to menu bars in Qt 4.<a name="qmenudata"><h2>QMenuData</h2> In Qt 4, the <a href="../../../com/trolltech/qt/gui/QMenu.html">QMenu</a> class provides a menu widget that can be used in all the places where menus are used in an application. Unlike <tt>QMenuData</tt>, <a href="../../../com/trolltech/qt/gui/QMenu.html">QMenu</a> is designed around the concept of actions, provided by the <a href="../../../com/trolltech/qt/gui/QAction.html">QAction</a> class, instead of the identifiers used in Qt 3. <p>In Qt 3, it was possible to insert widgets directly into menus by using a specific <tt>QMenuData::insertItem()</tt> overload. In Qt 4.2 and later, the <a href="../../../com/trolltech/qt/gui/QWidgetAction.html">QWidgetAction</a> class can be used to wrap widgets for use in Qt 4's action-based APIs.<a name="qmessagebox"><h2>QMessageBox</h2> The <a href="../../../com/trolltech/qt/gui/QMessageBox.html#iconPixmap()">QMessageBox::iconPixmap()</a> function used to return a "const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> *". In Qt 4, it returns a <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a>.<a name="qmimesourcefactory"><h2>QMimeSourceFactory</h2> The <tt>QMimeSourceFactory</tt> has been renamed Q3MimeSourceFactory and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use Qt 4's <a href="resources.html">Resource System</a> instead.<a name="qmovie"><h2>QMovie</h2> The <a href="../../../com/trolltech/qt/gui/QMovie.html">QMovie</a> API has been revised in Qt 4 to make it more consistent with the other Qt classes (notably <a href="../../../com/trolltech/qt/gui/QImageReader.html">QImageReader</a>). The table below summarizes the changes. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 function</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QMovie::connectResize()</td><td> Connect to QMovie::resized()</td></tr><tr valign="top" class="odd"><td> QMovie::connectStatus()</td><td> Connect to QMovie::stateChanged()</td></tr><tr valign="top" class="even"><td> QMovie::connectUpdate()</td><td> Connect to QMovie::updated()</td></tr><tr valign="top" class="odd"><td> QMovie::disconnectResize()</td><td> Disconnect from QMovie::resized()</td></tr><tr valign="top" class="even"><td> QMovie::disconnectStatus()</td><td> Disconnect from QMovie::stateChanged()</td></tr><tr valign="top" class="odd"><td> QMovie::disconnectUpdate()</td><td> Disconnect from QMovie::updated()</td></tr><tr valign="top" class="even"><td> QMovie::finished()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#state()">QMovie::state()</a> instead</td></tr><tr valign="top" class="odd"><td> QMovie::frameImage()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#currentImage()">QMovie::currentImage()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::frameNumber()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#currentFrameNumber()">QMovie::currentFrameNumber()</a> instead</td></tr><tr valign="top" class="odd"><td> QMovie::framePixmap()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#currentPixmap()">QMovie::currentPixmap()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::getValidRect()</td><td> Use frameRect() instead</td></tr><tr valign="top" class="odd"><td> QMovie::isNull()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#isValid()">QMovie::isValid()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::pause()</td><td> Use QMovie::setPaused(true) instead</td></tr><tr valign="top" class="odd"><td> QMovie::paused()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#state()">QMovie::state()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::pushData()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QMovie::pushSpace()</td><td> N/A</td></tr><tr valign="top" class="even"><td> QMovie::restart()</td><td> Use QMovie::jumpToFrame(0) instead</td></tr><tr valign="top" class="odd"><td> QMovie::running()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#state()">QMovie::state()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::step()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#jumpToFrame(int)">QMovie::jumpToFrame()</a> and <a href="../../../com/trolltech/qt/gui/QMovie.html#setPaused(boolean)">QMovie::setPaused()</a> instead</td></tr><tr valign="top" class="odd"><td> QMovie::step()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#jumpToNextFrame()">QMovie::jumpToNextFrame()</a> instead</td></tr><tr valign="top" class="even"><td> QMovie::steps()</td><td> Use <a href="../../../com/trolltech/qt/gui/QMovie.html#currentFrameNumber()">QMovie::currentFrameNumber()</a> and <a href="../../../com/trolltech/qt/gui/QMovie.html#frameCount()">QMovie::frameCount()</a> instead</td></tr><tr valign="top" class="odd"><td> QMovie::unpause()</td><td> Use QMovie::setPaused(false) instead</td></tr></table><a name="qmultilineedit"><h2>QMultiLineEdit</h2> The <tt>QMultiLineEdit</tt> class in Qt 3 was a convenience <a href="../../../com/trolltech/qt/gui/QTextEdit.html">QTextEdit</a> subclass that provided an interface compatible with Qt 2's <a href="porting4.html#qmultilineedit">QMultiLineEdit</a> class. In Qt 4, it is called Q3MultiLineEdit, it inherits Q3TextEdit, and it is part of <a href="qt3support.html">Qt3Support</a>. Use <a href="../../../com/trolltech/qt/gui/QTextEdit.html">QTextEdit</a> in new code.<a name="qnetworkprotocol-section"><a name="qnetworkprotocol"><h2>QNetworkProtocol</h2> The <a href="porting4.html#qnetworkprotocol">QNetworkProtocol</a>, QNetworkProtocolFactoryBase, QNetworkProtocolFactory&lt;T&gt;, and QNetworkOperation classes are no longer part of the public Qt API. They have been renamed Q3NetworkProtocol, Q3NetworkProtocolFactoryBase, Q3NetworkProtocolFactory&lt;T&gt;, and Q3NetworkOperation and have been moved to the <a href="qt3support.html">Qt3Support</a> library. <p>In Qt 4 applications, you can use classes like <a href="../../../com/trolltech/qt/network/QFtp.html">QFtp</a> and <a href="../../../com/trolltech/qt/network/QHttp.html">QHttp</a> directly to perform file-related actions on a remote host.<a name="qobject"><h2>QObject</h2> <a href="../../../com/trolltech/qt/core/QObject.html#children()">QObject::children()</a> now returns a QObjectList instead of a pointer to a QObjectList. See also the comments on QObjectList below. <p>Use <a href="../../../com/trolltech/qt/core/QObject.html#findChildren()">QObject::findChildren()</a> (or qFindChildren() if you need MSVC 6 compatibility) instead of QObject::queryList(). For example: <pre class="snippet">
QList&lt;QWidget *&gt; myWidgets = qFindChildren&lt;QWidget *&gt;(myParent);
</pre> QObject::killTimers() has been removed because it was unsafe to use in subclass. (A subclass normally doesn't know whether the base class uses timers or not.) <p>The <tt>QObject::name</tt> property has been renamed <a href="../../../QObject.html#objectName()">QObject::objectName</a>. <p><tt>QObject::objectTrees()</tt> has been removed. If you are primarly interested in widgets, use <a href="../../../com/trolltech/qt/gui/QApplication.html#allWidgets()">QApplication::allWidgets()</a> or <a href="../../../com/trolltech/qt/gui/QApplication.html#topLevelWidgets()">QApplication::topLevelWidgets()</a>.<a name="qobjectdictionary"><h2>QObjectDictionary</h2> The <a href="porting4.html#qobjectdictionary">QObjectDictionary</a> class is a synonym for QAsciiDict&lt;QMetaObject&gt;. See the <a href="porting4.html#qasciidict-section">section on QAsciiDict<T></a>.<a name="qobjectlist"><h2>QObjectList</h2> In Qt 3, the QObjectList class was a typedef for QPtrList&lt;<a href="../../../com/trolltech/qt/core/QObject.html">QObject</a>&gt;. In Qt 4, it is a typedef for QList&lt;<a href="../../../com/trolltech/qt/core/QObject.html">QObject</a> *&gt;. See the <a href="porting4.html#qptrlist-section">section on QPtrList<T></a>.<a name="qpaintdevice"><h2>QPaintDevice</h2> To reimplement painter backends one previously needed to reimplement the virtual function QPaintDevice::cmd(). This function is taken out and should is replaced with the function <a href="../../../com/trolltech/qt/gui/QPaintDevice.html#paintEngine()">QPaintDevice::paintEngine()</a> and the abstract class <a href="../../../com/trolltech/qt/gui/QPaintEngine.html">QPaintEngine</a>. <a href="../../../com/trolltech/qt/gui/QPaintEngine.html">QPaintEngine</a> provides virtual functions for all drawing operations that can be performed on a painter backend. <p>bitBlt() and copyBlt() are now only compatibility functions. Use <a href="../../../com/trolltech/qt/gui/QPainter.html#drawPixmap(com.trolltech.qt.core.QPoint, com.trolltech.qt.gui.QPixmap)">QPainter::drawPixmap()</a> instead.<a name="qpaintdevicemetrics"><h2>QPaintDeviceMetrics</h2> All functions that used to be provided by the <tt>QPaintDeviceMetrics</tt> class have now been moved to <a href="../../../com/trolltech/qt/gui/QPaintDevice.html">QPaintDevice</a>. <p>For example, if you have code like    QPaintDeviceMetrics metrics(widget);
    int deviceDepth = metrics.depth(); you can rewrite it as    int deviceDepth = widget->depth(); For compatibility, the old <tt>QPaintDeviceMetrics</tt> class has been renamed Q3PaintDeviceMetrics and moved to <a href="qt3support.html">Qt3Support</a>.<a name="qpainter"><h2>QPainter</h2> The <a href="../../../com/trolltech/qt/gui/QPainter.html">QPainter</a> class has undergone some changes in Qt 4 because of the way rectangles are drawn. In Qt 4, the result of drawing a <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a> with a pen width of 1 pixel is 1 pixel wider and 1 pixel taller than in Qt 3. <p>For compatibility, we provide a Q3Painter class in <a href="qt3support.html">Qt3Support</a> that provides the old semantics. See the Q3Painter documentation for details and for the reasons why we had to make this change. <p>The QPainter::CoordinateMode enum has been removed in Qt 4. All clipping operations are now defined using logical coordinates and are subject to transformation operations. <p>The QPainter::RasterOP enum has been replaced with <a href="../../../com/trolltech/qt/gui/QPainter.CompositionMode.html">QPainter::CompositionMode</a>.<a name="qpicture"><h2>QPicture</h2> In Qt 3, a <a href="../../../com/trolltech/qt/gui/QPicture.html">QPicture</a> could be saved in the SVG file format. In Qt 4, the SVG support is provided by the <a href="qtsvg.html">QtSvg</a> module, which includes classes for displaying the contents of SVG files. <p>If you would like to generate SVG files, you can use the Q3Picture compatibility class or the <a href="../../../com/trolltech/qt/svg/QSvgGenerator.html">QSvgGenerator</a> class introduced in Qt 4.3.<a name="qpixmap"><h2>QPixmap</h2> The mask() function has been changed to return a reference to a <a href="../../../com/trolltech/qt/gui/QBitmap.html">QBitmap</a> rather than a pointer. As a result, it is no longer possible simply to test for a null pointer when determining whether a pixmap has a mask. Instead, you need to explicitly test whether the mask bitmap is null or not. <p>For example, if you have code like    if (pixmap.mask())
        widget->setMask(*pixmap.mask()); you can rewrite it as    if (!pixmap.mask().isNull())
        widget->setMask(pixmap.mask()); The <tt>QPixmap::setOptimization()</tt> and <tt>QPixmap::setDefaultOptimization()</tt> mechanism is no longer available in Qt 4.<a name="qpointarray"><h2>QPointArray</h2> The <tt>QPointArray</tt> class has been renamed <a href="../../../com/trolltech/qt/gui/QPolygon.html">QPolygon</a> in Qt 4 and has undergone significant changes. In Qt 3, <tt>QPointArray</tt> inherited from QMemArray&lt;<a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a>&gt;. In Qt 4, <a href="../../../com/trolltech/qt/gui/QPolygon.html">QPolygon</a> inherits from QVector&lt;<a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a>&gt;. Everything mentioned in the <a href="porting4.html#qmemarray-section">section on QMemArray<T></a> apply for <a href="porting4.html#qpointarray">QPointArray</a> as well. <p>The <a href="qt3support.html">Qt3Support</a> library contains a Q3PointArray class that inherits from <a href="../../../com/trolltech/qt/gui/QPolygon.html">QPolygon</a> and provides a few functions that existed in <tt>QPointArray</tt> but no longer exist in <a href="../../../com/trolltech/qt/gui/QPolygon.html">QPolygon</a>. These functions include Q3PointArray::makeArc(), Q3PointArray::makeEllipse(), and Q3PointArray::cubicBezier(). In Qt 4, we recommend that you use <a href="../../../com/trolltech/qt/gui/QPainterPath.html">QPainterPath</a> for representing arcs, ellipses, and Bezier curves, rather than <a href="../../../com/trolltech/qt/gui/QPolygon.html">QPolygon</a>. <p>The QPolygon::setPoints() and QPolygon::putPoints() functions return <tt>void</tt> in Qt 4. The corresponding Qt 3 functions returned a <tt>bool</tt> indicating whether the array was successfully resized or not. This can now be checked by checking QPolygon::size() after the call.<a name="qpopupmenu"><h2>QPopupMenu</h2> For most purposes, <a href="porting4.html#qpopupmenu">QPopupMenu</a> has been replaced by <a href="../../../com/trolltech/qt/gui/QMenu.html">QMenu</a> in Qt 4. For compatibility with older applications, Q3PopupMenu provides the old API and features that are specific to pop-up menus. Note that, when using Q3PopupMenu, the menu's actions must be Q3Actions. <p>In Qt 3, it was common practice to add entries to pop-up menus using the insertItem() function, maintaining identifiers for future use; for example, to dynamically change menu items. In Qt 4, menu entries are completely represented by actions for consistency with other user interface components, such as toolbar buttons. Create new menus with the <a href="../../../com/trolltech/qt/gui/QMenu.html">QMenu</a> class, and use the overloaded <a href="../../../com/trolltech/qt/gui/QMenu.html#addAction(com.trolltech.qt.gui.QIcon, java.lang.String)">QMenu::addAction()</a> functions to insert new entries. If you need to manage a set of actions created for a particular menu, we suggest that you construct a <a href="../../../com/trolltech/qt/gui/QActionGroup.html">QActionGroup</a> and add them to that. <p>The <a href="examples.html#main-windows">Main Window examples</a> provided show how to use Qt's action system to construct menus, toolbars, and other common user interface elements.<a name="qprinter"><h2>QPrinter</h2> The <a href="../../../com/trolltech/qt/gui/QPrinter.html">QPrinter</a> class now expects printing to be set up from a <a href="../../../com/trolltech/qt/gui/QPrintDialog.html">QPrintDialog</a>.<a name="qprocess"><h2>QProcess</h2> The <a href="../../../com/trolltech/qt/core/QProcess.html">QProcess</a> class has undergone major improvements in Qt 4. It now inherits <a href="../../../com/trolltech/qt/core/QIODevice.html">QIODevice</a>, which makes it possible to combine <a href="../../../com/trolltech/qt/core/QProcess.html">QProcess</a> with a <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> or a <a href="../../../com/trolltech/qt/core/QDataStream.html">QDataStream</a>. <p>The old <tt>QProcess</tt> class has been renamed Q3Process and moved to the <a href="qt3support.html">Qt3Support</a> library.<a name="qprogressbar"><h2>QProgressBar</h2> The <a href="../../../com/trolltech/qt/gui/QProgressBar.html">QProgressBar</a> API has been significantly improved in Qt 4. The old <tt>QProgressBar</tt> API is available as Q3ProgressBar in the <a href="qt3support.html">Qt3Support</a> library.<a name="qprogressdialog"><h2>QProgressDialog</h2> The <a href="../../../com/trolltech/qt/gui/QProgressDialog.html">QProgressDialog</a> API has been significantly improved in Qt 4. The old <tt>QProgressDialog</tt> API is available as Q3ProgressDialog in the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QProgressDialog.html">QProgressDialog</a> properties in Qt 3 that have changed in Qt 4.<a name="qptrcollection-t"><h2>QPtrCollection<T></h2> The <tt>QPtrCollection&lt;T&gt;</tt> abstract base class has been renamed Q3PtrCollection&lt;T&gt; moved to the <a href="qt3support.html">Qt3Support</a> library. There is no direct equivalent in Qt 4. <p>See <a href="containers.html">Generic Containers</a> for a list of Qt 4 containers.<a name="qptrdict-t"><h2>QPtrDict<T></h2> <tt>QPtrDict&lt;T&gt;</tt> and <tt>QPtrDictIterator&lt;T&gt;</tt> have been renamed Q3PtrDict&lt;T&gt; and Q3PtrDictIterator&lt;T&gt; and have been moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern QHash&lt;Key, T&gt; and QMultiHash&lt;Key, T&gt; classes and their associated iterator classes. <p>When porting old code that uses Q3PtrDict&lt;T&gt; to Qt 4, there are four classes that you can use: <ul><li> QMultiHash&lt;void *, T *&gt;</li><li> QMultiHash&lt;void *, T&gt;</li><li> QHash&lt;void *, T *&gt;</li><li> QHash&lt;void *, T&gt;</li></ul> (You can naturally use other types than <tt>void *</tt> for the key type, e.g. <tt>QWidget *</tt>.) <p>To port Q3PtrDict&lt;T&gt; to Qt 4, read the <a href="porting4.html#qdict-section">section on QDict<T></a>, mentally substituting <tt>void *</tt> for QString.<a name="qptrlist-section"><a name="qptrlist-t"><h2>QPtrList<T></h2> QPtrList&lt;T&gt;, QPtrListIterator&lt;T&gt;, and QPtrListStdIterator&lt;T&gt; have been moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern QList and QLinkedList classes and their associated iterator classes. <p>When porting to Qt 4, you have the choice of using QList&lt;T&gt; or QLinkedList&lt;T&gt; as alternatives to QValueList&lt;T&gt;. QList&lt;T&gt; has an index-based API and provides very fast random access (QList::operator[]), whereas QLinkedList&lt;T&gt; has an iterator-based API. <p>The following table summarizes the API differences between QPtrList&lt;T&gt; and QList&lt;T *&gt;: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrList function</center></th><th><center> QList equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrList::contains(const T *)</td><td> QList::count(T *)</td></tr><tr valign="top" class="odd"><td> QPtrList::containsRef(const T *)</td><td> QList::count(T *)</td></tr><tr valign="top" class="even"><td> QPtrList::find(const T *)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> QPtrList::findRef(const T *)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QPtrList::getFirst()</td><td> QList::first()</td></tr><tr valign="top" class="odd"><td> QPtrList::getLast()</td><td> QList::last()</td></tr><tr valign="top" class="even"><td> QPtrList::inSort(const T *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QPtrList::remove(const T *)</td><td> QList::removeAll(T *)</td></tr><tr valign="top" class="even"><td> QPtrList::remove(uint)</td><td> QList::removeAt(int)</td></tr><tr valign="top" class="odd"><td> QPtrList::removeNode(QLNode *)</td><td> N/A</td></tr><tr valign="top" class="even"><td> QPtrList::removeRef(const T *)</td><td> QList::removeAll(T *)</td></tr><tr valign="top" class="odd"><td> QPtrList::sort()</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QPtrList::takeNode(QLNode *)</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QPtrList::toVector(QGVector *)</td><td> See remark below</td></tr></table> Remarks: <ol><li> QPtrList::toVector(QGVector *) can be replaced by QVector::resize() and qCopy(). <p>For example, if you have code like    QPtrList<QWidget> list;
    ...
    QPtrVector<QWidget> vector;
    list.toVector(&vector); you can rewrite it as    QList<QWidget *> list;
    ...
    QVector<QWidget *> vector;
    vector.resize(list.size());
    qCopy(list.begin(), list.end(), vector.begin());</li><li> QPtrList::sort() relied on the virtual compareItems() to sort items. In Qt 4, you can use qSort() instead and pass your "compare item" function as an argument.</li><li> QPtrList::find(const T *) returns an iterator, whereas QList::indexOf(T *) returns an index. To convert an index into an iterator, add the index to QList::begin().</li><li> QPtrList::removeFirst() and QPtrList::removeLast() return a <tt>bool</tt> that indicates whether the element was removed or not. The corresponding QList functions return <tt>void</tt>. You can achieve the same result by calling QList::isEmpty() before attempting to remove an item.</li></ol> If you use QPtrList's auto-delete feature (by calling QPtrList::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use QList&lt;T&gt; instead of QList&lt;T *&gt; (i.e. store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>. <p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrList idiom</center></th><th><center> QList idiom</center></th></tr></thead><tr valign="top" class="even"><td> <pre class="snippet">
list.replace(index, value);
</pre></td><td> <pre class="snippet">
delete list[index];
list[index] = value;
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
list.removeFirst();
</pre></td><td> <pre class="snippet">
delete list.takeFirst();
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
list.removeLast();
</pre></td><td> <pre class="snippet">
delete list.takeLast();
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
list.remove(index);
</pre></td><td> <pre class="snippet">
delete list.takeAt(index);
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
list.remove(value);
</pre></td><td> <pre class="snippet">
int i = list.indexOf(value);
if (i != -1)
    delete list.takeAt(i);
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
list.remove();
</pre> (removes the current item)</td><td> <pre class="snippet">
QMutableListIterator&lt;T *&gt; i;
...
delete i.value();
i.remove();
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
list.clear();
</pre> (also called from QPtrList's destructor)</td><td> <pre class="snippet">
while (!list.isEmpty())
    delete list.takeFirst();
</pre> In 99% of cases, the following idiom also works: <pre class="snippet">
qDeleteAll(list);
list.clear();
</pre> However, it may lead to crashes if <tt>list</tt> is referenced from the value type's destructor, because <tt>list</tt> contains dangling pointers until clear() is called.</td></tr></table> Be aware that QPtrList's destructor automatically calls clear(). If you have a QPtrList data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak. <p>QPtrList had the concept of a "current item", which could be used for traversing the list without using an iterator. When porting to Qt 4, you can use the Java-style QListIterator&lt;T *&gt; (or QMutableListIterator&lt;T *&gt;) class instead. The following table summarizes the API differences: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrList function</center></th><th><center> QListIterator equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrList::at()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QPtrList::current()</td><td> QMutableListIterator::value()</td></tr><tr valign="top" class="even"><td> QPtrList::currentNode()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QPtrList::findNext(const T *)</td><td> QListIterator::findNext(const T *)</td></tr><tr valign="top" class="even"><td> QPtrList::findNextRef(const T *)</td><td> QListIterator::findNext(const T *)</td></tr><tr valign="top" class="odd"><td> QPtrList::first()</td><td> QPtrList::toFront()</td></tr><tr valign="top" class="even"><td> QPtrList::last()</td><td> QPtrList::toBack()</td></tr><tr valign="top" class="odd"><td> QPtrList::next()</td><td> QPtrList::next()</td></tr><tr valign="top" class="even"><td> QPtrList::prev()</td><td> QPtrList::previous()</td></tr><tr valign="top" class="odd"><td> QPtrList::remove()</td><td> QMutableListIterator::remove()</td></tr><tr valign="top" class="even"><td> QPtrList::take()</td><td> QMutableListIterator::remove()</td></tr></table> Be aware that QListIterator has a different way of iterating than QPtrList. A typical loop with QPtrList looks like this: <pre class="snippet">
QPtrList&lt;QWidget&gt; list;
...
while (list.current() != 0) {
    do_something(list.current());
    list.next();
}
</pre> Here's the equivalent QListIterator loop: <pre class="snippet">
QList&lt;QWidget *&gt; list;
...
QListIterator&lt;QWidget *&gt; i(list);
while (i.hasNext())
    do_something(i.next());
</pre> Finally, QPtrListIterator&lt;T&gt; must also be ported. There are no fewer than four iterator classes that can be used as a replacement: QList::const_iterator, QList::iterator, QListIterator, and QMutableListIterator. The most straightforward class to use when porting is QMutableListIterator&lt;T *&gt; (if you modify the list through the iterator) or QListIterator&lt;T *&gt; (if you don't). The following table summarizes the API differences: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrListIterator function</center></th><th><center> Qt 4 equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrListIterator::atFirst()</td><td> !QListIterator::hasPrevious() (notice the <tt>!</tt>)</td></tr><tr valign="top" class="odd"><td> QPtrListIterator::atLast()</td><td> !QListIterator::hasNext() (notice the <tt>!</tt>)</td></tr><tr valign="top" class="even"><td> QPtrListIterator::count()</td><td> QList::count() or QList::size()</td></tr><tr valign="top" class="odd"><td> QPtrListIterator::current()</td><td> QMutableListIterator::value()</td></tr><tr valign="top" class="even"><td> QPtrListIterator::isEmpty()</td><td> QList::isEmpty()</td></tr><tr valign="top" class="odd"><td> QPtrListIterator::toFirst()</td><td> QListIterator::toFront()</td></tr><tr valign="top" class="even"><td> QPtrListIterator::toLast()</td><td> QListIterator::toBack()</td></tr><tr valign="top" class="odd"><td> QPtrListIterator::operator()</td><td> QMutableListIterator::value()</td></tr><tr valign="top" class="even"><td> QPtrListIterator::operator*()</td><td> QMutableListIterator::value()</td></tr></table> Again, be aware that QListIterator has a different way of iterating than QPtrList. A typical loop with QPtrList looks like this: <pre class="snippet">
QPtrList&lt;QWidget&gt; list;
...
QPtrListIterator&lt;QWidget&gt; i;
while (i.current() != 0) {
    do_something(i.current());
    i.next();
}
</pre> Here's the equivalent QListIterator loop: <pre class="snippet">
QList&lt;QWidget *&gt; list;
...
QListIterator&lt;QWidget *&gt; i(list);
while (i.hasNext())
    do_something(i.next());
</pre> Finally, QPtrListStdIterator&lt;T&gt; must also be ported. This is easy, because QList also provides STL-style iterators (QList::iterator and QList::const_iterator).<a name="qptrqueue-t"><h2>QPtrQueue<T></h2> QPtrQueue has been moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the more modern QQueue class. <p>The following table summarizes the differences between QPtrQueue&lt;T&gt; and QQueue&lt;T *&gt;: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrQueue function</center></th><th><center> QQueue equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrQueue::autoDelete()</td><td> See discussion below</td></tr><tr valign="top" class="odd"><td> QPtrQueue::count()</td><td> QQueue::count() or QQueue::size() (equivalent)</td></tr><tr valign="top" class="even"><td> QPtrQueue::current()</td><td> QQueue::head()</td></tr><tr valign="top" class="odd"><td> QPtrQueue::remove()</td><td> QQueue::dequeue()</td></tr><tr valign="top" class="even"><td> QPtrQueue::setAutoDelete()</td><td> See discussion below</td></tr></table> If you use QPtrQueue's auto-delete feature (by calling QPtrQueue::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use QQueue&lt;T&gt; instead of QQueue&lt;T *&gt; (i.e. store values directly instead of pointers to values). Here, we will show when to call <tt>delete</tt>. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrQueue idiom</center></th><th><center> QQueue idiom</center></th></tr></thead><tr valign="top" class="even"><td> <pre class="snippet">
queue.dequeue();
</pre></td><td> <pre class="snippet">
delete queue.dequeue();
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
queue.remove();
</pre></td><td> <pre class="snippet">
delete queue.dequeue();
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
queue.clear();
</pre> (also called from QPtrQueue's destructor)</td><td> <pre class="snippet">
while (!queue.isEmpty())
    delete queue.dequeue();
</pre> In 99% of cases, the following idiom also works: <pre class="snippet">
qDeleteAll(queue);
queue.clear();
</pre> However, it may lead to crashes if <tt>queue</tt> is referenced from the value type's destructor, because <tt>queue</tt> contains dangling pointers until clear() is called.</td></tr></table><a name="qptrstack-t"><h2>QPtrStack<T></h2> QPtrStack has been moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the more modern QStack class. <p>The following table summarizes the differences between QPtrStack&lt;T&gt; and QStack&lt;T *&gt;: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrStack function</center></th><th><center> QStack equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrStack::autoDelete()</td><td> See discussion below</td></tr><tr valign="top" class="odd"><td> QPtrStack::count()</td><td> QStack::count() or QStack::size() (equivalent)</td></tr><tr valign="top" class="even"><td> QPtrStack::current()</td><td> QStack::top()</td></tr><tr valign="top" class="odd"><td> QPtrStack::remove()</td><td> QStack::pop()</td></tr><tr valign="top" class="even"><td> QPtrStack::setAutoDelete()</td><td> See discussion below</td></tr></table> If you use QPtrStack's auto-delete feature (by calling QPtrStack::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use QStack&lt;T&gt; instead of QStack&lt;T *&gt; (i.e. store values directly instead of pointers to values). Here, we will show when to call <tt>delete</tt>. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrStack idiom</center></th><th><center> QStack idiom</center></th></tr></thead><tr valign="top" class="even"><td> <pre class="snippet">
stack.pop();
</pre></td><td> <pre class="snippet">
delete stack.pop();
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
stack.remove();
</pre></td><td> <pre class="snippet">
delete stack.pop();
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
stack.clear();
</pre> (also called from QPtrStack's destructor)</td><td> <pre class="snippet">
while (!stack.isEmpty())
    delete stack.pop();
</pre> In 99% of cases, the following idiom also works: <pre class="snippet">
qDeleteAll(stack);
stack.clear();
</pre> However, it may lead to crashes if <tt>stack</tt> is referenced from the value type's destructor, because <tt>stack</tt> contains dangling pointers until clear() is called.</td></tr></table><a name="qptrvector-t"><h2>QPtrVector<T></h2> QPtrVector&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the more modern QVector class. <p>When porting to Qt 4, you can use QVector&lt;T *&gt; as an alternative to QPtrVector&lt;T&gt;. The APIs of QPtrVector&lt;T&gt; and QVector&lt;T *&gt; are somewhat similar. The main issue is that QPtrVector supports auto-delete whereas QVector doesn't. <p>The following table summarizes the API differences between the two classes: <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrVector function</center></th><th><center> QVector equivalent</center></th></tr></thead><tr valign="top" class="even"><td> QPtrVector::autoDelete()</td><td> See discussion below</td></tr><tr valign="top" class="odd"><td> QPtrVector::bsearch(const T *)</td><td> qBinaryFind()</td></tr><tr valign="top" class="even"><td> QPtrVector::contains(const T *)</td><td> QVector::count(T *)</td></tr><tr valign="top" class="odd"><td> QPtrVector::containsRef(const T *)</td><td> QVector::count(T *)</td></tr><tr valign="top" class="even"><td> QPtrVector::count()</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> QPtrVector::insert(uint, T *)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QPtrVector::isNull()</td><td> N/A</td></tr><tr valign="top" class="odd"><td> QPtrVector::remove(uint)</td><td> See remark below</td></tr><tr valign="top" class="even"><td> QPtrVector::setAutoDelete()</td><td> See discussion below</td></tr><tr valign="top" class="odd"><td> QPtrVector::sort()</td><td> qSort()</td></tr><tr valign="top" class="even"><td> QPtrVector::take(uint)</td><td> See remark below</td></tr><tr valign="top" class="odd"><td> QPtrVector::toList(QGList *)</td><td> QList::QList(const QVector &)</td></tr></table> Remarks: <ol><li> QPtrVector::insert(uint, T *) sets an item to store a certain pointer value. This is not the same as QVector::insert(int, T *), which creates space for the item by moving following items by one position. Use <tt>vect[i] = ptr</tt> to set a QVector item to a particular value.</li><li> QPtrVector::remove(uint) sets an item to be 0. This is not the same as QVector::removeAt(int), which entirely erases the item, reducing the size of the vector. Use <tt>vect[i] = 0</tt> to set a QVector item to 0.</li><li> Likewise, QPtrVector::take(uint) sets an item to be 0 and returns the previous value of the item. Again, this is easy to achieve using QVector::operator[]().</li><li> QPtrVector::count() returns the number of non-null items in the vector, whereas QVector::count() (like QVector::size()) returns the number of items (null or non-null) in the vector. Fortunately, it's not too hard to simulate QPtrVector::count(). <p>For example, if you have code like    int numValidItems = vect.count(); you can rewrite it as    int numValidItems = vect.size() - vect.count(0);</li></ol> If you use QVector's auto-delete feature (by calling QVector::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you use QVector&lt;T&gt; instead of QVector&lt;T *&gt; (i.e. store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>. <p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> QPtrVector idiom</center></th><th><center> QVector idiom</center></th></tr></thead><tr valign="top" class="even"><td> <pre class="snippet">
vect.insert(i, ptr);
</pre></td><td> <pre class="snippet">
delete vect[i];
vect[i] = ptr;
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
vect.remove(i);
</pre></td><td> <pre class="snippet">
delete vect[i];
vect[i] = 0;
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
T *ptr = vect.take(i);
</pre></td><td> <pre class="snippet">
T *ptr = vect[i];
vect[i] = 0;
</pre></td></tr><tr valign="top" class="odd"><td> <pre class="snippet">
vect.resize(n)
</pre></td><td> <pre class="snippet">
while (n &gt; vect.size())
    vect.append(0);
while (n &lt; vect.size() {
    T *ptr = vect.last();
    vect.remove(vect.size() - 1);
    delete ptr;
}
</pre></td></tr><tr valign="top" class="even"><td> <pre class="snippet">
vect.clear();
</pre> (also called from QPtrVector's destructor)</td><td> <pre class="snippet">
for (int i = 0; i &lt; vect.size(); ++i)
    T *ptr = vect[i];
    vect[i] = 0;
    delete ptr;
}
</pre> In 99% of cases, the following idiom also works: <pre class="snippet">
qDeleteAll(vect);
vect.clear();
</pre> However, it may lead to crashes if <tt>vect</tt> is referenced from the value type's destructor, because <tt>vect</tt> contains dangling pointers until clear() is called.</td></tr></table> Be aware that QPtrVector's destructor automatically calls clear(). If you have a QPtrVector data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak.<a name="qpushbutton"><h2>QPushButton</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QPushButton.html">QPushButton</a> properties in Qt 3 that have changed in Qt 4.<a name="qrangecontrol"><h2>QRangeControl</h2> In Qt 3, various "range control" widgets (<a href="../../../com/trolltech/qt/gui/QDial.html">QDial</a>, <a href="../../../com/trolltech/qt/gui/QScrollBar.html">QScrollBar</a>, <a href="../../../com/trolltech/qt/gui/QSlider.html">QSlider</a>, and QSpin) inherited from both <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> and <tt>QRangeControl</tt>. <p>In Qt 4, <tt>QRangeControl</tt> has been replaced with the new <a href="../../../com/trolltech/qt/gui/QAbstractSlider.html">QAbstractSlider</a> and <a href="../../../com/trolltech/qt/gui/QAbstractSpinBox.html">QAbstractSpinBox</a> classes, which inherit from <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> and provides similar functionality. Apart from eliminating unnecessary multiple inheritance, the new design allows <a href="../../../com/trolltech/qt/gui/QAbstractSlider.html">QAbstractSlider</a> to provide signals, slots, and properties. <p>The old <tt>QRangeControl</tt> class has been renamed Q3RangeControl and moved to the <a href="qt3support.html">Qt3Support</a> library, together with the (undocumented) <tt>QSpinWidget</tt> class. <p>If you use <tt>QRangeControl</tt> as a base class in your application, you can switch to use <a href="../../../com/trolltech/qt/gui/QAbstractSlider.html">QAbstractSlider</a> or <a href="../../../com/trolltech/qt/gui/QAbstractSpinBox.html">QAbstractSpinBox</a> instead. <p>For example, if you have code like    class VolumeControl : public QWidget, public QRangeControl
    {
        ...
    protected:
        void valueChange() {
            update();
            emit valueChanged(value());
        }
        void rangeChange() {
            update();
        }
        void stepChange() {
            update();
        }
    }; you can rewrite it as    class VolumeControl : public QAbstractSlider
    {
        ...
    protected:
        void sliderChange(SliderChange change) {
            update();
            if (change == SliderValueChange)
                emit valueChanged(value());
        }
    };<a name="qregexp"><h2>QRegExp</h2> The search() and searchRev() functions have been renamed to indexIn() and lastIndexIn() respectively.<a name="qregion"><h2>QRegion</h2> The following changes have been made to <a href="../../../com/trolltech/qt/gui/QRegion.html">QRegion</a> in Qt 4: <ul><li> There is no longer any difference between a null region and an empty region. Use isEmpty() in most places where you would have used a null <a href="../../../com/trolltech/qt/gui/QRegion.html">QRegion</a>.</li><li> <a href="../../../com/trolltech/qt/gui/QRegion.html#rects()">QRegion::rects()</a> used to return a QMemArray&lt;<a href="../../../com/trolltech/qt/core/QRect.html">QRect</a>&gt;. It now returns a QVector&lt;<a href="../../../com/trolltech/qt/core/QRect.html">QRect</a>&gt;.</li></ul><a name="qscrollbar"><h2>QScrollBar</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QScrollBar.html">QScrollBar</a> properties in Qt 3 that have changed in Qt 4.<a name="qscrollview"><h2>QScrollView</h2> The <tt>QScrollView</tt> class has been renamed Q3ScrollView and moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the <a href="../../../com/trolltech/qt/gui/QAbstractScrollArea.html">QAbstractScrollArea</a> and <a href="../../../com/trolltech/qt/gui/QScrollArea.html">QScrollArea</a> classes. <p>Note that Qt 4 in general uses the <a href="../../../com/trolltech/qt/gui/QScrollArea.html#widget()">QScrollArea::widget()</a> function where Qt 3 used QScrollView::viewport(). The rationale for this is that it is no longer possible to draw directly on a scroll area. The <a href="../../../com/trolltech/qt/gui/QScrollArea.html#widget()">QScrollArea::widget()</a> function returns the widget set on the scroll area. <p><tt>QScrollView</tt> was designed to work around the 16-bit limitation on widget coordinates found on most window systems. In Qt 4, this is done transparently for all widgets, so there is no longer a need for such functionality in <tt>QScrollView</tt>. For that reason, the new <a href="../../../com/trolltech/qt/gui/QAbstractScrollArea.html">QAbstractScrollArea</a> and <a href="../../../com/trolltech/qt/gui/QScrollArea.html">QScrollArea</a> classes are much more lightweight, and concentrate on handling scroll bars.<a name="qserversocket"><h2>QServerSocket</h2> The <tt>QServerSocket</tt> class has been renamed Q3ServerSocket and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by <a href="../../../com/trolltech/qt/network/QTcpServer.html">QTcpServer</a>. <p>With Q3ServerSocket, connections are accepted by reimplementing a virtual function (Q3ServerSocket::newConnection()). With <a href="../../../com/trolltech/qt/network/QTcpServer.html">QTcpServer</a>, on the other hand, you don't need to subclass. Instead, simply connect to the QTcpServer::newConnection() signal.<a name="qsettings"><h2>QSettings</h2> The <a href="../../../com/trolltech/qt/core/QSettings.html">QSettings</a> class has been rewritten to be more robust and to respect existing standards (e.g., the INI file format). The API has also been extensively revised. The old API is still provided when Qt 3 support is enabled. <p>Since the format and location of settings have changed between Qt 3 and Qt 4, the Qt 4 version of your application won't recognize settings written using Qt 3.<a name="qshared"><h2>QShared</h2> The <tt>QShared</tt> class has been obsoleted by the more powerful QSharedData and QSharedDataPointer as a means of creating custom implicitly shared classes. It has been renamed Q3Shared moved to the <a href="qt3support.html">Qt3Support</a> library. <p>An easy way of porting to Qt 4 is to include this class into your project and to use it instead of <tt>QShared</tt>: <pre class="snippet">
struct Shared
{
    Shared() : count(1) {}
    void ref() { ++count; }
    bool deref() { return !--count; }
    uint count;
};
</pre> If possible, we recommend that you use QSharedData and QSharedDataPointer instead. They provide thread-safe reference counting and handle all the reference counting behind the scenes, eliminating the risks of forgetting to increment or decrement the reference count.<a name="qsignal"><h2>QSignal</h2> The <a href="porting4.html#qsignal">QSignal</a> class has been renamed to Q3Signal and moved to the <a href="qt3support.html">Qt3Support</a> library. The preferred approach is to create your own <a href="../../../com/trolltech/qt/core/QObject.html">QObject</a> subclass with a signal that has the desired signature. Alternatively, you can call QMetaObject::invokeMethod() if you want to invoke a slot.<a name="qsimplerichtext"><h2>QSimpleRichText</h2> <a href="porting4.html#qsimplerichtext">QSimpleRichText</a> has been obsoleted by <a href="../../../com/trolltech/qt/gui/QTextDocument.html">QTextDocument</a>. It has bene renamed Q3SimpleRichText and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>Previously, you would do the following with Q3SimpleRichText: <pre class="snippet">
// Declare the object
QSimpleRichText richText(text, font);

// Set the width of the paragraph to w
richText.setWidth(w);

// Or set a resonable default size
richText.adjustSize();

// Query for its used size
int width = richText.widthUsed();
int height = richText.height();

// Draw
richText.draw(painter, x, y, clipRect, colorGroup);
</pre> However, with <a href="../../../com/trolltech/qt/gui/QTextDocument.html">QTextDocument</a>, you use the following code instead: <pre class="snippet">
// Declare the object
QTextDocument doc;

// If text is rich text, use setHtml()
doc.setHtml(text);

// Otherwise, use setPlainText()
doc.setPlainText(text);

// Set the width of the paragraph of text to w
doc.setTextWidth(w);

// Query for the used size
int width = doc.idealWidth();
int height = doc.size().height();

// Draw
painter.translate(x, y);
doc.drawContents(painter, clipRect);

// If you have a palette/colorgroup you can draw using lower-level functions:
QAbstractTextDocumentLayout::PaintContext context;
context.palette = myPalette;
doc.documentLayout()-&gt;draw(painter, context);
</pre> See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes.<a name="qslider"><h2>QSlider</h2> The QSlider::sliderStart() and QSlider::sliderRect() functions have been removed. <p>The slider's rect can now be retrieved using the code snippet below: <pre class="snippet">
QSlider *slider;
slider-&gt;style()-&gt;subControlRect(CC_Slider, sliderOption, SC_SliderHandle, slider);
</pre> In addition, the direction of a vertical <a href="../../../com/trolltech/qt/gui/QSlider.html">QSlider</a> has changed, i.e. the bottom is now the minimum, and the top the maximum. You can use the <a href="../../../QAbstractSlider.html#invertedAppearance()">QAbstractSlider::invertedAppearance</a> property to control this behavior. <p>See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QSlider.html">QSlider</a> properties in Qt 3 that have changed in Qt 4.<a name="qsocket"><h2>QSocket</h2> The <tt>QSocket</tt> class has been renamed Q3Socket and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by the <a href="../../../com/trolltech/qt/network/QTcpSocket.html">QTcpSocket</a> class, which inherits most of its functionality from <a href="../../../com/trolltech/qt/network/QAbstractSocket.html">QAbstractSocket</a>.<a name="qsocketdevice"><h2>QSocketDevice</h2> The <tt>QSocketDevice</tt> class has been renamed Q3SocketDevice and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, there is no direct equivalent to Q3SocketDevice: <ul><li> If you use Q3SocketDevice in a thread to perform blocking network I/O (a technique encouraged by the Qt Quarterly article Unblocking Networking), you can now use <a href="../../../com/trolltech/qt/network/QTcpSocket.html">QTcpSocket</a>, <a href="../../../com/trolltech/qt/network/QFtp.html">QFtp</a>, or <a href="../../../com/trolltech/qt/network/QHttp.html">QHttp</a> instead, which can now be used from non-GUI threads.</li><li> If you use Q3SocketDevice for UDP, you can now use <a href="../../../com/trolltech/qt/network/QUdpSocket.html">QUdpSocket</a> instead.</li><li> If you use Q3SocketDevice for other uses, Qt 4 offers no alternative right now. However, there is a <tt>QAbstractSocketEngine</tt> internal class that offers a low-level socket API similar to Q3SocketDevice. Should the need for such functionality arise in Qt 4 applications, we will consider making this class public in a future release.</li></ul><a name="qsortedlist"><h2>QSortedList</h2> The <a href="porting4.html#qsortedlist">QSortedList</a>&lt;T&gt; class has been deprecated since Qt 3.0. In Qt 4, it has been moved to the <a href="qt3support.html">Qt3Support</a> library. <p>In new code, we recommend that you use QList&lt;T&gt; instead and use qSort() to sort the items.<a name="qsplitter"><h2>QSplitter</h2> The function setResizeMode() has been moved into <a href="qt3support.html">Qt3Support</a>. Set the stretch factor in the widget's size policy to get equivalent functionality. <p>The obsolete function drawSplitter() has been removed. Use <a href="../../../com/trolltech/qt/gui/QStyle.html#drawPrimitive(com.trolltech.qt.gui.QStyle.PrimitiveElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawPrimitive()</a> to acheive similar functionality.<a name="qspinbox"><h2>QSpinBox</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QSpinBox.html">QSpinBox</a> properties in Qt 3 that have changed in Qt 4.<a name="qsqlcursor"><h2>QSqlCursor</h2> The <tt>QSqlCursor</tt> class has been renamed Q3SqlCursor and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, you can use <a href="../../../com/trolltech/qt/sql/QSqlQuery.html">QSqlQuery</a>, <a href="../../../com/trolltech/qt/sql/QSqlQueryModel.html">QSqlQueryModel</a>, or <a href="../../../com/trolltech/qt/sql/QSqlTableModel.html">QSqlTableModel</a>, depending on whether you want a low-level or a high-level interface for accessing databases. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqldatabase"><h2>QSqlDatabase</h2> <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html">QSqlDatabase</a> is now a smart pointer that is passed around by value. Simply replace all <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html">QSqlDatabase</a> pointers by <a href="../../../com/trolltech/qt/sql/QSqlDatabase.html">QSqlDatabase</a> objects.<a name="qsqleditorfactory"><h2>QSqlEditorFactory</h2> The <tt>QSqlEditorFactory</tt> class has been renamed Q3SqlEditorFactory and moved to <a href="qt3support.html">Qt3Support</a>. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqlerror"><h2>QSqlError</h2> The enum <tt>Type</tt> was renamed to <tt>ErrorType</tt>, The values were renamed as well: <ul><li> None - use NoError instead</li><li> Connection - use ConnectionError instead</li><li> Statement - use StatementError instead</li><li> Transaction - use TransactionError instead</li><li> Unknown - use UnknownError instead</li></ul><a name="qsqlfieldinfo"><h2>QSqlFieldInfo</h2> The <a href="porting4.html#qsqlfieldinfo">QSqlFieldInfo</a> class has been moved to <a href="qt3support.html">Qt3Support</a>. Its functionality is now provided by the <a href="../../../com/trolltech/qt/sql/QSqlField.html">QSqlField</a> class. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqlform"><h2>QSqlForm</h2> The <tt>QSqlForm</tt> class has been renamed Q3SqlForm and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqlpropertymap"><h2>QSqlPropertyMap</h2> The <tt>QSqlPropertyMap</tt> class has been renamed Q3SqlPropertyMap moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqlquery"><h2>QSqlQuery</h2> QSqlQuery::prev() was renamed to <a href="../../../com/trolltech/qt/sql/QSqlQuery.html#previous()">QSqlQuery::previous()</a>. QSqlQuery::prev() remains, but it just calls previous(). <a href="../../../com/trolltech/qt/sql/QSqlQuery.html">QSqlQuery</a> no longer has any virtual methods, i.e., exec(), value(), seek(), next(), prev(), first(), last(), and the destructor are no longer virtual.<a name="qsqlrecord"><h2>QSqlRecord</h2> <a href="../../../com/trolltech/qt/sql/QSqlRecord.html">QSqlRecord</a> behaves like a vector now, <a href="../../../com/trolltech/qt/sql/QSqlRecord.html#insert(int, com.trolltech.qt.sql.QSqlField)">QSqlRecord::insert()</a> will actually insert a new field instead of replacing the existing one.<a name="qsqlrecordinfo"><h2>QSqlRecordInfo</h2> The <a href="porting4.html#qsqlrecordinfo">QSqlRecordInfo</a> class has been moved to <a href="qt3support.html">Qt3Support</a>. Its functionality is now provided by the <a href="../../../com/trolltech/qt/sql/QSqlRecord.html">QSqlRecord</a> class. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qsqlselectcursor"><h2>QSqlSelectCursor</h2> The <tt>QSqlSelectCursor</tt> class has been renamed Q3SqlSelectCursor and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.<a name="qstoreddrag"><h2>QStoredDrag</h2> The <tt>QStoredDrag</tt> class has been renamed Q3StoredDrag and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> instead and call <a href="../../../com/trolltech/qt/core/QMimeData.html#setData(java.lang.String, com.trolltech.qt.core.QByteArray)">QMimeData::setData()</a> to set the data. <p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qstr-i-list"><h2>QStr(I)List</h2> The QStrList and QStrIList convenience classes have been deprecated since Qt 2.0. In Qt 4, they have been moved to the <a href="qt3support.html">Qt3Support</a> library. If you used any of these, we recommend that you use QStringList or QList&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>&gt; instead.<a name="qstr-i-vec"><h2>QStr(I)Vec</h2> The QStrVec and QStrIVec convenience classes have been deprecated since Qt 2.0. In Qt 4, they have been moved to <a href="qt3support.html">Qt3Support</a>. If you used any of these, we recommend that you use QStringList or QList&lt;<a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a>&gt; instead.<a name="qstring"><h2>QString</h2> Here are the main issues to be aware of when porting QString to Qt 4: <ol><li> The QString::QString(QChar) constructor performed implicit conversion in Qt 3. Now, you will need a cast to convert a QChar to a QString.</li><li> The QString::QString(const <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> &) constructor used to stop at the first '\0' it encountered, for compatibility with Qt 1. This quirk has now been fixed; in Qt 4, the resulting QString always has the same length as the <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> that was passed to the constructor.</li><li> The QString::null static constant has been deprecated in Qt 4. For compatibility, Qt 4 provides a QString::null symbol that behaves more or less the same as the old constant. The new idiom is to write QString() instead of QString::null, or to call clear(). <p>For example, if you have code like        str1 = QString::null;
        if (str2 == QString::null)
            do_something(QString::null); you can rewrite it as        str1.clear();
        if (str2.isNull())
            do_something(QString()); In new code, we recommend that you don't rely on the distinction between a null string and a (non-null) empty string. See Distinction Between Null and Empty Strings for details.</li><li> QString::latin1() and QString::ascii() have been replaced with QString::toLatin1() and QString::toAscii(), which return a <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> instead of a (non-reentrant) <tt>const char *</tt>. For consistency, QString::utf8() and QString::local8Bit(), which already returned a <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> (actually a <tt>QCString</tt>), have been renamed QString::toUtf8() and QString::toLocal8Bit(). <p>To obtain a <tt>const char *</tt> pointer to ASCII or Latin-1 data, use QString::toAscii() or QString::toLatin1() to obtain a <a href="../../../com/trolltech/qt/core/QByteArray.html">QByteArray</a> containing the data, then call QByteArray::constData() to access the character data directly. Note that the pointer returned by this function is only valid for the lifetime of the byte array; you should avoid taking a pointer to the data contained in temporary objects. <pre class="snippet">
QString greeting = "Hello";
const char *badData = greeting.toAscii().constData(); // data is invalid
QByteArray asciiData = greeting.toAscii();
const char *goodData = asciiData.constData();
</pre> In the above example, the <tt>goodData</tt> pointer is valid for the lifetime of the <tt>asciiData</tt> byte array. If you need to keep a copy of the data in a non-Qt data structure, use standard C memory allocation and string copying functions to do so before destroying the byte array.</li><li> QString::at() returned a non-const reference, whereas the new QString::at() returns a const value. Code like <pre class="snippet">
str.at(0) = 'X';
</pre> will no longer compile. Instead, use QString::operator[]: <pre class="snippet">
str[0] = 'X';
</li></pre><li> The QString::contains(x) function (where x is a character or a string) has been renamed QString::count(x). In addition, there now exists a set of QString::contains() functions that returns a boolean value. Replace old calls to contains() with either count() or contains(), depending on whether you care about the specific number of occurrences of a character in the string or only care about whether the string contains that character or not.</li><li> Many functions in QString had a <tt>bool</tt> parameter that specified case sensitivity. In Qt 4, in the interest of code readability and maintainability, the <tt>bool</tt> parameters have been replaced by the <a href="../../../com/trolltech/qt/core/Qt.CaseSensitivity.html">Qt::CaseSensitivity</a> enum, which can take the values <a href="../../../com/trolltech/qt/core/Qt.CaseSensitivity.html">Qt::CaseSensitive</a> and <a href="../../../com/trolltech/qt/core/Qt.CaseSensitivity.html">Qt::CaseInsensitive</a>. <p>For example, if you have code like        if (url.startsWith("http:", false))
            ... you can rewrite it as        if (url.startsWith("http:", Qt::CaseInsensitive))
            ...</li><li> The QString::setExpand(uint, QChar) function, which already was obsolete in Qt 3, is no longer available. Use QString::operator[] instead. <p>For example, if you have code like        str.setExpand(32, '$'); you can rewrite it as        str[32] = '$';</li><li> The <tt>QT_NO_ASCII_CAST</tt> and <tt>QT_NO_CAST_ASCII</tt> macros have been renamed <tt>QT_NO_CAST_TO_ASCII</tt> and <tt>QT_NO_CAST_FROM_ASCII</tt>, respectively.</li><li> The QString::data() used to return the same as QString::ascii(). It now returns a pointer to the Unicode data stored in the QString object. Call QString::ascii() if you want the old behavior.</li><li> QString::arg() now converts two-digit place markers, allowing up to 99 place markers to be used in any given string.</li><li> Comparisons between QStrings and <tt>NULL</tt> in order to determine whether strings are empty are no longer allowed. Use isEmpty() instead.</li></ol><a name="qstringlist"><h2>QStringList</h2> QStringList now inherits from QList&lt;QString&gt; and can no longer be converted to a QValueList&lt;QString&gt;. Since QValueList inherits QList a cast will work as expected. <p>This change implies some API incompatibilities for QStringList. For example, at() returns the string, not an iterator. See the <a href="porting4.html#qvaluelist-section">section on QValueList</a> for details. <p>The static QStringList::split() function for splitting strings into lists of smaller strings has been replaced by QString::split(), which returns a QStringList.<a name="qstyle"><h2>QStyle</h2> The <a href="../../../com/trolltech/qt/gui/QStyle.html">QStyle</a> API has been overhauled and improved. Most of the information on why this change was done is described in <a href="qt4-styles.html">the QStyle overview</a>. <p>Since <a href="../../../com/trolltech/qt/gui/QStyle.html">QStyle</a> is mostly used internally by Qt's widgets and styles and since it is not essential to the good functioning of an application, there is no compatibility path. This means that we have changed many enums and functions and the qt3to4 porting tool will not change much in your qstyle code. To ease the pain, we list some of the major changes here. <p><a href="../../../com/trolltech/qt/gui/QStyleOption.html">QStyleOption</a> has taken on a more central role and is no longer an optional argument, please see the <a href="../../../com/trolltech/qt/gui/QStyleOption.html">QStyleOption</a> documentation for more information. <p>The QStyle::StyleFlags have been renamed QStyle::StateFlags and are now prefixed State_ instead of Style_, in addition the Style_ButtonDefault flag has moved to <a href="../../../com/trolltech/qt/gui/QStyleOptionButton.html">QStyleOptionButton</a>. <p>The <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PrimitiveElement</a> enumeration has undergone extensive change. Some of the enums were moved to <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::ControlElement</a>, some were removed and all were renamed. This renaming is not done by the qt3to4 porting tool, so you must do it yourself. The table below shows how things look now. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Old name</center></th><th><center> New name</center></th><th><center> Remark</center></th></tr></thead><tr valign="top" class="even"><td> <tt>PE_ButtonCommand</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_PanelButtonCommand</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ButtonDefault</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameDefaultButton</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ButtonBevel</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_PanelButtonBevel</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ButtonTool</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_PanelButtonTool</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ButtonDropDown</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorButtonDropDown</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_FocusRect</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameFocusRect</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ArrowUp</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorArrowUp</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ArrowDown</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorArrowDown</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ArrowRight</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorArrowRight</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ArrowLeft</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorArrowLeft</a></td></tr><tr valign="top" class="even"><td> <tt>PE_SpinBoxUp</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorSpinUp</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_SpinBoxDown</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorSpinDown</a></td></tr><tr valign="top" class="even"><td> <tt>PE_SpinBoxPlus</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorSpinPlus</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_SpinBoxMinus</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorSpinMinus</a></td></tr><tr valign="top" class="even"><td> <tt>PE_SpinBoxSlider</tt></td><td> QStyle::CE_SpinBoxSlider</td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_Indicator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorCheckBox</a></td></tr><tr valign="top" class="even"><td> <tt>PE_IndicatorMask</tt></td><td> N/A</td><td> use <a href="../../../com/trolltech/qt/gui/QStyle.html#styleHint(com.trolltech.qt.gui.QStyle.StyleHint, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QWidget)">QStyle::styleHint()</a> to retrieve mask</td></tr><tr valign="top" class="odd"><td> <tt>PE_ExclusiveIndicator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorRadioButton</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ExclusiveIndicatorMask</tt></td><td> N/A</td><td> use <a href="../../../com/trolltech/qt/gui/QStyle.html#styleHint(com.trolltech.qt.gui.QStyle.StyleHint, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QWidget)">QStyle::styleHint()</a> to retrieve mask</td></tr><tr valign="top" class="odd"><td> <tt>PE_DockWindowHandle</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorToolBarHandle</a></td></tr><tr valign="top" class="even"><td> <tt>PE_DockWindowSeparator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Q3DockWindowSeparator</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_DockWindowResizeHandle</tt></td><td> QStyle::PE_IndicatorDockWindowResizeHandle</td></tr><tr valign="top" class="even"><td> <tt>PE_DockWindowTitle</tt></td><td> QStyle::CE_DockWindowTitle</td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_Splitter</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_Splitter</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_Panel</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Frame</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_PanelMenu</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameMenu</a></td></tr><tr valign="top" class="even"><td> <tt>PE_PanelMenuBar</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_PanelMenuBar</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_PanelDockWindow</tt></td><td> QStyle::PE_FrameDockWindow</td></tr><tr valign="top" class="even"><td> <tt>PE_TabBarBase</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameTabBarBase</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_HeaderSection</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_HeaderSection</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_HeaderArrow</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorHeaderArrow</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_StatusBarSection</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameStatusBar</a></td></tr><tr valign="top" class="even"><td> <tt>PE_Separator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Q3Separator</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_SizeGrip</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_SizeGrip</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_CheckMark</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorMenuCheckMark</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ScrollBarAddLine</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarAddLine</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ScrollBarSubLine</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarSubLine</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ScrollBarAddPage</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarAddPage</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ScrollBarSubPage</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarSubPage</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ScrollBarSlider</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarSlider</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ScrollBarFirst</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarFirst</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ScrollBarLast</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_ScrollBarLast</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ProgressBarChunk</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorProgressChunk</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_PanelLineEdit</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameLineEdit</a></td></tr><tr valign="top" class="even"><td> <tt>PE_PanelTabWidget</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameTabWidget</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_WindowFrame</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameWindow</a></td></tr><tr valign="top" class="even"><td> <tt>PE_CheckListController</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Q3CheckListController</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_CheckListIndicator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Q3CheckListIndicator</a></td></tr><tr valign="top" class="even"><td> <tt>PE_CheckListExclusiveIndicato\o</tt><a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_Q3CheckListExclusiveIndicator</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_PanelGroupBox</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_FrameGroupBox</a></td></tr><tr valign="top" class="even"><td> <tt>PE_TreeBranch</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorBranch</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_RubberBand</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.ControlElement.html">QStyle::CE_RubberBand</a></td><td> uses <a href="../../../com/trolltech/qt/gui/QStyle.html#drawControl(com.trolltech.qt.gui.QStyle.ControlElement, com.trolltech.qt.gui.QStyleOption, com.trolltech.qt.gui.QPainter)">QStyle::drawControl()</a></td></tr><tr valign="top" class="even"><td> <tt>PE_PanelToolBar</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_PanelToolBar</a></td></tr><tr valign="top" class="odd"><td> <tt>PE_ToolBarHandle</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorToolBarHandle</a></td></tr><tr valign="top" class="even"><td> <tt>PE_ToolBarSeparator</tt></td><td> <a href="../../../com/trolltech/qt/gui/QStyle.PrimitiveElement.html">QStyle::PE_IndicatorToolBarSeparator</a></td></tr></table> The QStyle::drawControlMask() and QStyle::drawComplexControlMask() functions have been removed. They are replaced with a style hint. <p>The QStyle::drawItem() overloads that took both a pixmap and a string have been removed. Use <a href="../../../com/trolltech/qt/gui/QStyle.html#drawItemText(com.trolltech.qt.gui.QPainter, com.trolltech.qt.core.QRect, int, com.trolltech.qt.gui.QPalette, boolean, java.lang.String)">QStyle::drawItemText()</a> and <a href="../../../com/trolltech/qt/gui/QStyle.html#drawItemPixmap(com.trolltech.qt.gui.QPainter, com.trolltech.qt.core.QRect, int, com.trolltech.qt.gui.QPixmap)">QStyle::drawItemPixmap()</a> directly. <p>The QStyle::itemRect() overload that took both a pixmap and a string is also removed, use either <a href="../../../com/trolltech/qt/gui/QStyle.html#itemTextRect(com.trolltech.qt.gui.QFontMetrics, com.trolltech.qt.core.QRect, int, boolean, java.lang.String)">QStyle::itemTextRect()</a> or <a href="../../../com/trolltech/qt/gui/QStyle.html#itemPixmapRect(com.trolltech.qt.core.QRect, int, com.trolltech.qt.gui.QPixmap)">QStyle::itemPixmapRect()</a> instead.<a name="qstylesheet"><h2>QStyleSheet</h2> The <a href="porting4.html#qstylesheet">QStyleSheet</a> and QStyleSheetItem classes have been renamed Q3StyleSheet and Q3StyleSheetItem, and have been moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes, and <a href="qtjambi-stylesheet.html">Qt Style Sheets</a> for a description of CSS-like style sheet support in Qt 4.2 and above.<a name="qsyntaxhighlighter"><h2>QSyntaxHighlighter</h2> The <tt>QSyntaxHighlighter</tt> class from Qt 3 has been renamed Q3SyntaxHighlighter and moved to the <a href="qt3support.html">Qt3Support</a> library. Since Qt 4.1, it has been replaced by a new <a href="../../../com/trolltech/qt/gui/QSyntaxHighlighter.html">QSyntaxHighlighter</a> class based on Qt 4's new rich text engine.<a name="qtabbar"><h2>QTabBar</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QTabBar.html">QTabBar</a> properties in Qt 3 that have changed in Qt 4.<a name="qtabdialog"><h2>QTabDialog</h2> The <tt>QTabDialog</tt> class is no longer part of the public Qt API. It has been renamed Q3TabDialog and moved to <a href="qt3support.html">Qt3Support</a>. In Qt 4 applications, you can easily obtain the same result by combining a <a href="../../../com/trolltech/qt/gui/QTabWidget.html">QTabWidget</a> with a <a href="../../../com/trolltech/qt/gui/QDialog.html">QDialog</a> and provide <a href="../../../com/trolltech/qt/gui/QPushButton.html">QPushButton</a>s yourself. <p>See also the <a href="dialogs-tabdialog.html">dialogs/tabdialog</a> example, which shows how to implement tab dialogs in Qt 4.<a name="qtabwidget"><h2>QTabWidget</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QTabWidget.html">QTabWidget</a> properties in Qt 3 that have changed in Qt 4.<a name="qtable"><h2>QTable</h2> The <tt>QTable</tt>, <tt>QTableItem</tt>, <tt>QComboTableItem</tt>, <tt>QCheckTableItem</tt>, and <tt>QTableSelection</tt> classes have been renamed Q3Table, Q3TableItem, Q3ComboTableItem, Q3CheckTableItem, and Q3TableSelection and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use the new <a href="../../../com/trolltech/qt/gui/QTableWidget.html">QTableWidget</a> or <a href="../../../com/trolltech/qt/gui/QTableView.html">QTableView</a> class instead. <p>Some of these classes behave differently with respect to the way they handle <tt>NULL</tt> pointers. For example, Q3TableItem::setPixmap() no longer accepts <tt>NULL</tt> or 0 to indicate that the item should contain a null pixmap; in this case, a null pixmap should be constructed and passed explicitly to the function. <p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.<a name="qtextcodec"><h2>QTextCodec</h2> The loadCharmap() and loadCharmapFromFile() functions are no longer available in Qt 4. You need to create your own codec if you want to create a codec based on a POSIX2 charmap definition.<a name="qtextdrag"><h2>QTextDrag</h2> The <tt>QTextDrag</tt> class has been renamed Q3TextDrag and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> instead and call <a href="../../../com/trolltech/qt/core/QMimeData.html#setText(java.lang.String)">QMimeData::setText()</a> to set the data. <p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qtextedit"><h2>QTextEdit</h2> The old <a href="../../../com/trolltech/qt/gui/QTextEdit.html">QTextEdit</a> and <a href="../../../com/trolltech/qt/gui/QTextBrowser.html">QTextBrowser</a> classes have been renamed Q3TextEdit and Q3TextBrowser, and have been moved to <a href="qt3support.html">Qt3Support</a>. The new <a href="../../../com/trolltech/qt/gui/QTextEdit.html">QTextEdit</a> and <a href="../../../com/trolltech/qt/gui/QTextBrowser.html">QTextBrowser</a> have a somewhat different API. <p>The <tt>QTextEdit::setWrapPolicy()</tt> function has been renamed to <a href="../../../com/trolltech/qt/gui/QTextEdit.html#setWordWrapMode(com.trolltech.qt.gui.QTextOption.WrapMode)">setWordWrapMode()</a> and the <tt>QTextEdit::setWrapColumnOrWidth()</tt> function has been renamed to <a href="../../../com/trolltech/qt/gui/QTextEdit.html#setLineWrapColumnOrWidth(int)">setLineWrapColumnOrWidth()</a>. The Q3TextEdit::setWrapPolicy() and Q3TextEdit::setWrapColumnOrWidth() still provide this functionality in the Q3TextEdit class. <p>See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes.<a name="qtextistream"><h2>QTextIStream</h2> The QTextIStream convenience class is no longer provided in Qt 4. Use <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> directly instead.<a name="qtextostream"><h2>QTextOStream</h2> The QTextOStream convenience class is no longer provided in Qt 4. Use <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> directly instead.<a name="qtextostreamiterator"><h2>QTextOStreamIterator</h2> The undocumented <tt>QTextOStreamIterator</tt> class has been removed from the Qt library. If you need it in your application, feel free to copy the source code from the Qt 3 <tt>&lt;qtl.h&gt;</tt> header file.<a name="qtextstream"><h2>QTextStream</h2> <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> has undergone a number of API and implementation enhancements, and some of the changes affect <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a>'s behavior: <ul><li> <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> now uses buffered writing, which means that you need to call <a href="../../../com/trolltech/qt/core/QTextStream.html#flush()">QTextStream::flush()</a>, or use the streaming manipulators <tt>endl</tt> or <tt>flush</tt> if you need <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> to flush its write buffer. The stream is flushed automatically if <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> is deleted or when the device is closed.</li><li> <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> now uses buffered reading, so if you read a line from the stream, <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> will read as much as it can from the device to fill up its internal read buffer. This speeds up reading significantly, but Qt 3 code that mixed <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> access and direct device access may need to be updated.</li><li> While <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> in Qt 3 always translated end-of-line characters from Windows style ("\r\n") to Unix style ("\n") on Windows, <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> in Qt 4 only does this on devices opened with the <tt>QIODevice::Text</tt> mode (formerly <tt>IO_Translate</tt>).</li></ul> Note that when using a <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> on a <a href="../../../com/trolltech/qt/core/QFile.html">QFile</a> in Qt 4, calling <a href="../../../com/trolltech/qt/core/QIODevice.html#reset()">QIODevice::reset()</a> on the <a href="../../../com/trolltech/qt/core/QFile.html">QFile</a> will not have the expected result because <a href="../../../com/trolltech/qt/core/QTextStream.html">QTextStream</a> now buffers the file. Use the <a href="../../../com/trolltech/qt/core/QTextStream.html#seek(long)">QTextStream::seek()</a> function instead.<a name="qtextview"><h2>QTextView</h2> The <tt>QTextView</tt> class has been renamed Q3TextView and moved to the <a href="qt3support.html">Qt3Support</a> library.<a name="qtimeedit"><h2>QTimeEdit</h2> The <a href="../../../com/trolltech/qt/gui/QTimeEdit.html">QTimeEdit</a> class in Qt 4 is a convenience class based on <a href="../../../com/trolltech/qt/gui/QDateTimeEdit.html">QDateTimeEdit</a>. The old class has been renamed Q3TimeEdit and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QTimeEdit</tt> virtual member functions in Qt 3 that are no longer virtual in Qt 4.<a name="qtimer"><h2>QTimer</h2> Windows restricts the granularity of timers, but starting with Qt 4, we emulate a finer time resolution. On Windows XP we use the multimedia timer API, which gives us 1 millisecond resolution for <a href="../../../com/trolltech/qt/core/QTimer.html">QTimer</a>. <p>Note that other versions of Windows have a lower timer resolution, and that code relying on underlying system timer restrictions encounters no such limitations using Qt 4 (e.g., setting an interval of 0 millisecond results in Qt occupying all of the processor time when no GUI events need processing).<a name="qtoolbar"><h2>QToolBar</h2> The old <tt>QToolBar</tt> class, which worked with the old <tt>QMainWindow</tt> and <tt>QDockArea</tt> classes and inherited from <tt>QDockWindow</tt>, has been renamed Q3ToolBar and moved to <a href="qt3support.html">Qt3Support</a>. Note that, when using Q3ToolBar, the toolbar's actions must be Q3Actions. <p>Use the new <a href="../../../com/trolltech/qt/gui/QToolBar.html">QToolBar</a> class in new applications. <p><b>Note:</b>Q3ToolBar's horizontallyStretchable property can be achieved in <a href="../../../com/trolltech/qt/gui/QToolBar.html">QToolBar</a> with <a href="../../../com/trolltech/qt/gui/QWidget.html">size policies</a>.<a name="qtoolbutton"><h2>QToolButton</h2> See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QToolButton.html">QToolButton</a> properties in Qt 3 that have changed in Qt 4. <p>Note that many of the properties that could previously be set in the constructor must now be set separately.<a name="qtooltip"><h2>QToolTip</h2> The QToolTip::setGloballyEnabled() function no longer exists. Tooltips can be disabled by <a href="../../../com/trolltech/qt/core/QObject.html#installEventFilter(com.trolltech.qt.core.QObject)">installing an event filter</a> on qApp (the unique <a href="../../../com/trolltech/qt/gui/QApplication.html">QApplication</a> object) to block events of type <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ToolTip</a>.<a name="quridrag"><h2>QUriDrag</h2> The <tt>QUriDrag</tt> class has been renamed Q3UriDrag and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="../../../com/trolltech/qt/core/QMimeData.html">QMimeData</a> instead and call QMimeData::setUrl() to set the URL. <p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.<a name="qurl"><h2>QUrl</h2> The <a href="../../../com/trolltech/qt/core/QUrl.html">QUrl</a> class has been rewritten from scratch in Qt 4 to be more standard-compliant. The old <a href="../../../com/trolltech/qt/core/QUrl.html">QUrl</a> class has been renamed Q3Url and moved to the <a href="qt3support.html">Qt3Support</a> library. <p>The new <a href="../../../com/trolltech/qt/core/QUrl.html">QUrl</a> class provides an extensive list of compatibility functions to ease porting from Q3Url to <a href="../../../com/trolltech/qt/core/QUrl.html">QUrl</a>. A few functions require you to change your code: <ul><li> Q3Url::Q3Url(const Q3Url &, const QString &, bool) can be simulated by combining the URLs manually (using QString::operator+(), for example).</li><li> Q3Url::setEncodedPathAndQuery(const QString &) is replaced by <a href="../../../com/trolltech/qt/core/QUrl.html#setPath(java.lang.String)">QUrl::setPath()</a> and <a href="../../../com/trolltech/qt/core/QUrl.html#setEncodedQuery(com.trolltech.qt.core.QByteArray)">QUrl::setEncodedQuery()</a>.</li><li> Q3Url::encodedPathAndQuery() is replaced by <a href="../../../com/trolltech/qt/core/QUrl.html#path()">QUrl::path()</a> and <a href="../../../com/trolltech/qt/core/QUrl.html#encodedQuery()">QUrl::encodedQuery()</a>.</li><li> Q3Url::isLocalFile() can be simulated by checking that QUrl::protocol() is "file".</li><li> Q3Url::toString(bool, bool) is replaced by QUrl::toString(int), where the <tt>int</tt> parameter specifies a combination of formatting options.</li></ul><a name="qurloperator"><h2>QUrlOperator</h2> The <tt>QUrlOperator</tt> class is no longer part of the public Qt API. It has been renamed Q3UrlOperator and moved to <a href="qt3support.html">Qt3Support</a>. <p>From Qt 4.4, the Network Access API provides a subset of the features provided by <tt>QUrlOperator</tt> that are mostly intended for use with applications that use the HTTP and FTP protocols. See the <a href="../../../com/trolltech/qt/network/QNetworkRequest.html">QNetworkRequest</a>, <a href="../../../com/trolltech/qt/network/QNetworkReply.html">QNetworkReply</a>, and <a href="../../../com/trolltech/qt/network/QNetworkAccessManager.html">QNetworkAccessManager</a> documentation for further details.<a name="qvaluelist-section"><a name="qvaluelist-t"><h2>QValueList<T></h2> The QValueList&lt;T&gt; class has been replaced by QList&lt;T&gt; and QLinkedList&lt;T&gt; in Qt 4. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a QValueList&lt;T&gt; class implemented in terms of the new QLinkedList&lt;T&gt;. Similarly, it contains QValueListIterator&lt;T&gt; and QValueListConstIterator&lt;T&gt; classes implemented in terms of QLinkedList&lt;T&gt;::iterator and QLinkedList&lt;T&gt;::const_iterator. <p>When porting to Qt 4, you have the choice of using QList&lt;T&gt; or QLinkedList&lt;T&gt; as alternatives to QValueList&lt;T&gt;. QList&lt;T&gt; has an index-based API and provides very fast random access (QList::operator[]), whereas QLinkedList&lt;T&gt; has an iterator-based API. <p>Here's a list of problem functions: <ul><li> QValueList(const std::list&lt;T&gt; &) doesn't exist in QList or QLinkedList. You can simulate it by calling append() in a loop.</li><li> QValueList::insert(iterator, size_type, const T& x) doesn't exist in QList or QLinkedList. Call insert() repeatedly instead.</li><li> QValueList::fromLast() doesn't exist in QList or QLinkedList. Use QValueList::end() instead. <p>For example, if you have code like    for (QValueList<T>::iterator i = list.fromLast(); i != list.begin(); --i)
        do_something(*i); you can rewrite it as    QLinkedList<T>::iterator i = list.end();
    while (i != list.begin()) {
        --i; // decrement i before using it
        do_something(*i);
    }</li><li> QValueList::append() and QValueList::prepend() return an iterator to the inserted item. QList's and QLinkedList's corresponding functions don't, but it's not a problem because QValueList::prepend() always returns begin() and append() always returns QValueList::end() - 1.</li><li> QValueList::at(i) return an iterator to the item at index i. This corresponds to QList::begin() + i.</li><li> QValueList::contains(const T &) corresponds to QList::count(const T &) and QLinkedList::count(const T &).</li></ul><a name="qvaluevector-t"><h2>QValueVector<T></h2> The QValueVector&lt;T&gt; class has been replaced by QVector&lt;T&gt; in Qt 4. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a Q3ValueVector&lt;T&gt; class implemented in terms of the new QVector&lt;T&gt;. <p>When porting from QValueVector&lt;T&gt; to QVector&lt;T&gt;, you might run into the following incompatibilities: <ul><li> QValueVector(const std::vector&lt;T&gt; &) doesn't exist in QVector. You can simulate it by calling QVector::append()} in a loop.</li><li> QValueVector::resize(int, const T &) doesn't exist in QVector. If you want the new items to be initialized with a particular value, use QVector::insert() instead.</li><li> QValueVector::at() on a non-const vector returns a non-const reference. This corresponds to QVector::operator[]().</li><li> Both QValueVector::at() functions have an ok parameter of type <tt>bool *</tt> that is set to true if the index is within bounds. This functionality doesn't exist in QVector; instead, check the index against QVector::size() yourself.</li></ul> See <a href="containers.html">Generic Containers</a> for an overview of the Qt 4 container classes.<a name="qvariant"><h2>QVariant</h2> Some changes to the rest of the Qt library have implications on <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>: <ol><li> The <tt>QVariant::ColorGroup</tt> enum value is defined only if <tt>QT3_SUPPORT</tt> is defined.</li><li> The <tt>QVariant::IconSet</tt> enum value has been renamed <a href="../../../com/trolltech/qt/QVariant.Type.html">QVariant::Icon</a>.</li><li> The <tt>QVariant::CString</tt> enum value is now a synonym for <a href="../../../com/trolltech/qt/QVariant.Type.html">QVariant::ByteArray</a>.</li></ol> Also, the <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>(bool, int) constructor has been replaced by <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>(bool). Old code like <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>(true, 0) should be replaced with <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>(true); otherwise, the <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>(int, void *) overload might accidentally be triggered. <p>Many of <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>'s convenience functions in Qt 3, such as toColor() and toKeySequence(), have been removed to enable <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a> to be part of the <a href="qtcore.html">QtCore</a> module. <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a> is still able to hold values of these types. <p>Types which are not supported by any of the <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a> constructors can be stored as variants with the QVariant::fromValue() function. Types with no suitable convenience function for unpacking can be retrieved with the QVariant::value() function or passed directly to classes that implement the QVariant() operator. <table align="center" border="0" cellpadding="2" cellspacing="1"><thead><tr class="qt-style" valign="top"><th><center> Qt 3 function</center></th><th><center> Qt 4 function</center></th></tr></thead><tr valign="top" class="even"><td> toBitmap ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toBrush ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toColorGroup ()</td><td> Use QVariant::value() with <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> instead.</td></tr><tr valign="top" class="odd"><td> toColor ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toCString ()</td><td> <a href="../../../com/trolltech/qt/QVariant.html#toByteArray(java.lang.Object)">QVariant::toByteArray()</a></td></tr><tr valign="top" class="odd"><td> toCursor ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toFont ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toIconSet ()</td><td> Use QVariant::value() with <a href="../../../com/trolltech/qt/gui/QIcon.html">QIcon</a> instead.</td></tr><tr valign="top" class="even"><td> toImage ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toKeySequence ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toPalette ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toPen ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toPixmap ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toPointArray ()</td><td> QVariant::value()</td></tr><tr valign="top" class="even"><td> toRegion ()</td><td> QVariant::value()</td></tr><tr valign="top" class="odd"><td> toSizePolicy ()</td><td> QVariant::value()</td></tr></table> See the <a href="../../../com/trolltech/qt/QVariant.Type.html">QVariant::Type</a> enum for a list of types supported by <a href="../../../com/trolltech/qt/QVariant.html">QVariant</a>.<a name="qvbox"><h2>QVBox</h2> The <tt>QVBox</tt> class is now only available as Q3VBox in Qt 4. You can achieve the same result as <tt>QVBox</tt> by creating a <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> with a vertical layout: <p>For example, if you have code likeQVBox *vbox = new QVBox;
QPushButton *child1 = new QPushButton(vbox);
QPushButton *child2 = new QPushButton(vbox); you can rewrite it asQWidget *vbox = new QWidget;
QPushButton *child1 = new QPushButton;
QPushButton *child2 = new QPushButton;

QVBoxLayout *layout = new QVBoxLayout;
layout->addWidget(child1);
layout->addWidget(child2);
vbox->setLayout(layout); Note that child widgets are not automatically placed into the widget's layout; you will need to manually add each widget to the <a href="../../../com/trolltech/qt/gui/QVBoxLayout.html">QVBoxLayout</a>.<a name="qvgroupbox"><h2>QVGroupBox</h2> The <tt>QVGroupBox</tt> class has been renamed Q3VGroupBox and moved to the <a href="qt3support.html">Qt3Support</a> library. Qt 4 does not provide a specific replacement class for <tt>QVGroupBox</tt> since <a href="../../../com/trolltech/qt/gui/QGroupBox.html">QGroupBox</a> is designed to be a generic container widget. As a result, you need to supply your own layout for any child widgets. <p>See <a href="porting4.html#qgroupbox">#QGroupBox</a> for more information about porting code that uses group boxes.<a name="qwhatsthis"><h2>QWhatsThis</h2> The <a href="../../../com/trolltech/qt/gui/QWhatsThis.html">QWhatsThis</a> class has been redesigned in Qt 4. The old <tt>QWhatsThis</tt> class is available as Q3WhatsThis in <a href="qt3support.html">Qt3Support</a>.<a name="qwidget"><h2>QWidget</h2> Widget background painting has been greatly improved, supporting flicker-free updates and making it possible to have semi-transparent widgets. This renders the following background handling functions obsolete: <ul><li> QWidget::repaint(bool noErase) - the <tt>noErase</tt> boolean parameter is gone</li><li> QWidget::setBackgroundMode(BackgroundMode m)</li><li> QWidget::backgroundBrush() const</li><li> QWidget::setBackgroundPixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &pm)</li><li> QWidget::backgroundPixmap() const</li><li> QWidget::setBackgroundColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &c)</li><li> QWidget::backgroundColor() const</li><li> QWidget::foregroundColor() const</li><li> QWidget::eraseColor() const</li><li> QWidget::setEraseColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &c)</li><li> QWidget::erasePixmap() const</li><li> QWidget::setErasePixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &p)</li><li> QWidget::paletteForegroundColor()</li><li> QWidget::setPaletteForegroundColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &c)</li><li> QWidget::paletteBackgroundColor()</li><li> QWidget::setPaletteBackgroundColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &c)</li><li> QWidget::paletteBackgroundPixmap() const</li><li> QWidget::setPaletteBackgroundPixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &p)</li><li> QWidget::erase()</li><li> QWidget::erase(const <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a> &r)</li><li> QWidget::setBackgroundOrigin( BackgroundOrigin )</li><li> <a href="../../../com/trolltech/qt/gui/QWidget.BackgroundOrigin.html">QWidget::BackgroundOrigin</a> backgroundOrigin() const</li><li> QWidget::backgroundOffset()</li></ul> Sample code on how to do obtain similar behavior from Qt 4, previously handled by some of the above functions can be found in the Qt 3 Support Members for <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> page. <p>A widget now receives change events in its <a href="../../../com/trolltech/qt/gui/QWidget.html#changeEvent(com.trolltech.qt.core.QEvent)">QWidget::changeEvent()</a> handler. This makes the following virtual change handlers obsolete: <ul><li> QWidget::styleChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::StyleChange</a></li><li> QWidget::enabledChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::EnabledChange</a></li><li> QWidget::paletteChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::PaletteChange</a></li><li> QWidget::fontChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::FontChange</a></li><li> QWidget::windowActivationChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::ActivationChange</a></li><li> QWidget::languageChange - use <a href="../../../com/trolltech/qt/core/QEvent.Type.html">QEvent::LanguageChange</a></li></ul> The following functions were slots, but are no more: <ul><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#clearFocus()">QWidget::clearFocus()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#setMouseTracking(boolean)">QWidget::setMouseTracking()</a></li><li> QWidget::stackUnder(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>*)</li><li> QWidget::move(int x, int y)</li><li> QWidget::move(const <a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a> &)</li><li> QWidget::resize(int w, int h)</li><li> QWidget::resize(const <a href="../../../com/trolltech/qt/core/QSize.html">QSize</a> &)</li><li> QWidget::setGeometry(int x, int y, int w, int h)</li><li> QWidget::setGeometry(const <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a> &)</li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#adjustSize()">QWidget::adjustSize()</a></li><li> QWidget::update(int x, int y, int w, int h)</li><li> QWidget::update(const <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a>&)</li><li> QWidget::repaint(bool erase)</li><li> QWidget::repaint(int x, int y, int w, int h, bool erase)</li><li> QWidget::repaint(const <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a> &, bool erase)</li><li> QWidget::repaint(const <a href="../../../com/trolltech/qt/gui/QRegion.html">QRegion</a> &, bool erase)</li><li> QWidget::setCaption(const QString &)</li><li> QWidget::setIcon(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</li><li> QWidget::setIconText(const QString &)</li></ul> The following functions were incorrectly marked as virtual: <ul><li> QWidget::close(bool alsoDelete)</li><li> QWidget::create(WId, bool, bool)</li><li> QWidget::destroy(bool)</li><li> QWidget::move(int x, int y)</li><li> QWidget::reparent(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *parent, WFlags, const <a href="../../../com/trolltech/qt/core/QPoint.html">QPoint</a> &, bool)</li><li> QWidget::resize(int w, int h)</li><li> QWidget::setAcceptDrops(bool on)</li><li> QWidget::setActiveWindow()</li><li> QWidget::setAutoMask(bool)</li><li> QWidget::setBackgroundColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &)</li><li> QWidget::setBackgroundMode(BackgroundMode)</li><li> QWidget::setBackgroundOrigin(BackgroundOrigin)</li><li> QWidget::setBackgroundPixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</li><li> QWidget::setCaption(const QString &)</li><li> QWidget::setCursor(const <a href="../../../com/trolltech/qt/gui/QCursor.html">QCursor</a> &)</li><li> QWidget::setEnabled(bool)</li><li> QWidget::setEraseColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &)</li><li> QWidget::setErasePixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#setFocus()">QWidget::setFocus()</a></li><li> QWidget::setFocusPolicy(FocusPolicy)</li><li> QWidget::setFocusProxy(<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *)</li><li> QWidget::setFont(const <a href="../../../com/trolltech/qt/gui/QFont.html">QFont</a> &)</li><li> QWidget::setGeometry(const <a href="../../../com/trolltech/qt/core/QRect.html">QRect</a> &)</li><li> QWidget::setGeometry(int x, int y, int w, int h)</li><li> QWidget::setIcon(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</li><li> QWidget::setIconText(const QString &)</li><li> QWidget::setKeyCompression(bool)</li><li> QWidget::setMask(const <a href="../../../com/trolltech/qt/gui/QBitmap.html">QBitmap</a> &)</li><li> QWidget::setMask(const <a href="../../../com/trolltech/qt/gui/QRegion.html">QRegion</a> &)</li><li> QWidget::setMaximumSize(int maxw, int maxh)</li><li> QWidget::setMicroFocusHint(int x, int y, int w, int h, bool, <a href="../../../com/trolltech/qt/gui/QFont.html">QFont</a> *f)</li><li> QWidget::setMinimumSize(int minw, int minh)</li><li> QWidget::setMouseTracking(bool enable)</li><li> QWidget::setPalette(const <a href="../../../com/trolltech/qt/gui/QPalette.html">QPalette</a> &)</li><li> QWidget::setPaletteBackgroundColor(const <a href="../../../com/trolltech/qt/gui/QColor.html">QColor</a> &)</li><li> QWidget::setPaletteBackgroundPixmap(const <a href="../../../com/trolltech/qt/gui/QPixmap.html">QPixmap</a> &)</li><li> QWidget::setSizeIncrement(int w, int h)</li><li> QWidget::setSizePolicy(<a href="../../../com/trolltech/qt/gui/QSizePolicy.html">QSizePolicy</a>)</li><li> QWidget::setUpdatesEnabled(bool enable)</li><li> QWidget::setWState(uint)</li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#show()">QWidget::show()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#showFullScreen()">QWidget::showFullScreen()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#showMaximized()">QWidget::showMaximized()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#showMinimized()">QWidget::showMinimized()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#showNormal()">QWidget::showNormal()</a></li><li> <a href="../../../com/trolltech/qt/gui/QWidget.html#unsetCursor()">QWidget::unsetCursor()</a></li></ul> The internal clearWState() function was removed. Use <a href="../../../com/trolltech/qt/gui/QWidget.html#setAttribute(com.trolltech.qt.core.Qt.WidgetAttribute)">QWidget::setAttribute()</a> instead. <p>setWFlags() was renamed <a href="../../../com/trolltech/qt/gui/QWidget.html#setWindowFlags(com.trolltech.qt.core.Qt.WindowType[])">QWidget::setWindowFlags()</a>. <p>clearWFlags() has no direct replacement. You can use <a href="../../../com/trolltech/qt/gui/QWidget.html#setAttribute(com.trolltech.qt.core.Qt.WidgetAttribute)">QWidget::setAttribute()</a> instead. For example, <tt>setAttribute(..., false)</tt> to clear an attribute. More information is available here. <p>testWFlags() was renamed to <a href="../../../com/trolltech/qt/gui/QWidget.html#testAttribute(com.trolltech.qt.core.Qt.WidgetAttribute)">testAttribute()</a>. <p>See <a href="porting4.html#properties">Properties</a> for a list of <a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> properties in Qt 3 that have changed in Qt 4.<a name="qwidgetfactory"><h2>QWidgetFactory</h2> The <tt>QWidgetFactory</tt> class has been replaced by QFormBuilder in Qt 4.<a name="qwidgetintdict"><h2>QWidgetIntDict</h2> The <a href="porting4.html#qwidgetintdict">QWidgetIntDict</a> class was a synonym for QIntDict&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>&gt;. It is no longer available in Qt 4. If you link against <a href="qt3support.html">Qt3Support</a>, you can use Q3IntDict&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>&gt; instead; otherwise, see the <a href="porting4.html#qdict-section">section on QDict<T></a>.<a name="qwidgetlist-section"><a name="qwidgetlist"><h2>QWidgetList</h2> In Qt 3, the QWidgetList class was a typedef for QPtrList&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a>&gt;. In Qt 4, it is a typedef for QList&lt;<a href="../../../com/trolltech/qt/gui/QWidget.html">QWidget</a> *&gt;. See the <a href="porting4.html#qptrlist-section">section on QPtrList<T></a>.<a name="qwidgetplugin"><h2>QWidgetPlugin</h2> The <a href="porting4.html#qwidgetplugin">QWidgetPlugin</a> class is no longer available in Qt 4. To create custom widget plugins, subclass QDesignerCustomWidgetInterface to provide information about the custom widget, and build a plugin in the way described in the <a href="designer-customwidgetplugin.html">Custom Widget Plugin</a> example.<a name="qwidgetstack"><h2>QWidgetStack</h2> The <a href="porting4.html#qwidgetstack">QWidgetStack</a> class is no longer part of the Qt public API. It has been renamed Q3WidgetStack and moved to <a href="qt3support.html">Qt3Support</a>. In Qt 4 applications, you can use <a href="../../../com/trolltech/qt/gui/QStackedWidget.html">QStackedWidget</a> instead to obtain the same results.<a name="qwizard"><h2>QWizard</h2> The <tt>QWizard</tt> class was reintroduced in Qt 4.3. See the <a href="dialogs-trivialwizard.html">Trivial Wizard Example</a>, <a href="dialogs-licensewizard.html">License Wizard Example</a> and <a href="dialogs-classwizard.html">Class Wizard Example</a> for more details.<a name="qworkspace"><h2>QWorkspace</h2> The <tt>QWorkspace</tt> in Qt 4 class requires explicit adding of MDI windows with <a href="../../../com/trolltech/qt/gui/QWorkspace.html#addWindow(com.trolltech.qt.gui.QWidget, com.trolltech.qt.core.Qt.WindowType[])">QWorkspace::addWindow()</a>.<p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
