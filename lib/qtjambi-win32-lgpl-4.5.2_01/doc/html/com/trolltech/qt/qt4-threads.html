<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Thread Support in Qt 4</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Thread Support in Qt 4</h1></center><p>[Previous: <a href="qt4-styles.html">The Qt 4 Style API</a>][<a href="qt4-intro.html">What's New in Qt 4</a>]<p> Qt 4 makes it easier than ever to write multithreaded applications. More classes have been made usable from non-GUI threads, and the signals and slots mechanism can now be used to communicate between threads.<a name="general-overview"><h2>General Overview</h2> QThread now inherits <a href="../../../com/trolltech/qt/core/QObject.html">QObject</a>. It emits signals to indicate that the thread started or finished executing, and provides a few slots as well. <p>Each thread can now have its own event loop. The initial thread starts its event loops using <a href="../../../com/trolltech/qt/core/QCoreApplication.html#exec()">QCoreApplication::exec()</a>; other threads can start an event loop using QThread::exec(). Like <a href="../../../com/trolltech/qt/core/QCoreApplication.html">QCoreApplication</a>, QThread also provides an exit(int) function and a quit() slot. <p>An event loop in a thread makes it possible for the thread to use certain non-GUI Qt classes that require the presence of an event loop (such as <a href="../../../com/trolltech/qt/core/QTimer.html">QTimer</a>, <a href="../../../com/trolltech/qt/network/QTcpSocket.html">QTcpSocket</a>, and <a href="../../../com/trolltech/qt/core/QProcess.html">QProcess</a>). It also makes it possible to connect signals from any threads to slots of a specific thread. When a signal is emitted, the slot isn't called immediately; instead, it is invoked when control returns to the event loop of the thread to which the object belongs. The slot is executed in the thread where the receiver object lives. See QObject::connect() for details. <p>Qt 4 also introduces a new synchronization class: <a href="../../../com/trolltech/qt/core/QReadWriteLock.html">QReadWriteLock</a>. It is similar to <a href="../../../com/trolltech/qt/core/QMutex.html">QMutex</a>, except that it distinguishes between "read" and "write" access to shared data and allows multiple readers to access the data simultaneously. Using <a href="../../../com/trolltech/qt/core/QReadWriteLock.html">QReadWriteLock</a> instead of <a href="../../../com/trolltech/qt/core/QMutex.html">QMutex</a> when it is possible can make multithreaded programs more concurrent. <p>Since Qt 4, <a href="shared.html">implicitly shared</a> classes can safely be copied across threads, like any other value classes. They are fully reentrant. This is implemented using atomic reference counting operations, which are implemented in assembly language for the different platforms supported by Qt. Atomic reference counting is very fast, much faster than using a mutex. <p>See <a href="qtjambi-threads.html">Thread Support in Qt</a> for more information.<a name="comparison-with-qt-3"><h2>Comparison with Qt 3</h2> Earlier versions of Qt offered an option to build the library without thread support. In Qt 4, threads are always enabled. <p>Qt 3 had a class called <tt>QDeepCopy</tt> that you could use to take a deep copy of an implicitly shared object. In Qt 4, the atomic reference counting makes this class superfluous.<p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
