<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Qt Jambi Eclipse Integration</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Qt Jambi Eclipse Integration</h1></center><p> Qt Jambi comes with a plugin for the Eclipse IDE, providing access to the Qt Jambi documentation and Qt Designer from within the Eclipse environment. The integration is currently supported on Windows and Linux. <ul><li> <a href="#installation">Installation</a></li><li> <a href="#preferences">Preferences</a></li><li> <a href="#creating-qt-jambi-projects">Creating Qt Jambi Projects</a></li><li> <a href="#using-qt-designer-within-eclipse">Using Qt Designer within Eclipse</a></li> <ul><li> <a href="#creating-new-forms">Creating New Forms</a></li><li> <a href="#adding-custom-widgets">Adding Custom Widgets</a></li><li> <a href="#the-java-user-interface-compiler">The Java User Interface Compiler</a></li></ul><li> <a href="#adding-resources">Adding Resources</a></li></ul><a name="installation"><h2>Installation</h2> To install the Qt Jambi plugin, you need the Qt Jambi Eclipse Integration package. This is a <tt>.zip</tt> file for Windows and a <tt>.tar.gz</tt> file for Linux. They contain the Eclipse plugins required to run Qt Designer. <p>Unpack the package in the Eclipse root folder, and then run Eclipse with the <tt>-clean</tt> command line option (it is only required to do this once). <p>The Qt Jambi Integration requires Eclipse version 3.2 or higher and a <a href="qtjambi-installation.html">Qt Jambi binary package</a>. <p>Note that we have experienced problems on some KDE systems where GTK is set to use the same style as KDE. You will need to disable this option in order to use the Qt Jambi Eclipse Integration. On some distributions, the style can be changed by opening the <b>Settings</b> menu, selecting the <b>Appearance</b> submenu, move on to <b>GTK styles and fonts</b>, and finally select <b>Use another style</b>.<a name="preferences"><h2>Preferences</h2> Before you can start using the Qt Jambi plugin, you must specify the location of your Qt Jambi installation: Open the Qt Jambi section in <b>Preferences</b>, and hit the <b>Browse</b> button in order to locate the folder containing the installation. When you have located the correct directory, hit the <b>Validate</b> button to check that Qt Jambi has been installed properly. After setting the location of Qt Jambi, you may have to restart Eclipse in order for the Jambi plugins to be loaded properly. <br><center><img src="images/eclipse-settings.png"></center><br> The plugin will automatically generate Java classes for forms edited with Qt Designer. By default, the generated files will be located in a separate source folder in your project. Use the Qt Jambi preferences to alter this location. <p>Note that the same preferences can be set on a per-project basis: Just select <b>Properties</b> for your project and find the Qt Jambi page. Using the project properties, you may also disable and enable the Juic Builder, the tool generating the Java classes from the Qt Designer forms.<a name="creating-qt-jambi-projects"><h2>Creating Qt Jambi Projects</h2> To create a new Qt Jambi project, you simply select <b>New Project</b> in the <b>File</b> menu. Then select the <b>Qt Jambi Project (Using Designer Form)</b> option from the Qt Jambi folder and click the <b>Next</b> button. If you want to create a without a designer form, you can select <b>Qt Jambi Project</b>. <p>This will open a wizard guiding you through the steps of creating a new Qt Jambi project. Most of these are identical to the steps you take to create ordinary Java projects. Then, in the end, you will be asked for the name and package of the main class in your application, and for the layout of the application's main window. <br><center><img src="images/eclipse-select-template.png"></center><br> When you have entered this information, click the <b>Finish</b> button to add the project to your workspace. Provided that you have set the correct path to your Qt Jambi installation (see the previous section for details), the project will have the correct build path settings for using the Qt Jambi classes and for running your application from within the Eclipse environment.<a name="using-qt-designer-within-eclipse"><h2>Using Qt Designer within Eclipse</h2> By default, Qt Designer's property editor and widget box are not shown within the Eclipse environment, i.e., they must be explicitly enabled by the user. This can be done by selecting <b>Show View</b> from the <b>Windows</b> menu and <b>Other</b> from the entry's submenu. <br><center><img src="images/eclipse-window-others.png"></center><br> Then a dialog box where it is possible to select and enable the different Qt Designer components, will appear. <br><center><img src="images/eclipse-window-show-view.png"></center><br> For your convenience, the Qt Jambi plugin also comes with a user interface perspective, which opens the Qt Designer views for you: Select the <b>Open Perspective</b> entry in the <b>Window</b> menu. Then select the <b>Qt Designer UI</b> perspective from the <b>Other...</b> entry's submenu.<a name="creating-new-forms"><h3>Creating New Forms</h3> To create a new <tt>.jui</tt> file with Qt Designer go into the <b>File</b> menu and select <b>New</b> and then <b>Other</b>, as shown in the screenshot below. <br><center><img src="images/eclipse-file-new.png"></center><br> This will pop up a dialog allowing you to select a wizard: <br><center><img src="images/eclipse-form-wizard.png"></center><br> Choose the <b>Qt Designer Form</b> from the <b>Qt Jambi</b> directory and click <b>Next</b>. This will bring up a dialog box to query for the file name and location as shown in the screenshot below: <br><center><img src="images/eclipse-create-form.png"></center><br><a name="adding-custom-widgets"><h3>Adding Custom Widgets</h3> In addition to the many standard widgets found in the Qt Designer widget box, you can also add your own custom widgets and use them in your application. <p>The first step is to add a <tt>QWidget</tt> subclass to your project. In addition, it is required that custom widgets have a constructor that takes a single <tt>QWidget</tt> argument as its parent. <p>After the widget has been created, open the properties of your project and select the <b>Qt Designer Plugins</b> page. This page will list the candidates for custom widgets in your project, and the list will indicate whether the widget meets the criteria for being a custom widget. In order to become a custom widget the class has to be a subclass of <tt>QWidget</tt> and it needs to have a constructor that takes a <tt>QWidget</tt> argument. <br><center><img src="images/eclipse-custom-widget-add.png"></center><br> In the above example, we are adding the <tt>customwidgets.MyOwnCustomWidget</tt> widget to the widget box. The widget is part of the project and contains a layout with a <a href="../../../com/trolltech/qt/gui/QLabel.html">QLabel</a>, which contains the text "Hello World". <p>When you have added a custom widget to a project, it will show up in the widget box under a heading with the same name as the project. The widget box will only contain custom widgets for the current project (i.e., the project to which the .jui file that is edited belongs). <br><center><img src="images/eclipse-custom-widget-select.png"></center><br> To use the custom widget, click and drag into your form like any other. <br><center><img src="images/eclipse-custom-widget.png"></center><br> Note that to avoid problems, you should always remove a widget from the custom widgets before deleting it from a project. If you change the widget's code after it has been added to a project, the widget might not be immediately updated in designer; you may have to restart Eclipse for the changes to be visible in the editor.<a name="the-java-user-interface-compiler"><h3>The Java User Interface Compiler</h3> Qt Jambi comes with a Java user interface compiler (JUIC), a tool that produces Qt Jambi source code from user interface definition files (<tt>.jui</tt> files). JUIC is integrated into the Eclipse IDE as a custom build tool that will update all source files whenever the <tt>.jui</tt> files are changed (note that it is executed prior to the Eclipse built-in incremental builder which means that all source code is guaranteed to be up to date after a editing a form in Qt Designer).<a name="adding-resources"><h2>Adding Resources</h2> Qt Jambi provides a uniform syntax for accessing resources in the Java classpath, no matter whether they are located directly on the disk or in a JAR bundle. Resources are identified by a <tt>classpath</tt>: prefix. <br><center><img src="images/eclipse-resource-editor.png"></center><br> If you have set the correct path to Qt Jambi in your preferences, the resource editor will be populated with images collected from the source folders of your project. You can add search paths by right clicking in the editor and selecting <b>Edit Search Path</b> entry in the context menu. <p>When you, for example, want to put an image onto a label or a button, you will be able to select it from the resource editor. Provided that the classpath contains the folder in which the image was found, the correct path and prefix will be set automatically in the generated file.<p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
