<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Code for Styles Example</title><link href="classic.css" rel="stylesheet" type="text/css" />
</head><table border="0" cellpadding="0" cellspacing="0" width="100%">
 <tr>
 <td align="left" valign="top" width="32"> <img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /> </td>
 <td width="1">&nbsp;&nbsp;</td> <td class="postheader" valign="center"> <a href="qtjambi-index.html"> <font color="#004faf">Home</font></a>&nbsp;&middot; <a href="qtjambi-examples.html"> <font color="#004faf">Examples</font></a>&nbsp; </td>
 </tr></table><body><p><hr><p><center><h1>Code for Styles Example</h1></center><p><pre class="snippet"><html style="white-space:pre-wrap;font-family:courier new"><font color=darkgreen><i>/****************************************************************************
**
** Copyright (C) 1992-2009 Nokia Corporation and/or its subsidiary(-ies).
** All rights reserved.
**
** This file is part of Qt Jambi.
**
** 
** Commercial Usage
** Licensees holding valid Qt Commercial licenses may use this file in
** accordance with the Qt Commercial License Agreement provided with the
** Software or, alternatively, in accordance with the terms contained in
** a written agreement between you and Nokia.
** 
** GNU Lesser General Public License Usage
** Alternatively, this file may be used under the terms of the GNU Lesser
** General Public License version 2.1 as published by the Free Software
** Foundation and appearing in the file LICENSE.LGPL included in the
** packaging of this file.  Please review the following information to
** ensure the GNU Lesser General Public License version 2.1 requirements
** will be met: http:<font color=darkgreen><i>//www.gnu.org/licenses/old-licenses/lgpl-2.1.html.
</i></font>** 
** In addition, as a special exception, Nokia gives you certain
** additional rights. These rights are described in the Nokia Qt LGPL
** Exception version 1.0, included in the file LGPL_EXCEPTION.txt in this
** package.
** 
** GNU General Public License Usage
** Alternatively, this file may be used under the terms of the GNU
** General Public License version 3.0 as published by the Free Software
** Foundation and appearing in the file LICENSE.GPL included in the
** packaging of this file.  Please review the following information to
** ensure the GNU General Public License version 3.0 requirements will be
** met: http:<font color=darkgreen><i>//www.gnu.org/copyleft/gpl.html.
</i></font>** 
** If you are unsure which license is appropriate for your use, please
** contact the sales department at qt-sales@nokia.com.
**
** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE
** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
**
****************************************************************************/</i></font>

<font color=blue>package</font> com.trolltech.examples;

<font color=blue>import</font> com.trolltech.qt.core.*;
<font color=blue>import</font> com.trolltech.qt.gui.*;

@<font color=darkmagenta><i>QtJambiExample</i></font>(name = <font color=darkgreen><i>"Styles"</i></font>)
<font color=blue>public</font> <font color=blue>class</font> Styles <font color=blue>extends</font> <font color=darkmagenta><i>QDialog</i></font>
{
    <font color=blue>private</font> <font color=darkmagenta><i>QPalette</i></font> originalPalette;

    <font color=blue>private</font> <font color=darkmagenta><i>QLabel</i></font> styleLabel;
    <font color=blue>private</font> <font color=darkmagenta><i>QComboBox</i></font> styleComboBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QCheckBox</i></font> useStylePaletteCheckBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QCheckBox</i></font> disableWidgetsCheckBox;

    <font color=blue>private</font> <font color=darkmagenta><i>QGroupBox</i></font> topLeftGroupBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QRadioButton</i></font> radioButton1;
    <font color=blue>private</font> <font color=darkmagenta><i>QRadioButton</i></font> radioButton2;
    <font color=blue>private</font> <font color=darkmagenta><i>QRadioButton</i></font> radioButton3;
    <font color=blue>private</font> <font color=darkmagenta><i>QCheckBox</i></font> checkBox;

    <font color=blue>private</font> <font color=darkmagenta><i>QGroupBox</i></font> topRightGroupBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QPushButton</i></font> defaultPushButton;
    <font color=blue>private</font> <font color=darkmagenta><i>QPushButton</i></font> togglePushButton;
    <font color=blue>private</font> <font color=darkmagenta><i>QPushButton</i></font> flatPushButton;

    <font color=blue>private</font> <font color=darkmagenta><i>QTabWidget</i></font> bottomLeftTabWidget;
    <font color=blue>private</font> <font color=darkmagenta><i>QTableWidget</i></font> tableWidget;
    <font color=blue>private</font> <font color=darkmagenta><i>QTextEdit</i></font> textEdit;

    <font color=blue>private</font> <font color=darkmagenta><i>QGroupBox</i></font> bottomRightGroupBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QLineEdit</i></font> lineEdit;
    <font color=blue>private</font> <font color=darkmagenta><i>QSpinBox</i></font> spinBox;
    <font color=blue>private</font> <font color=darkmagenta><i>QDateTimeEdit</i></font> dateTimeEdit;
    <font color=blue>private</font> <font color=darkmagenta><i>QSlider</i></font> slider;
    <font color=blue>private</font> <font color=darkmagenta><i>QScrollBar</i></font> scrollBar;
    <font color=blue>private</font> <font color=darkmagenta><i>QDial</i></font> dial;

    <font color=blue>private</font> <font color=darkmagenta><i>QProgressBar</i></font> progressBar;

    <font color=blue>public</font> Styles()
    {
        originalPalette = <font color=darkmagenta><i>QApplication</i></font>.palette();

        styleComboBox = <font color=blue>new</font> <font color=darkmagenta><i>QComboBox</i></font>();
        styleComboBox.addItem(<font color=darkgreen><i>"NorwegianWood"</i></font>);
        styleComboBox.addItems(<font color=darkmagenta><i>QStyleFactory</i></font>.keys());

        styleLabel = <font color=blue>new</font> <font color=darkmagenta><i>QLabel</i></font>(tr(<font color=darkgreen><i>"&Style:"</i></font>));
        styleLabel.setBuddy(styleComboBox);

        useStylePaletteCheckBox = <font color=blue>new</font> <font color=darkmagenta><i>QCheckBox</i></font>(tr(<font color=darkgreen><i>"&Use style's standard palette"</i></font>));
        useStylePaletteCheckBox.setChecked(true);

        disableWidgetsCheckBox = <font color=blue>new</font> <font color=darkmagenta><i>QCheckBox</i></font>(tr(<font color=darkgreen><i>"&Disable widgets"</i></font>));

        createTopLeftGroupBox();
        createTopRightGroupBox();
        createBottomLeftTabWidget();
        createBottomRightGroupBox();
        createProgressBar();

        styleComboBox.activated.connect(<font color=blue>this</font>, <font color=darkgreen><i>"changeStyle(String)"</i></font>);
        useStylePaletteCheckBox.toggled.connect(<font color=blue>this</font>, <font color=darkgreen><i>"changePalette()"</i></font>);
        disableWidgetsCheckBox.toggled.connect(topLeftGroupBox, <font color=darkgreen><i>"setDisabled(boolean)"</i></font>);
        disableWidgetsCheckBox.toggled.connect(topRightGroupBox, <font color=darkgreen><i>"setDisabled(boolean)"</i></font>);
        disableWidgetsCheckBox.toggled.connect(bottomLeftTabWidget, <font color=darkgreen><i>"setDisabled(boolean)"</i></font>);
        disableWidgetsCheckBox.toggled.connect(bottomRightGroupBox, <font color=darkgreen><i>"setDisabled(boolean)"</i></font>);

        <font color=darkmagenta><i>QHBoxLayout</i></font> topLayout = <font color=blue>new</font> <font color=darkmagenta><i>QHBoxLayout</i></font>();
        topLayout.addWidget(styleLabel);
        topLayout.addWidget(styleComboBox);
        topLayout.addStretch(1);
        topLayout.addWidget(useStylePaletteCheckBox);
        topLayout.addWidget(disableWidgetsCheckBox);

        <font color=darkmagenta><i>QGridLayout</i></font> mainLayout = <font color=blue>new</font> <font color=darkmagenta><i>QGridLayout</i></font>();
        mainLayout.addLayout(topLayout, 0, 0, 1, 2);
        mainLayout.addWidget(topLeftGroupBox, 1, 0);
        mainLayout.addWidget(topRightGroupBox, 1, 1);
        mainLayout.addWidget(bottomLeftTabWidget, 2, 0);
        mainLayout.addWidget(bottomRightGroupBox, 2, 1);
        mainLayout.addWidget(progressBar, 3, 0, 1, 2);
        mainLayout.setRowStretch(1, 1);
        mainLayout.setRowStretch(2, 1);
        mainLayout.setColumnStretch(0, 1);
        mainLayout.setColumnStretch(1, 1);
        setLayout(mainLayout);

        setWindowTitle(tr(<font color=darkgreen><i>"Styles"</i></font>));
        changeStyle(<font color=darkgreen><i>"NorwegianWood"</i></font>);
    }

    <font color=blue>public</font> <font color=blue>void</font> changeStyle(String styleName)
    {
        <font color=blue>if</font> (styleName.equals(<font color=darkgreen><i>"NorwegianWood"</i></font>)) {
            <font color=darkmagenta><i>QApplication</i></font>.setStyle(<font color=blue>new</font> NorwegianWoodStyle());
        } <font color=blue>else</font> {
            <font color=darkmagenta><i>QApplication</i></font>.setStyle(<font color=darkmagenta><i>QStyleFactory</i></font>.create(styleName));
        }
        changePalette();
    }

    <font color=blue>public</font> <font color=blue>void</font> changePalette()
    {
        <font color=blue>if</font> (useStylePaletteCheckBox.isChecked())
            <font color=darkmagenta><i>QApplication</i></font>.setPalette(<font color=darkmagenta><i>QApplication</i></font>.style().standardPalette());
        <font color=blue>else</font>
            <font color=darkmagenta><i>QApplication</i></font>.setPalette(originalPalette);
    }

    <font color=blue>public</font> <font color=blue>void</font> advanceProgressBar()
    {
        <font color=blue>int</font> curVal = progressBar.value();
        <font color=blue>int</font> maxVal = progressBar.maximum();
        progressBar.setValue(curVal + (maxVal - curVal) / 100);
    }

    <font color=blue>public</font> <font color=blue>void</font> createTopLeftGroupBox()
    {
        topLeftGroupBox = <font color=blue>new</font> <font color=darkmagenta><i>QGroupBox</i></font>(tr(<font color=darkgreen><i>"Group 1"</i></font>));

        radioButton1 = <font color=blue>new</font> <font color=darkmagenta><i>QRadioButton</i></font>(tr(<font color=darkgreen><i>"Radio button 1"</i></font>));
        radioButton2 = <font color=blue>new</font> <font color=darkmagenta><i>QRadioButton</i></font>(tr(<font color=darkgreen><i>"Radio button 2"</i></font>));
        radioButton3 = <font color=blue>new</font> <font color=darkmagenta><i>QRadioButton</i></font>(tr(<font color=darkgreen><i>"Radio button 3"</i></font>));
        radioButton1.setChecked(true);

        checkBox = <font color=blue>new</font> <font color=darkmagenta><i>QCheckBox</i></font>(tr(<font color=darkgreen><i>"Tri-state check box"</i></font>));
        checkBox.setTristate(true);
        checkBox.setCheckState(<font color=darkmagenta><i>Qt</i></font>.CheckState.PartiallyChecked);

        <font color=darkmagenta><i>QVBoxLayout</i></font> layout = <font color=blue>new</font> <font color=darkmagenta><i>QVBoxLayout</i></font>();
        layout.addWidget(radioButton1);
        layout.addWidget(radioButton2);
        layout.addWidget(radioButton3);
        layout.addWidget(checkBox);
        layout.addStretch(1);
        topLeftGroupBox.setLayout(layout);
    }

    <font color=blue>private</font> <font color=blue>void</font> createTopRightGroupBox()
    {
        topRightGroupBox = <font color=blue>new</font> <font color=darkmagenta><i>QGroupBox</i></font>(tr(<font color=darkgreen><i>"Group 2"</i></font>));

        defaultPushButton = <font color=blue>new</font> <font color=darkmagenta><i>QPushButton</i></font>(tr(<font color=darkgreen><i>"Default Push Button"</i></font>));
        defaultPushButton.setDefault(true);

        togglePushButton = <font color=blue>new</font> <font color=darkmagenta><i>QPushButton</i></font>(tr(<font color=darkgreen><i>"Toggle Push Button"</i></font>));
        togglePushButton.setCheckable(true);
        togglePushButton.setChecked(true);

        flatPushButton = <font color=blue>new</font> <font color=darkmagenta><i>QPushButton</i></font>(tr(<font color=darkgreen><i>"Flat Push Button"</i></font>));
        flatPushButton.setFlat(true);

        <font color=darkmagenta><i>QVBoxLayout</i></font> layout = <font color=blue>new</font> <font color=darkmagenta><i>QVBoxLayout</i></font>();
        layout.addWidget(defaultPushButton);
        layout.addWidget(togglePushButton);
        layout.addWidget(flatPushButton);
        layout.addStretch(1);
        topRightGroupBox.setLayout(layout);
    }

    <font color=blue>private</font> <font color=blue>void</font> createBottomLeftTabWidget()
    {
        bottomLeftTabWidget = <font color=blue>new</font> <font color=darkmagenta><i>QTabWidget</i></font>();
        bottomLeftTabWidget.setSizePolicy(<font color=darkmagenta><i>QSizePolicy</i></font>.Policy.Preferred,
                                           <font color=darkmagenta><i>QSizePolicy</i></font>.Policy.Ignored);

        <font color=darkmagenta><i>QWidget</i></font> tab1 = <font color=blue>new</font> <font color=darkmagenta><i>QWidget</i></font>();
        tableWidget = <font color=blue>new</font> <font color=darkmagenta><i>QTableWidget</i></font>(10, 10);

        <font color=darkmagenta><i>QHBoxLayout</i></font> tab1hbox = <font color=blue>new</font> <font color=darkmagenta><i>QHBoxLayout</i></font>();
        tab1hbox.setMargin(5);
        tab1hbox.addWidget(tableWidget);
        tab1.setLayout(tab1hbox);

        <font color=darkmagenta><i>QWidget</i></font> tab2 = <font color=blue>new</font> <font color=darkmagenta><i>QWidget</i></font>();
        textEdit = <font color=blue>new</font> <font color=darkmagenta><i>QTextEdit</i></font>();

        textEdit.setPlainText(tr(<font color=darkgreen><i>"Twinkle, twinkle, little star,\n"</i></font> +
                                  <font color=darkgreen><i>"How I wonder what you are.\n"</i></font> +
                                  <font color=darkgreen><i>"Up above the world so high,\n"</i></font> +
                                  <font color=darkgreen><i>"Like a diamond in the sky.\n"</i></font> +
                                  <font color=darkgreen><i>"Twinkle, twinkle, little star,\n"</i></font> +
                                  <font color=darkgreen><i>"How I wonder what you are!\n"</i></font>));

        <font color=darkmagenta><i>QHBoxLayout</i></font> tab2hbox = <font color=blue>new</font> <font color=darkmagenta><i>QHBoxLayout</i></font>();
        tab2hbox.setMargin(5);
        tab2hbox.addWidget(textEdit);
        tab2.setLayout(tab2hbox);

        bottomLeftTabWidget.addTab(tab1, tr(<font color=darkgreen><i>"&Table"</i></font>));
        bottomLeftTabWidget.addTab(tab2, tr(<font color=darkgreen><i>"Text &Edit"</i></font>));
    }

    <font color=blue>private</font> <font color=blue>void</font> createBottomRightGroupBox()
    {
        bottomRightGroupBox = <font color=blue>new</font> <font color=darkmagenta><i>QGroupBox</i></font>(tr(<font color=darkgreen><i>"Group 3"</i></font>));
        bottomRightGroupBox.setCheckable(true);
        bottomRightGroupBox.setChecked(true);

        lineEdit = <font color=blue>new</font> <font color=darkmagenta><i>QLineEdit</i></font>(<font color=darkgreen><i>"s3cRe7"</i></font>);
        lineEdit.setEchoMode(<font color=darkmagenta><i>QLineEdit</i></font>.EchoMode.Password);

        spinBox = <font color=blue>new</font> <font color=darkmagenta><i>QSpinBox</i></font>(bottomRightGroupBox);
        spinBox.setValue(50);

        dateTimeEdit = <font color=blue>new</font> <font color=darkmagenta><i>QDateTimeEdit</i></font>(bottomRightGroupBox);
        dateTimeEdit.setDateTime(<font color=darkmagenta><i>QDateTime</i></font>.currentDateTime());

        slider = <font color=blue>new</font> <font color=darkmagenta><i>QSlider</i></font>(<font color=darkmagenta><i>Qt</i></font>.Orientation.Horizontal, bottomRightGroupBox);
        slider.setValue(40);

        scrollBar = <font color=blue>new</font> <font color=darkmagenta><i>QScrollBar</i></font>(<font color=darkmagenta><i>Qt</i></font>.Orientation.Horizontal, bottomRightGroupBox);
        scrollBar.setValue(60);

        dial = <font color=blue>new</font> <font color=darkmagenta><i>QDial</i></font>(bottomRightGroupBox);
        dial.setValue(30);
        dial.setNotchesVisible(true);

        <font color=darkmagenta><i>QGridLayout</i></font> layout = <font color=blue>new</font> <font color=darkmagenta><i>QGridLayout</i></font>();
        layout.addWidget(lineEdit, 0, 0, 1, 2);
        layout.addWidget(spinBox, 1, 0, 1, 2);
        layout.addWidget(dateTimeEdit, 2, 0, 1, 2);
        layout.addWidget(slider, 3, 0);
        layout.addWidget(scrollBar, 4, 0);
        layout.addWidget(dial, 3, 1, 2, 1);
        layout.setRowStretch(5, 1);
        bottomRightGroupBox.setLayout(layout);
    }

    <font color=blue>private</font> <font color=blue>void</font> createProgressBar()
    {
        progressBar = <font color=blue>new</font> <font color=darkmagenta><i>QProgressBar</i></font>();
        progressBar.setRange(0, 10000);
        progressBar.setValue(0);

        <font color=darkmagenta><i>QTimer</i></font> timer = <font color=blue>new</font> <font color=darkmagenta><i>QTimer</i></font>(<font color=blue>this</font>);
        timer.timeout.connect(<font color=blue>this</font>, <font color=darkgreen><i>"advanceProgressBar()"</i></font>);
        timer.start(1000);
    }

    <font color=blue>class</font> NorwegianWoodStyle <font color=blue>extends</font> <font color=darkmagenta><i>QMotifStyle</i></font>
    {
        @Override
        <font color=blue>public</font> <font color=blue>void</font> polish(<font color=darkmagenta><i>QPalette</i></font> palette)
        {
            <font color=darkmagenta><i>QColor</i></font> beige = <font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(236, 182, 120);
            <font color=darkmagenta><i>QColor</i></font> slightlyOpaqueBlack = <font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(0, 0, 0, 63);

            <font color=darkmagenta><i>QPixmap</i></font> backgroundImage = <font color=blue>new</font> <font color=darkmagenta><i>QPixmap</i></font>(<font color=darkgreen><i>"classpath:com/trolltech/examples/images/woodbackground.png"</i></font>);
            <font color=darkmagenta><i>QPixmap</i></font> buttonImage = <font color=blue>new</font> <font color=darkmagenta><i>QPixmap</i></font>(<font color=darkgreen><i>"classpath:com/trolltech/examples/images/woodbutton.png"</i></font>);

            <font color=darkmagenta><i>QPixmap</i></font> midImage = <font color=blue>new</font> <font color=darkmagenta><i>QPixmap</i></font>(buttonImage);

            <font color=darkmagenta><i>QPainter</i></font> painter = <font color=blue>new</font> <font color=darkmagenta><i>QPainter</i></font>();
            painter.begin(midImage);
            painter.setPen(<font color=darkmagenta><i>Qt</i></font>.PenStyle.NoPen);
            painter.fillRect(midImage.rect(), <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(slightlyOpaqueBlack));
            painter.end();

            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorRole.BrightText, <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(<font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(<font color=darkmagenta><i>Qt</i></font>.GlobalColor.white)));
            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorRole.Base, <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(beige));
            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorRole.Highlight, <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(<font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(<font color=darkmagenta><i>Qt</i></font>.GlobalColor.darkGreen)));
            setTexture(palette, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Button, buttonImage);
            setTexture(palette, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Mid, midImage);
            setTexture(palette, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Window, backgroundImage);

            <font color=darkmagenta><i>QBrush</i></font> brush = palette.window();
            brush.setColor(brush.color().darker());

            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorGroup.Disabled, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Base, brush);
            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorGroup.Disabled, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Button, brush);
            palette.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorGroup.Disabled, <font color=darkmagenta><i>QPalette</i></font>.ColorRole.Mid, brush);
        }

        @Override
        <font color=blue>public</font> <font color=blue>void</font> polish(<font color=darkmagenta><i>QWidget</i></font> widget)
        {
            <font color=blue>if</font> (widget <font color=blue>instanceof</font> <font color=darkmagenta><i>QPushButton</i></font>
                || widget <font color=blue>instanceof</font> <font color=darkmagenta><i>QComboBox</i></font>)
                widget.setAttribute(<font color=darkmagenta><i>Qt</i></font>.WidgetAttribute.WA_Hover, true);
        }

        @Override
        <font color=blue>public</font> <font color=blue>void</font> unpolish(<font color=darkmagenta><i>QWidget</i></font> widget)
        {
            <font color=blue>if</font> (widget <font color=blue>instanceof</font> <font color=darkmagenta><i>QPushButton</i></font>
                || widget <font color=blue>instanceof</font> <font color=darkmagenta><i>QComboBox</i></font>)
                widget.setAttribute(<font color=darkmagenta><i>Qt</i></font>.WidgetAttribute.WA_Hover, false);
        }

        @Override
        <font color=blue>public</font> <font color=blue>int</font> pixelMetric(PixelMetric metric, <font color=darkmagenta><i>QStyleOption</i></font> option,
                               <font color=darkmagenta><i>QWidget</i></font> widget)
        {
            <font color=blue>switch</font> (metric) {
                <font color=blue>case</font> PM_ComboBoxFrameWidth:
                    <font color=blue>return</font> 8;
                <font color=blue>case</font> PM_ScrollBarExtent:
                    <font color=blue>return</font> <font color=blue>super</font>.pixelMetric(metric, option, widget) + 4;
                <font color=blue>default</font>:
                    <font color=blue>return</font> <font color=blue>super</font>.pixelMetric(metric, option, widget);
            }
        }

        @Override
        <font color=blue>public</font> <font color=blue>int</font> styleHint(StyleHint hint, <font color=darkmagenta><i>QStyleOption</i></font> option, <font color=darkmagenta><i>QWidget</i></font> widget,
                             <font color=darkmagenta><i>QStyleHintReturn</i></font> returnData)
        {
            <font color=blue>switch</font> (hint) {
                <font color=blue>case</font> SH_DitherDisabledText:
                    <font color=blue>return</font> 0;
                <font color=blue>case</font> SH_EtchDisabledText:
                    <font color=blue>return</font> 0;
                <font color=blue>default</font>:
                    <font color=blue>return</font> <font color=blue>super</font>.styleHint(hint, option, widget, returnData);
            }
        }

        @Override
        <font color=blue>public</font> <font color=blue>void</font> drawPrimitive(<font color=darkmagenta><i>QStyle</i></font>.PrimitiveElement element, <font color=darkmagenta><i>QStyleOption</i></font> option,
                                  <font color=darkmagenta><i>QPainter</i></font> painter, <font color=darkmagenta><i>QWidget</i></font> widget)
        {
            <font color=blue>switch</font> (element) {
                <font color=blue>case</font> PE_PanelButtonCommand:
                    <font color=blue>int</font> delta = option.state().isSet(StateFlag.State_MouseOver) ? 64 : 0;
                    <font color=darkmagenta><i>QColor</i></font> slightlyOpaqueBlack = <font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(0, 0, 0, 63);
                    <font color=darkmagenta><i>QColor</i></font> semiTransparentWhite = <font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(255, 255, 255, 127 + delta);
                    <font color=darkmagenta><i>QColor</i></font> semiTransparentBlack = <font color=blue>new</font> <font color=darkmagenta><i>QColor</i></font>(0, 0, 0, 127 - delta);

                    <font color=blue>int</font> x, y, width, height;
                    x = option.rect().x();
                    y = option.rect().y();
                    width = option.rect().width();
                    height = option.rect().height();

                    <font color=darkmagenta><i>QPainterPath</i></font> roundRect = roundRectPath(option.rect());
                    <font color=blue>int</font> radius = Math.min(width, height) / 2;

                    <font color=darkmagenta><i>QBrush</i></font> brush;
                    <font color=blue>boolean</font> darker;

                    <font color=blue>if</font> (option <font color=blue>instanceof</font> <font color=darkmagenta><i>QStyleOptionButton</i></font> &&
                        ((<font color=darkmagenta><i>QStyleOptionButton</i></font>) option).features().isSet(<font color=darkmagenta><i>QStyleOptionButton</i></font>.ButtonFeature.Flat)) {
                        brush = option.palette().brush(<font color=darkmagenta><i>QPalette</i></font>.ColorRole.Window);
                        darker = option.state().isSet(StateFlag.State_Sunken) || option.state().isSet(StateFlag.State_On);
                    } <font color=blue>else</font> {
                        <font color=blue>if</font> (option.state().isSet(StateFlag.State_Sunken) || option.state().isSet(StateFlag.State_On)) {
                            brush = option.palette().mid();
                            darker = !option.state().isSet(StateFlag.State_Sunken);
                        } <font color=blue>else</font> {
                            brush = option.palette().button();
                            darker = false;
                        }
                    }
                    painter.save();
                    painter.setRenderHint(<font color=darkmagenta><i>QPainter</i></font>.RenderHint.Antialiasing, true);
                    painter.fillPath(roundRect, brush);
                    <font color=blue>if</font> (darker)
                        painter.fillPath(roundRect, <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(slightlyOpaqueBlack));

                    <font color=blue>int</font> penWidth;
                    <font color=blue>if</font> (radius &lt; 10)
                        penWidth = 3;
                    <font color=blue>else</font> <font color=blue>if</font> (radius &lt; 20)
                        penWidth = 5;
                    <font color=blue>else</font>
                        penWidth = 7;

                    <font color=darkmagenta><i>QPen</i></font> topPen = <font color=blue>new</font> <font color=darkmagenta><i>QPen</i></font>(semiTransparentWhite, penWidth);
                    <font color=darkmagenta><i>QPen</i></font> bottomPen = <font color=blue>new</font> <font color=darkmagenta><i>QPen</i></font>(semiTransparentBlack, penWidth);

                    <font color=blue>if</font> (option.state().isSet(StateFlag.State_Sunken) ||
                        option.state().isSet(StateFlag.State_On)) {
                        <font color=darkmagenta><i>QPen</i></font> tmpPen = topPen;
                        topPen = bottomPen;
                        bottomPen = tmpPen;
                    }

                    <font color=blue>int</font> x1 = x;
                    <font color=blue>int</font> x2 = x + radius;
                    <font color=blue>int</font> x3 = x + width - radius;
                    <font color=blue>int</font> x4 = x + width;

                    <font color=blue>if</font> (option.direction().equals(<font color=darkmagenta><i>Qt</i></font>.LayoutDirection.RightToLeft)) {
                        <font color=blue>int</font> tmp;

                        tmp = x1;
                        x1 = x4;
                        x4 = tmp;
                        tmp = x2;
                        x3 = x2;
                        x2 = tmp;
                    }

                    <font color=darkmagenta><i>QPolygon</i></font> topHalf = <font color=blue>new</font> <font color=darkmagenta><i>QPolygon</i></font>();
                    topHalf.add(<font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x1, y));
                    topHalf.add(<font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x4, y));
                    topHalf.add(<font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x3, y + radius));
                    topHalf.add(<font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x2, y + height - radius));
                    topHalf.add(<font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x1, y + height));

                    painter.setClipPath(roundRect);
                    painter.setClipRegion(<font color=blue>new</font> <font color=darkmagenta><i>QRegion</i></font>(topHalf), <font color=darkmagenta><i>Qt</i></font>.ClipOperation.IntersectClip);
                    painter.setPen(topPen);
                    painter.drawPath(roundRect);

                    <font color=darkmagenta><i>QPolygon</i></font> bottomHalf = <font color=blue>new</font> <font color=darkmagenta><i>QPolygon</i></font>(topHalf);
                    bottomHalf.replace(0, <font color=blue>new</font> <font color=darkmagenta><i>QPoint</i></font>(x4, y + height));
                    painter.setClipPath(roundRect);
                    painter.setClipRegion(<font color=blue>new</font> <font color=darkmagenta><i>QRegion</i></font>(bottomHalf), <font color=darkmagenta><i>Qt</i></font>.ClipOperation.IntersectClip);
                    painter.setPen(bottomPen);
                    painter.drawPath(roundRect);

                    painter.setPen(option.palette().windowText().color());
                    painter.setClipping(false);
                    painter.drawPath(roundRect);

                    painter.restore();
                <font color=blue>break</font>;
                <font color=blue>default</font>:
                    <font color=blue>super</font>.drawPrimitive(element, option, painter, widget);
            }
        }

        @Override
        <font color=blue>public</font> <font color=blue>void</font> drawControl(ControlElement element, <font color=darkmagenta><i>QStyleOption</i></font> option,
                                <font color=darkmagenta><i>QPainter</i></font> painter, <font color=darkmagenta><i>QWidget</i></font> widget)
        {
            <font color=blue>switch</font> (element) {
            <font color=blue>case</font> CE_PushButtonLabel:
                    <font color=darkmagenta><i>QStyleOptionButton</i></font> myButtonOption = (<font color=darkmagenta><i>QStyleOptionButton</i></font>) option;

                    <font color=blue>if</font> (option <font color=blue>instanceof</font> <font color=darkmagenta><i>QStyleOptionButton</i></font>) {
                        <font color=blue>if</font> (!myButtonOption.palette().currentColorGroup().equals(<font color=darkmagenta><i>QPalette</i></font>.ColorGroup.Disabled)) {
                            <font color=blue>if</font> (myButtonOption.state().isSet(StateFlag.State_Sunken) ||
                                myButtonOption.state().isSet(StateFlag.State_On)) {
                                <font color=darkmagenta><i>QPalette</i></font> pal = myButtonOption.palette();
                                pal.setBrush(<font color=darkmagenta><i>QPalette</i></font>.ColorRole.ButtonText,
                                             myButtonOption.palette().brightText());
                                myButtonOption.setPalette(pal);
                            }
                        }
                    }
                    <font color=blue>super</font>.drawControl(element, myButtonOption, painter, widget);
                <font color=blue>break</font>;
            <font color=blue>default</font>:
                <font color=blue>super</font>.drawControl(element, option, painter, widget);
            }
        }

        <font color=blue>private</font> <font color=blue>void</font> setTexture(<font color=darkmagenta><i>QPalette</i></font> palette, <font color=darkmagenta><i>QPalette</i></font>.ColorRole role, <font color=darkmagenta><i>QPixmap</i></font> pixmap)
        {
            <font color=blue>for</font> (<font color=darkmagenta><i>QPalette</i></font>.ColorGroup cg : <font color=darkmagenta><i>QPalette</i></font>.ColorGroup.values()) {
                <font color=blue>if</font> (cg.value() &gt; 2)
                    <font color=blue>continue</font>;

                <font color=darkmagenta><i>QColor</i></font> color = palette.brush(cg, role).color();
                palette.setBrush(cg, role, <font color=blue>new</font> <font color=darkmagenta><i>QBrush</i></font>(color, pixmap));
            }
        }

        <font color=blue>private</font> <font color=darkmagenta><i>QPainterPath</i></font> roundRectPath(<font color=darkmagenta><i>QRect</i></font> rect)
        {
            <font color=blue>int</font> radius = Math.min(rect.width(), rect.height()) / 2;
            <font color=blue>int</font> diam = 2 * radius;

            <font color=blue>int</font> x1, y1, x2, y2;
            x1 = rect.left();
            y1 = rect.top();
            x2 = rect.right();
            y2 = rect.bottom();

            <font color=darkmagenta><i>QPainterPath</i></font> path = <font color=blue>new</font> <font color=darkmagenta><i>QPainterPath</i></font>();
            path.moveTo(x2, y1 + radius);
            path.arcTo(<font color=blue>new</font> <font color=darkmagenta><i>QRectF</i></font>(x2 - diam, y1, diam, diam), 0.0, +90.0);
            path.lineTo(x1 + radius, y1);
            path.arcTo(<font color=blue>new</font> <font color=darkmagenta><i>QRectF</i></font>(x1, y1, diam, diam), 90.0, +90.0);
            path.lineTo(x1, y2 - radius);
            path.arcTo(<font color=blue>new</font> <font color=darkmagenta><i>QRectF</i></font>(x1, y2 - diam, diam, diam), 180.0, +90.0);
            path.lineTo(x1 + radius, y2);
            path.arcTo(<font color=blue>new</font> <font color=darkmagenta><i>QRectF</i></font>(x2 - diam, y2 - diam, diam, diam), 270.0, +90.0);
            path.closeSubpath();

            <font color=blue>return</font> path;
        }
    } <font color=darkgreen><i>// <font color=blue>class</font> NorwegianWoodStyle
</i></font>
    <font color=blue>public</font> <font color=blue>static</font> <font color=blue>void</font> main(String args[])
    {
        <font color=darkmagenta><i>QApplication</i></font>.initialize(args);

        <font color=blue>new</font> Styles().setVisible(true);

        <font color=darkmagenta><i>QApplication</i></font>.exec();
    }

}
</html></pre><p /><address><hr /><div align="center">
 <table width="100%" cellspacing="0" border="0"><tr class="address">
 <td width="30%">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
 <td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
 <td width="30%" align="right"><div align="right">Qt Jambi 4.5.2_01</div></td>
 </tr></table></div></address></body></html>
